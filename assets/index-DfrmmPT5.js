(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var Om={exports:{}},Ec={};var Ib;function rC(){if(Ib)return Ec;Ib=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:o}}return Ec.Fragment=t,Ec.jsx=e,Ec.jsxs=e,Ec}var Db;function aC(){return Db||(Db=1,Om.exports=rC()),Om.exports}var R=aC(),km={exports:{}},Rt={};var Mb;function oC(){if(Mb)return Rt;Mb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=E&&z[E]||z["@@iterator"],typeof z=="function"?z:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,D={};function B(z,X,lt){this.props=z,this.context=X,this.refs=D,this.updater=lt||M}B.prototype.isReactComponent={},B.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},B.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function tt(){}tt.prototype=B.prototype;function J(z,X,lt){this.props=z,this.context=X,this.refs=D,this.updater=lt||M}var at=J.prototype=new tt;at.constructor=J,N(at,B.prototype),at.isPureReactComponent=!0;var et=Array.isArray;function nt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(z,X,lt){var ut=lt.ref;return{$$typeof:n,type:z,key:X,ref:ut!==void 0?ut:null,props:lt}}function P(z,X){return I(z.type,X,z.props)}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function L(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(lt){return X[lt]})}var O=/\/+/g;function Vt(z,X){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):X.toString(36)}function Dt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(nt,nt):(z.status="pending",z.then(function(X){z.status==="pending"&&(z.status="fulfilled",z.value=X)},function(X){z.status==="pending"&&(z.status="rejected",z.reason=X)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Y(z,X,lt,ut,vt){var bt=typeof z;(bt==="undefined"||bt==="boolean")&&(z=null);var Ut=!1;if(z===null)Ut=!0;else switch(bt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(z.$$typeof){case n:case t:Ut=!0;break;case y:return Ut=z._init,Y(Ut(z._payload),X,lt,ut,vt)}}if(Ut)return vt=vt(z),Ut=ut===""?"."+Vt(z,0):ut,et(vt)?(lt="",Ut!=null&&(lt=Ut.replace(O,"$&/")+"/"),Y(vt,X,lt,"",function(Tt){return Tt})):vt!=null&&(k(vt)&&(vt=P(vt,lt+(vt.key==null||z&&z.key===vt.key?"":(""+vt.key).replace(O,"$&/")+"/")+Ut)),X.push(vt)),1;Ut=0;var Ee=ut===""?".":ut+":";if(et(z))for(var st=0;st<z.length;st++)ut=z[st],bt=Ee+Vt(ut,st),Ut+=Y(ut,X,lt,bt,vt);else if(st=w(z),typeof st=="function")for(z=st.call(z),st=0;!(ut=z.next()).done;)ut=ut.value,bt=Ee+Vt(ut,st++),Ut+=Y(ut,X,lt,bt,vt);else if(bt==="object"){if(typeof z.then=="function")return Y(Dt(z),X,lt,ut,vt);throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function ot(z,X,lt){if(z==null)return z;var ut=[],vt=0;return Y(z,ut,"","",function(bt){return X.call(lt,bt,vt++)}),ut}function dt(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(lt){(z._status===0||z._status===-1)&&(z._status=1,z._result=lt)},function(lt){(z._status===0||z._status===-1)&&(z._status=2,z._result=lt)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var kt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Pt={map:ot,forEach:function(z,X,lt){ot(z,function(){X.apply(this,arguments)},lt)},count:function(z){var X=0;return ot(z,function(){X++}),X},toArray:function(z){return ot(z,function(X){return X})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Rt.Activity=v,Rt.Children=Pt,Rt.Component=B,Rt.Fragment=e,Rt.Profiler=a,Rt.PureComponent=J,Rt.StrictMode=i,Rt.Suspense=f,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return C.H.useMemoCache(z)}},Rt.cache=function(z){return function(){return z.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(z,X,lt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ut=N({},z.props),vt=z.key;if(X!=null)for(bt in X.key!==void 0&&(vt=""+X.key),X)!A.call(X,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&X.ref===void 0||(ut[bt]=X[bt]);var bt=arguments.length-2;if(bt===1)ut.children=lt;else if(1<bt){for(var Ut=Array(bt),Ee=0;Ee<bt;Ee++)Ut[Ee]=arguments[Ee+2];ut.children=Ut}return I(z.type,vt,ut)},Rt.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Rt.createElement=function(z,X,lt){var ut,vt={},bt=null;if(X!=null)for(ut in X.key!==void 0&&(bt=""+X.key),X)A.call(X,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(vt[ut]=X[ut]);var Ut=arguments.length-2;if(Ut===1)vt.children=lt;else if(1<Ut){for(var Ee=Array(Ut),st=0;st<Ut;st++)Ee[st]=arguments[st+2];vt.children=Ee}if(z&&z.defaultProps)for(ut in Ut=z.defaultProps,Ut)vt[ut]===void 0&&(vt[ut]=Ut[ut]);return I(z,bt,vt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(z){return{$$typeof:h,render:z}},Rt.isValidElement=k,Rt.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:dt}},Rt.memo=function(z,X){return{$$typeof:g,type:z,compare:X===void 0?null:X}},Rt.startTransition=function(z){var X=C.T,lt={};C.T=lt;try{var ut=z(),vt=C.S;vt!==null&&vt(lt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(nt,kt)}catch(bt){kt(bt)}finally{X!==null&&lt.types!==null&&(X.types=lt.types),C.T=X}},Rt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Rt.use=function(z){return C.H.use(z)},Rt.useActionState=function(z,X,lt){return C.H.useActionState(z,X,lt)},Rt.useCallback=function(z,X){return C.H.useCallback(z,X)},Rt.useContext=function(z){return C.H.useContext(z)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(z,X){return C.H.useDeferredValue(z,X)},Rt.useEffect=function(z,X){return C.H.useEffect(z,X)},Rt.useEffectEvent=function(z){return C.H.useEffectEvent(z)},Rt.useId=function(){return C.H.useId()},Rt.useImperativeHandle=function(z,X,lt){return C.H.useImperativeHandle(z,X,lt)},Rt.useInsertionEffect=function(z,X){return C.H.useInsertionEffect(z,X)},Rt.useLayoutEffect=function(z,X){return C.H.useLayoutEffect(z,X)},Rt.useMemo=function(z,X){return C.H.useMemo(z,X)},Rt.useOptimistic=function(z,X){return C.H.useOptimistic(z,X)},Rt.useReducer=function(z,X,lt){return C.H.useReducer(z,X,lt)},Rt.useRef=function(z){return C.H.useRef(z)},Rt.useState=function(z){return C.H.useState(z)},Rt.useSyncExternalStore=function(z,X,lt){return C.H.useSyncExternalStore(z,X,lt)},Rt.useTransition=function(){return C.H.useTransition()},Rt.version="19.2.3",Rt}var Nb;function Zp(){return Nb||(Nb=1,km.exports=oC()),km.exports}var Yt=Zp(),Pm={exports:{}},Sc={},Vm={exports:{}},Lm={};var Ob;function lC(){return Ob||(Ob=1,(function(n){function t(Y,ot){var dt=Y.length;Y.push(ot);t:for(;0<dt;){var kt=dt-1>>>1,Pt=Y[kt];if(0<a(Pt,ot))Y[kt]=ot,Y[dt]=Pt,dt=kt;else break t}}function e(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ot=Y[0],dt=Y.pop();if(dt!==ot){Y[0]=dt;t:for(var kt=0,Pt=Y.length,z=Pt>>>1;kt<z;){var X=2*(kt+1)-1,lt=Y[X],ut=X+1,vt=Y[ut];if(0>a(lt,dt))ut<Pt&&0>a(vt,lt)?(Y[kt]=vt,Y[ut]=dt,kt=ut):(Y[kt]=lt,Y[X]=dt,kt=X);else if(ut<Pt&&0>a(vt,dt))Y[kt]=vt,Y[ut]=dt,kt=ut;else break t}}return ot}function a(Y,ot){var dt=Y.sortIndex-ot.sortIndex;return dt!==0?dt:Y.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],y=1,v=null,E=3,w=!1,M=!1,N=!1,D=!1,B=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function at(Y){for(var ot=e(g);ot!==null;){if(ot.callback===null)i(g);else if(ot.startTime<=Y)i(g),ot.sortIndex=ot.expirationTime,t(f,ot);else break;ot=e(g)}}function et(Y){if(N=!1,at(Y),!M)if(e(f)!==null)M=!0,nt||(nt=!0,L());else{var ot=e(g);ot!==null&&Dt(et,ot.startTime-Y)}}var nt=!1,C=-1,A=5,I=-1;function P(){return D?!0:!(n.unstable_now()-I<A)}function k(){if(D=!1,nt){var Y=n.unstable_now();I=Y;var ot=!0;try{t:{M=!1,N&&(N=!1,tt(C),C=-1),w=!0;var dt=E;try{e:{for(at(Y),v=e(f);v!==null&&!(v.expirationTime>Y&&P());){var kt=v.callback;if(typeof kt=="function"){v.callback=null,E=v.priorityLevel;var Pt=kt(v.expirationTime<=Y);if(Y=n.unstable_now(),typeof Pt=="function"){v.callback=Pt,at(Y),ot=!0;break e}v===e(f)&&i(f),at(Y)}else i(f);v=e(f)}if(v!==null)ot=!0;else{var z=e(g);z!==null&&Dt(et,z.startTime-Y),ot=!1}}break t}finally{v=null,E=dt,w=!1}ot=void 0}}finally{ot?L():nt=!1}}}var L;if(typeof J=="function")L=function(){J(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Vt=O.port2;O.port1.onmessage=k,L=function(){Vt.postMessage(null)}}else L=function(){B(k,0)};function Dt(Y,ot){C=B(function(){Y(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var ot=3;break;default:ot=E}var dt=E;E=ot;try{return Y()}finally{E=dt}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(Y,ot){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var dt=E;E=Y;try{return ot()}finally{E=dt}},n.unstable_scheduleCallback=function(Y,ot,dt){var kt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?kt+dt:kt):dt=kt,Y){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=dt+Pt,Y={id:y++,callback:ot,priorityLevel:Y,startTime:dt,expirationTime:Pt,sortIndex:-1},dt>kt?(Y.sortIndex=dt,t(g,Y),e(f)===null&&Y===e(g)&&(N?(tt(C),C=-1):N=!0,Dt(et,dt-kt))):(Y.sortIndex=Pt,t(f,Y),M||w||(M=!0,nt||(nt=!0,L()))),Y},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(Y){var ot=E;return function(){var dt=E;E=ot;try{return Y.apply(this,arguments)}finally{E=dt}}}})(Lm)),Lm}var kb;function cC(){return kb||(kb=1,Vm.exports=lC()),Vm.exports}var zm={exports:{}},un={};var Pb;function uC(){if(Pb)return un;Pb=1;var n=Zp();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,un.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,y)},un.flushSync=function(f){var g=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=y,i.d.f()}},un.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},un.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},un.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:w}):y==="script"&&i.d.X(f,{crossOrigin:v,integrity:E,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},un.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin);i.d.L(f,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},un.requestFormReset=function(f){i.d.r(f)},un.unstable_batchedUpdates=function(f,g){return f(g)},un.useFormState=function(f,g,y){return c.H.useFormState(f,g,y)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.2.3",un}var Vb;function hC(){if(Vb)return zm.exports;Vb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),zm.exports=uC(),zm.exports}var Lb;function fC(){if(Lb)return Sc;Lb=1;var n=cC(),t=Zp(),e=hC();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,u=r;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return f(m),s;if(p===u)return f(m),r;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=m,u=p;else{for(var b=!1,S=m.child;S;){if(S===l){b=!0,l=m,u=p;break}if(S===u){b=!0,u=m,l=p;break}S=S.sibling}if(!b){for(S=p.child;S;){if(S===l){b=!0,l=p,u=m;break}if(S===u){b=!0,u=p,l=m;break}S=S.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),J=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Vt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case B:return"Profiler";case D:return"StrictMode";case et:return"Suspense";case nt:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case M:return"Portal";case J:return s.displayName||"Context";case tt:return(s._context.displayName||"Context")+".Consumer";case at:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return r=s.displayName||null,r!==null?r:Vt(s.type)||"Memo";case A:r=s._payload,s=s._init;try{return Vt(s(r))}catch{}}return null}var Dt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},kt=[],Pt=-1;function z(s){return{current:s}}function X(s){0>Pt||(s.current=kt[Pt],kt[Pt]=null,Pt--)}function lt(s,r){Pt++,kt[Pt]=s.current,s.current=r}var ut=z(null),vt=z(null),bt=z(null),Ut=z(null);function Ee(s,r){switch(lt(bt,r),lt(vt,s),lt(ut,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Zv(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Zv(r),s=Jv(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}X(ut),lt(ut,s)}function st(){X(ut),X(vt),X(bt)}function Tt(s){s.memoizedState!==null&&lt(Ut,s);var r=ut.current,l=Jv(r,s.type);r!==l&&(lt(vt,s),lt(ut,l))}function pt(s){vt.current===s&&(X(ut),X(vt)),Ut.current===s&&(X(Ut),_c._currentValue=dt)}var yt,At;function ee(s){if(yt===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);yt=r&&r[1]||"",At=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yt+s+At}var fe=!1;function Ae(s,r){if(!s||fe)return"";fe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var G=Q}Reflect.construct(s,[],Z)}else{try{Z.call()}catch(Q){G=Q}s.call(Z.prototype)}}else{try{throw Error()}catch(Q){G=Q}(Z=s())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],S=p[1];if(b&&S){var V=b.split(`
`),q=S.split(`
`);for(m=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(u===V.length||m===q.length)for(u=V.length-1,m=q.length-1;1<=u&&0<=m&&V[u]!==q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(V[u]!==q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||V[u]!==q[m]){var $=`
`+V[u].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=u&&0<=m);break}}}finally{fe=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?ee(l):""}function Pn(s,r){switch(s.tag){case 26:case 27:case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return s.child!==r&&r!==null?ee("Suspense Fallback"):ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return Ae(s.type,!1);case 11:return Ae(s.type.render,!1);case 1:return Ae(s.type,!0);case 31:return ee("Activity");default:return""}}function ms(s){try{var r="",l=null;do r+=Pn(s,l),l=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var be=Object.prototype.hasOwnProperty,Ce=n.unstable_scheduleCallback,$s=n.unstable_cancelCallback,Pd=n.unstable_shouldYield,Tu=n.unstable_requestPaint,vn=n.unstable_now,Zr=n.unstable_getCurrentPriorityLevel,Tl=n.unstable_ImmediatePriority,El=n.unstable_UserBlockingPriority,Xs=n.unstable_NormalPriority,Vd=n.unstable_LowPriority,Eu=n.unstable_IdlePriority,Su=n.log,wu=n.unstable_setDisableYieldValue,di=null,tn=null;function Kn(s){if(typeof Su=="function"&&wu(s),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(di,s)}catch{}}var Re=Math.clz32?Math.clz32:Au,xu=Math.log,Ja=Math.LN2;function Au(s){return s>>>=0,s===0?32:31-(xu(s)/Ja|0)|0}var Ni=256,Jr=262144,ke=4194304;function Oi(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ki(s,r,l){var u=s.pendingLanes;if(u===0)return 0;var m=0,p=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?m=Oi(u):(b&=S,b!==0?m=Oi(b):l||(l=S&~s,l!==0&&(m=Oi(l))))):(S=u&~p,S!==0?m=Oi(S):b!==0?m=Oi(b):l||(l=u&~s,l!==0&&(m=Oi(l)))),m===0?0:r!==0&&r!==m&&(r&p)===0&&(p=m&-m,l=r&-r,p>=l||p===32&&(l&4194048)!==0)?r:m}function gi(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Ld(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cu(){var s=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),s}function Pi(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function ta(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function zd(s,r,l,u,m,p){var b=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,V=s.expirationTimes,q=s.hiddenUpdates;for(l=b&~l;0<l;){var $=31-Re(l),Z=1<<$;S[$]=0,V[$]=-1;var G=q[$];if(G!==null)for(q[$]=null,$=0;$<G.length;$++){var Q=G[$];Q!==null&&(Q.lane&=-536870913)}l&=~Z}u!==0&&ea(s,u,0),p!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~r))}function ea(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-Re(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function Sl(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var u=31-Re(l),m=1<<u;m&r|s[u]&r&&(s[u]|=r),l&=~m}}function wl(s,r){var l=r&-r;return l=(l&42)!==0?1:na(l),(l&(s.suspendedLanes|r))!==0?0:l}function na(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ps(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ru(){var s=ot.p;return s!==0?s:(s=window.event,s===void 0?32:Eb(s.type))}function mi(s,r){var l=ot.p;try{return ot.p=s,r()}finally{ot.p=l}}var pi=Math.random().toString(36).slice(2),Pe="__reactFiber$"+pi,$e="__reactProps$"+pi,Vi="__reactContainer$"+pi,to="__reactEvents$"+pi,Ud="__reactListeners$"+pi,Iu="__reactHandles$"+pi,Du="__reactResources$"+pi,Li="__reactMarker$"+pi;function eo(s){delete s[Pe],delete s[$e],delete s[to],delete s[Ud],delete s[Iu]}function zi(s){var r=s[Pe];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Vi]||l[Pe]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=ab(s);s!==null;){if(l=s[Pe])return l;s=ab(s)}return r}s=l,l=s.parentNode}return null}function Qn(s){if(s=s[Pe]||s[Vi]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Vn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ui(s){var r=s[Du];return r||(r=s[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ve(s){s[Li]=!0}var xl=new Set,Al={};function ji(s,r){Bi(s,r),Bi(s+"Capture",r)}function Bi(s,r){for(Al[s]=r,s=0;s<r.length;s++)xl.add(r[s])}var Cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rl={},Il={};function Mu(s){return be.call(Il,s)?!0:be.call(Rl,s)?!1:Cl.test(s)?Il[s]=!0:(Rl[s]=!0,!1)}function no(s,r,l){if(Mu(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function Ln(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function Le(s,r,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+u)}}function Xe(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ws(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Dl(s,r,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,p=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function ne(s){if(!s._valueTracker){var r=Ws(s)?"checked":"value";s._valueTracker=Dl(s,r,""+s[r])}}function ia(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return s&&(u=Ws(s)?s.checked?"true":"false":s.value),s=u,s!==l?(r.setValue(s),!0):!1}function Fi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var sa=/[\n"\\]/g;function Sn(s){return s.replace(sa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function io(s,r,l,u,m,p,b,S){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),r!=null?b==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Xe(r)):s.value!==""+Xe(r)&&(s.value=""+Xe(r)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),r!=null?Ml(s,b,Xe(r)):l!=null?Ml(s,b,Xe(l)):u!=null&&s.removeAttribute("value"),m==null&&p!=null&&(s.defaultChecked=!!p),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Xe(S):s.removeAttribute("name")}function Nu(s,r,l,u,m,p,b,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){ne(s);return}l=l!=null?""+Xe(l):"",r=r!=null?""+Xe(r):l,S||r===s.value||(s.value=r),s.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),ne(s)}function Ml(s,r,l){r==="number"&&Fi(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Zs(s,r,l,u){if(s=s.options,r){r={};for(var m=0;m<l.length;m++)r["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=r.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Xe(l),r=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function Ou(s,r,l){if(r!=null&&(r=""+Xe(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+Xe(l):""}function Js(s,r,l,u){if(r==null){if(u!=null){if(l!=null)throw Error(i(92));if(Dt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),r=l}l=Xe(r),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),ne(s)}function wn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nl(s,r,l){var u=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,l):typeof l!="number"||l===0||ku.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function Ol(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&l[m]!==u&&Nl(s,m,u)}else for(var p in r)r.hasOwnProperty(p)&&Nl(s,p,r[p])}function so(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ro(s){return tr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function yi(){}var kl=null;function $n(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var er=null,Hi=null;function ra(s){var r=Qn(s);if(r&&(s=r.stateNode)){var l=s[$e]||null;t:switch(s=r.stateNode,r.type){case"input":if(io(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Sn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==s&&u.form===s.form){var m=u[$e]||null;if(!m)throw Error(i(90));io(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<l.length;r++)u=l[r],u.form===s.form&&ia(u)}break t;case"textarea":Ou(s,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Zs(s,!!l.multiple,r,!1)}}}var ao=!1;function nr(s,r,l){if(ao)return s(r,l);ao=!0;try{var u=s(r);return u}finally{if(ao=!1,(er!==null||Hi!==null)&&(Rh(),er&&(r=er,s=Hi,Hi=er=null,ra(r),s)))for(r=0;r<s.length;r++)ra(s[r])}}function _i(s,r){var l=s.stateNode;if(l===null)return null;var u=l[$e]||null;if(u===null)return null;l=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aa=!1;if(Xn)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){aa=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{aa=!1}var qi=null,Pl=null,oa=null;function Vl(){if(oa)return oa;var s,r=Pl,l=r.length,u,m="value"in qi?qi.value:qi.textContent,p=m.length;for(s=0;s<l&&r[s]===m[s];s++);var b=l-s;for(u=1;u<=b&&r[l-u]===m[p-u];u++);return oa=m.slice(s,1<u?1-u:void 0)}function la(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function ys(){return!0}function vi(){return!1}function en(s){function r(l,u,m,p,b){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ys:vi,this.isPropagationStopped=vi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),r}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=en(_s),ir=v({},_s,{view:0,detail:0}),Ll=en(ir),sr,oo,Yi,lo=v({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Yi&&(Yi&&s.type==="mousemove"?(sr=s.screenX-Yi.screenX,oo=s.screenY-Yi.screenY):oo=sr=0,Yi=s),sr)},movementY:function(s){return"movementY"in s?s.movementY:oo}}),zl=en(lo),ca=v({},lo,{dataTransfer:0}),Vu=en(ca),Lu=v({},ir,{relatedTarget:0}),ua=en(Lu),Ul=v({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=en(Ul),co=v({},_s,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Uu=en(co),ju=v({},_s,{data:0}),Ki=en(ju),Bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Hu[s])?!!r[s]:!1}function rr(){return qu}var bn=v({},ir,{key:function(s){if(s.key){var r=Bu[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=la(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(s){return s.type==="keypress"?la(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?la(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Gu=en(bn),Yu=v({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vs=en(Yu),d=v({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),_=en(d),T=v({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=en(T),F=v({},lo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),K=en(F),ct=v({},_s,{newState:0,oldState:0}),Mt=en(ct),Ie=[9,13,27,32],Zt=Xn&&"CompositionEvent"in window,_e=null;Xn&&"documentMode"in document&&(_e=document.documentMode);var Wn=Xn&&"TextEvent"in window&&!_e,Qi=Xn&&(!Zt||_e&&8<_e&&11>=_e),bi=" ",Ti=!1;function ha(s,r){switch(s){case"keyup":return Ie.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ho=!1;function IA(s,r){switch(s){case"compositionend":return uo(r);case"keypress":return r.which!==32?null:(Ti=!0,bi);case"textInput":return s=r.data,s===bi&&Ti?null:s;default:return null}}function DA(s,r){if(ho)return s==="compositionend"||!Zt&&ha(s,r)?(s=Vl(),oa=Pl=qi=null,ho=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Qi&&r.locale!=="ko"?null:r.data;default:return null}}var MA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c_(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!MA[s.type]:r==="textarea"}function u_(s,r,l,u){er?Hi?Hi.push(u):Hi=[u]:er=u,r=Ph(r,"onChange"),0<r.length&&(l=new Gi("onChange","change",null,l,u),s.push({event:l,listeners:r}))}var jl=null,Bl=null;function NA(s){Yv(s,0)}function Ku(s){var r=Vn(s);if(ia(r))return s}function h_(s,r){if(s==="change")return r}var f_=!1;if(Xn){var jd;if(Xn){var Bd="oninput"in document;if(!Bd){var d_=document.createElement("div");d_.setAttribute("oninput","return;"),Bd=typeof d_.oninput=="function"}jd=Bd}else jd=!1;f_=jd&&(!document.documentMode||9<document.documentMode)}function g_(){jl&&(jl.detachEvent("onpropertychange",m_),Bl=jl=null)}function m_(s){if(s.propertyName==="value"&&Ku(Bl)){var r=[];u_(r,Bl,s,$n(s)),nr(NA,r)}}function OA(s,r,l){s==="focusin"?(g_(),jl=r,Bl=l,jl.attachEvent("onpropertychange",m_)):s==="focusout"&&g_()}function kA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ku(Bl)}function PA(s,r){if(s==="click")return Ku(r)}function VA(s,r){if(s==="input"||s==="change")return Ku(r)}function LA(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var zn=typeof Object.is=="function"?Object.is:LA;function Fl(s,r){if(zn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!be.call(r,m)||!zn(s[m],r[m]))return!1}return!0}function p_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function y_(s,r){var l=p_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=r&&u>=r)return{node:l,offset:r-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=p_(l)}}function __(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?__(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function v_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Fi(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=Fi(s.document)}return r}function Fd(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var zA=Xn&&"documentMode"in document&&11>=document.documentMode,fo=null,Hd=null,Hl=null,qd=!1;function b_(s,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;qd||fo==null||fo!==Fi(u)||(u=fo,"selectionStart"in u&&Fd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hl&&Fl(Hl,u)||(Hl=u,u=Ph(Hd,"onSelect"),0<u.length&&(r=new Gi("onSelect","select",null,r,l),s.push({event:r,listeners:u}),r.target=fo)))}function fa(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var go={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},Gd={},T_={};Xn&&(T_=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function da(s){if(Gd[s])return Gd[s];if(!go[s])return s;var r=go[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in T_)return Gd[s]=r[l];return s}var E_=da("animationend"),S_=da("animationiteration"),w_=da("animationstart"),UA=da("transitionrun"),jA=da("transitionstart"),BA=da("transitioncancel"),x_=da("transitionend"),A_=new Map,Yd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yd.push("scrollEnd");function Ei(s,r){A_.set(s,r),ji(r,[s])}var Qu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Zn=[],mo=0,Kd=0;function $u(){for(var s=mo,r=Kd=mo=0;r<s;){var l=Zn[r];Zn[r++]=null;var u=Zn[r];Zn[r++]=null;var m=Zn[r];Zn[r++]=null;var p=Zn[r];if(Zn[r++]=null,u!==null&&m!==null){var b=u.pending;b===null?m.next=m:(m.next=b.next,b.next=m),u.pending=m}p!==0&&C_(l,m,p)}}function Xu(s,r,l,u){Zn[mo++]=s,Zn[mo++]=r,Zn[mo++]=l,Zn[mo++]=u,Kd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Qd(s,r,l,u){return Xu(s,r,l,u),Wu(s)}function ga(s,r){return Xu(s,null,null,r),Wu(s)}function C_(s,r,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var m=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(m=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,m&&r!==null&&(m=31-Re(l),s=p.hiddenUpdates,u=s[m],u===null?s[m]=[r]:u.push(r),r.lane=l|536870912),p):null}function Wu(s){if(50<hc)throw hc=0,im=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var po={};function FA(s,r,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(s,r,l,u){return new FA(s,r,l,u)}function $d(s){return s=s.prototype,!(!s||!s.isReactComponent)}function bs(s,r){var l=s.alternate;return l===null?(l=Un(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function R_(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Zu(s,r,l,u,m,p){var b=0;if(u=s,typeof s=="function")$d(s)&&(b=1);else if(typeof s=="string")b=K2(s,l,ut.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case I:return s=Un(31,l,r,m),s.elementType=I,s.lanes=p,s;case N:return ma(l.children,m,p,r);case D:b=8,m|=24;break;case B:return s=Un(12,l,r,m|2),s.elementType=B,s.lanes=p,s;case et:return s=Un(13,l,r,m),s.elementType=et,s.lanes=p,s;case nt:return s=Un(19,l,r,m),s.elementType=nt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case J:b=10;break t;case tt:b=9;break t;case at:b=11;break t;case C:b=14;break t;case A:b=16,u=null;break t}b=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Un(b,l,r,m),r.elementType=s,r.type=u,r.lanes=p,r}function ma(s,r,l,u){return s=Un(7,s,u,r),s.lanes=l,s}function Xd(s,r,l){return s=Un(6,s,null,r),s.lanes=l,s}function I_(s){var r=Un(18,null,null,0);return r.stateNode=s,r}function Wd(s,r,l){return r=Un(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var D_=new WeakMap;function Jn(s,r){if(typeof s=="object"&&s!==null){var l=D_.get(s);return l!==void 0?l:(r={value:s,source:r,stack:ms(r)},D_.set(s,r),r)}return{value:s,source:r,stack:ms(r)}}var yo=[],_o=0,Ju=null,ql=0,ti=[],ei=0,ar=null,$i=1,Xi="";function Ts(s,r){yo[_o++]=ql,yo[_o++]=Ju,Ju=s,ql=r}function M_(s,r,l){ti[ei++]=$i,ti[ei++]=Xi,ti[ei++]=ar,ar=s;var u=$i;s=Xi;var m=32-Re(u)-1;u&=~(1<<m),l+=1;var p=32-Re(r)+m;if(30<p){var b=m-m%5;p=(u&(1<<b)-1).toString(32),u>>=b,m-=b,$i=1<<32-Re(r)+m|l<<m|u,Xi=p+s}else $i=1<<p|l<<m|u,Xi=s}function Zd(s){s.return!==null&&(Ts(s,1),M_(s,1,0))}function Jd(s){for(;s===Ju;)Ju=yo[--_o],yo[_o]=null,ql=yo[--_o],yo[_o]=null;for(;s===ar;)ar=ti[--ei],ti[ei]=null,Xi=ti[--ei],ti[ei]=null,$i=ti[--ei],ti[ei]=null}function N_(s,r){ti[ei++]=$i,ti[ei++]=Xi,ti[ei++]=ar,$i=r.id,Xi=r.overflow,ar=s}var nn=null,de=null,Gt=!1,or=null,ni=!1,tg=Error(i(519));function lr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(Jn(r,s)),tg}function O_(s){var r=s.stateNode,l=s.type,u=s.memoizedProps;switch(r[Pe]=s,r[$e]=u,l){case"dialog":zt("cancel",r),zt("close",r);break;case"iframe":case"object":case"embed":zt("load",r);break;case"video":case"audio":for(l=0;l<dc.length;l++)zt(dc[l],r);break;case"source":zt("error",r);break;case"img":case"image":case"link":zt("error",r),zt("load",r);break;case"details":zt("toggle",r);break;case"input":zt("invalid",r),Nu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":zt("invalid",r);break;case"textarea":zt("invalid",r),Js(r,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||u.suppressHydrationWarning===!0||Xv(r.textContent,l)?(u.popover!=null&&(zt("beforetoggle",r),zt("toggle",r)),u.onScroll!=null&&zt("scroll",r),u.onScrollEnd!=null&&zt("scrollend",r),u.onClick!=null&&(r.onclick=yi),r=!0):r=!1,r||lr(s,!0)}function k_(s){for(nn=s.return;nn;)switch(nn.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:nn=nn.return}}function vo(s){if(s!==nn)return!1;if(!Gt)return k_(s),Gt=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||_m(s.type,s.memoizedProps)),l=!l),l&&de&&lr(s),k_(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));de=rb(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));de=rb(s)}else r===27?(r=de,Er(s.type)?(s=Sm,Sm=null,de=s):de=r):de=nn?si(s.stateNode.nextSibling):null;return!0}function pa(){de=nn=null,Gt=!1}function eg(){var s=or;return s!==null&&(Rn===null?Rn=s:Rn.push.apply(Rn,s),or=null),s}function Gl(s){or===null?or=[s]:or.push(s)}var ng=z(null),ya=null,Es=null;function cr(s,r,l){lt(ng,r._currentValue),r._currentValue=l}function Ss(s){s._currentValue=ng.current,X(ng)}function ig(s,r,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===l)break;s=s.return}}function sg(s,r,l,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var p=m.dependencies;if(p!==null){var b=m.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=m;for(var V=0;V<r.length;V++)if(S.context===r[V]){p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),ig(p.return,l,s),u||(b=null);break t}p=S.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(i(341));b.lanes|=l,p=b.alternate,p!==null&&(p.lanes|=l),ig(b,l,s),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===s){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function bo(s,r,l,u){s=null;for(var m=r,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var S=m.type;zn(m.pendingProps.value,b.value)||(s!==null?s.push(S):s=[S])}}else if(m===Ut.current){if(b=m.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(_c):s=[_c])}m=m.return}s!==null&&sg(r,s,l,u),r.flags|=262144}function th(s){for(s=s.firstContext;s!==null;){if(!zn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function _a(s){ya=s,Es=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function sn(s){return P_(ya,s)}function eh(s,r){return ya===null&&_a(s),P_(s,r)}function P_(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Es===null){if(s===null)throw Error(i(308));Es=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Es=Es.next=r;return l}var HA=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},qA=n.unstable_scheduleCallback,GA=n.unstable_NormalPriority,ze={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rg(){return{controller:new HA,data:new Map,refCount:0}}function Yl(s){s.refCount--,s.refCount===0&&qA(GA,function(){s.controller.abort()})}var Kl=null,ag=0,To=0,Eo=null;function YA(s,r){if(Kl===null){var l=Kl=[];ag=0,To=cm(),Eo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ag++,r.then(V_,V_),r}function V_(){if(--ag===0&&Kl!==null){Eo!==null&&(Eo.status="fulfilled");var s=Kl;Kl=null,To=0,Eo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function KA(s,r){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<l.length;m++)(0,l[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var L_=Y.S;Y.S=function(s,r){bv=vn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&YA(s,r),L_!==null&&L_(s,r)};var va=z(null);function og(){var s=va.current;return s!==null?s:ue.pooledCache}function nh(s,r){r===null?lt(va,va.current):lt(va,r.pool)}function z_(){var s=og();return s===null?null:{parent:ze._currentValue,pool:s}}var So=Error(i(460)),lg=Error(i(474)),ih=Error(i(542)),sh={then:function(){}};function U_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function j_(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(yi,yi),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,F_(s),s;default:if(typeof r.status=="string")r.then(yi,yi);else{if(s=ue,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,F_(s),s}throw Ta=r,So}}function ba(s){try{var r=s._init;return r(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ta=l,So):l}}var Ta=null;function B_(){if(Ta===null)throw Error(i(459));var s=Ta;return Ta=null,s}function F_(s){if(s===So||s===ih)throw Error(i(483))}var wo=null,Ql=0;function rh(s){var r=Ql;return Ql+=1,wo===null&&(wo=[]),j_(wo,s,r)}function $l(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function ah(s,r){throw r.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function H_(s){function r(j,U){if(s){var H=j.deletions;H===null?(j.deletions=[U],j.flags|=16):H.push(U)}}function l(j,U){if(!s)return null;for(;U!==null;)r(j,U),U=U.sibling;return null}function u(j){for(var U=new Map;j!==null;)j.key!==null?U.set(j.key,j):U.set(j.index,j),j=j.sibling;return U}function m(j,U){return j=bs(j,U),j.index=0,j.sibling=null,j}function p(j,U,H){return j.index=H,s?(H=j.alternate,H!==null?(H=H.index,H<U?(j.flags|=67108866,U):H):(j.flags|=67108866,U)):(j.flags|=1048576,U)}function b(j){return s&&j.alternate===null&&(j.flags|=67108866),j}function S(j,U,H,W){return U===null||U.tag!==6?(U=Xd(H,j.mode,W),U.return=j,U):(U=m(U,H),U.return=j,U)}function V(j,U,H,W){var _t=H.type;return _t===N?$(j,U,H.props.children,W,H.key):U!==null&&(U.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&ba(_t)===U.type)?(U=m(U,H.props),$l(U,H),U.return=j,U):(U=Zu(H.type,H.key,H.props,null,j.mode,W),$l(U,H),U.return=j,U)}function q(j,U,H,W){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=Wd(H,j.mode,W),U.return=j,U):(U=m(U,H.children||[]),U.return=j,U)}function $(j,U,H,W,_t){return U===null||U.tag!==7?(U=ma(H,j.mode,W,_t),U.return=j,U):(U=m(U,H),U.return=j,U)}function Z(j,U,H){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Xd(""+U,j.mode,H),U.return=j,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return H=Zu(U.type,U.key,U.props,null,j.mode,H),$l(H,U),H.return=j,H;case M:return U=Wd(U,j.mode,H),U.return=j,U;case A:return U=ba(U),Z(j,U,H)}if(Dt(U)||L(U))return U=ma(U,j.mode,H,null),U.return=j,U;if(typeof U.then=="function")return Z(j,rh(U),H);if(U.$$typeof===J)return Z(j,eh(j,U),H);ah(j,U)}return null}function G(j,U,H,W){var _t=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _t!==null?null:S(j,U,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===_t?V(j,U,H,W):null;case M:return H.key===_t?q(j,U,H,W):null;case A:return H=ba(H),G(j,U,H,W)}if(Dt(H)||L(H))return _t!==null?null:$(j,U,H,W,null);if(typeof H.then=="function")return G(j,U,rh(H),W);if(H.$$typeof===J)return G(j,U,eh(j,H),W);ah(j,H)}return null}function Q(j,U,H,W,_t){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return j=j.get(H)||null,S(U,j,""+W,_t);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return j=j.get(W.key===null?H:W.key)||null,V(U,j,W,_t);case M:return j=j.get(W.key===null?H:W.key)||null,q(U,j,W,_t);case A:return W=ba(W),Q(j,U,H,W,_t)}if(Dt(W)||L(W))return j=j.get(H)||null,$(U,j,W,_t,null);if(typeof W.then=="function")return Q(j,U,H,rh(W),_t);if(W.$$typeof===J)return Q(j,U,H,eh(U,W),_t);ah(U,W)}return null}function ft(j,U,H,W){for(var _t=null,Xt=null,gt=U,Ot=U=0,Bt=null;gt!==null&&Ot<H.length;Ot++){gt.index>Ot?(Bt=gt,gt=null):Bt=gt.sibling;var Wt=G(j,gt,H[Ot],W);if(Wt===null){gt===null&&(gt=Bt);break}s&&gt&&Wt.alternate===null&&r(j,gt),U=p(Wt,U,Ot),Xt===null?_t=Wt:Xt.sibling=Wt,Xt=Wt,gt=Bt}if(Ot===H.length)return l(j,gt),Gt&&Ts(j,Ot),_t;if(gt===null){for(;Ot<H.length;Ot++)gt=Z(j,H[Ot],W),gt!==null&&(U=p(gt,U,Ot),Xt===null?_t=gt:Xt.sibling=gt,Xt=gt);return Gt&&Ts(j,Ot),_t}for(gt=u(gt);Ot<H.length;Ot++)Bt=Q(gt,j,Ot,H[Ot],W),Bt!==null&&(s&&Bt.alternate!==null&&gt.delete(Bt.key===null?Ot:Bt.key),U=p(Bt,U,Ot),Xt===null?_t=Bt:Xt.sibling=Bt,Xt=Bt);return s&&gt.forEach(function(Cr){return r(j,Cr)}),Gt&&Ts(j,Ot),_t}function St(j,U,H,W){if(H==null)throw Error(i(151));for(var _t=null,Xt=null,gt=U,Ot=U=0,Bt=null,Wt=H.next();gt!==null&&!Wt.done;Ot++,Wt=H.next()){gt.index>Ot?(Bt=gt,gt=null):Bt=gt.sibling;var Cr=G(j,gt,Wt.value,W);if(Cr===null){gt===null&&(gt=Bt);break}s&&gt&&Cr.alternate===null&&r(j,gt),U=p(Cr,U,Ot),Xt===null?_t=Cr:Xt.sibling=Cr,Xt=Cr,gt=Bt}if(Wt.done)return l(j,gt),Gt&&Ts(j,Ot),_t;if(gt===null){for(;!Wt.done;Ot++,Wt=H.next())Wt=Z(j,Wt.value,W),Wt!==null&&(U=p(Wt,U,Ot),Xt===null?_t=Wt:Xt.sibling=Wt,Xt=Wt);return Gt&&Ts(j,Ot),_t}for(gt=u(gt);!Wt.done;Ot++,Wt=H.next())Wt=Q(gt,j,Ot,Wt.value,W),Wt!==null&&(s&&Wt.alternate!==null&&gt.delete(Wt.key===null?Ot:Wt.key),U=p(Wt,U,Ot),Xt===null?_t=Wt:Xt.sibling=Wt,Xt=Wt);return s&&gt.forEach(function(sC){return r(j,sC)}),Gt&&Ts(j,Ot),_t}function ce(j,U,H,W){if(typeof H=="object"&&H!==null&&H.type===N&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:t:{for(var _t=H.key;U!==null;){if(U.key===_t){if(_t=H.type,_t===N){if(U.tag===7){l(j,U.sibling),W=m(U,H.props.children),W.return=j,j=W;break t}}else if(U.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&ba(_t)===U.type){l(j,U.sibling),W=m(U,H.props),$l(W,H),W.return=j,j=W;break t}l(j,U);break}else r(j,U);U=U.sibling}H.type===N?(W=ma(H.props.children,j.mode,W,H.key),W.return=j,j=W):(W=Zu(H.type,H.key,H.props,null,j.mode,W),$l(W,H),W.return=j,j=W)}return b(j);case M:t:{for(_t=H.key;U!==null;){if(U.key===_t)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){l(j,U.sibling),W=m(U,H.children||[]),W.return=j,j=W;break t}else{l(j,U);break}else r(j,U);U=U.sibling}W=Wd(H,j.mode,W),W.return=j,j=W}return b(j);case A:return H=ba(H),ce(j,U,H,W)}if(Dt(H))return ft(j,U,H,W);if(L(H)){if(_t=L(H),typeof _t!="function")throw Error(i(150));return H=_t.call(H),St(j,U,H,W)}if(typeof H.then=="function")return ce(j,U,rh(H),W);if(H.$$typeof===J)return ce(j,U,eh(j,H),W);ah(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,U!==null&&U.tag===6?(l(j,U.sibling),W=m(U,H),W.return=j,j=W):(l(j,U),W=Xd(H,j.mode,W),W.return=j,j=W),b(j)):l(j,U)}return function(j,U,H,W){try{Ql=0;var _t=ce(j,U,H,W);return wo=null,_t}catch(gt){if(gt===So||gt===ih)throw gt;var Xt=Un(29,gt,null,j.mode);return Xt.lanes=W,Xt.return=j,Xt}}}var Ea=H_(!0),q_=H_(!1),ur=!1;function cg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ug(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function hr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function fr(s,r,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Jt&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=Wu(s),C_(s,null,l),r}return Xu(s,u,r,l),Wu(s)}function Xl(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,Sl(s,l)}}function hg(s,r){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?m=p=r:p=p.next=r}else m=p=r;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var fg=!1;function Wl(){if(fg){var s=Eo;if(s!==null)throw s}}function Zl(s,r,l,u){fg=!1;var m=s.updateQueue;ur=!1;var p=m.firstBaseUpdate,b=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var V=S,q=V.next;V.next=null,b===null?p=q:b.next=q,b=V;var $=s.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==b&&(S===null?$.firstBaseUpdate=q:S.next=q,$.lastBaseUpdate=V))}if(p!==null){var Z=m.baseState;b=0,$=q=V=null,S=p;do{var G=S.lane&-536870913,Q=G!==S.lane;if(Q?(jt&G)===G:(u&G)===G){G!==0&&G===To&&(fg=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ft=s,St=S;G=r;var ce=l;switch(St.tag){case 1:if(ft=St.payload,typeof ft=="function"){Z=ft.call(ce,Z,G);break t}Z=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=St.payload,G=typeof ft=="function"?ft.call(ce,Z,G):ft,G==null)break t;Z=v({},Z,G);break t;case 2:ur=!0}}G=S.callback,G!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=m.callbacks,Q===null?m.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(q=$=Q,V=Z):$=$.next=Q,b|=G;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);$===null&&(V=Z),m.baseState=V,m.firstBaseUpdate=q,m.lastBaseUpdate=$,p===null&&(m.shared.lanes=0),yr|=b,s.lanes=b,s.memoizedState=Z}}function G_(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Y_(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)G_(l[s],r)}var xo=z(null),oh=z(0);function K_(s,r){s=Ns,lt(oh,s),lt(xo,r),Ns=s|r.baseLanes}function dg(){lt(oh,Ns),lt(xo,xo.current)}function gg(){Ns=oh.current,X(xo),X(oh)}var jn=z(null),ii=null;function dr(s){var r=s.alternate;lt(De,De.current&1),lt(jn,s),ii===null&&(r===null||xo.current!==null||r.memoizedState!==null)&&(ii=s)}function mg(s){lt(De,De.current),lt(jn,s),ii===null&&(ii=s)}function Q_(s){s.tag===22?(lt(De,De.current),lt(jn,s),ii===null&&(ii=s)):gr()}function gr(){lt(De,De.current),lt(jn,jn.current)}function Bn(s){X(jn),ii===s&&(ii=null),X(De)}var De=z(0);function lh(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Tm(l)||Em(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ws=0,Nt=null,oe=null,Ue=null,ch=!1,Ao=!1,Sa=!1,uh=0,Jl=0,Co=null,QA=0;function Se(){throw Error(i(321))}function pg(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!zn(s[l],r[l]))return!1;return!0}function yg(s,r,l,u,m,p){return ws=p,Nt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=s===null||s.memoizedState===null?M0:Ng,Sa=!1,p=l(u,m),Sa=!1,Ao&&(p=X_(r,l,u,m)),$_(s),p}function $_(s){Y.H=nc;var r=oe!==null&&oe.next!==null;if(ws=0,Ue=oe=Nt=null,ch=!1,Jl=0,Co=null,r)throw Error(i(300));s===null||je||(s=s.dependencies,s!==null&&th(s)&&(je=!0))}function X_(s,r,l,u){Nt=s;var m=0;do{if(Ao&&(Co=null),Jl=0,Ao=!1,25<=m)throw Error(i(301));if(m+=1,Ue=oe=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=N0,p=r(l,u)}while(Ao);return p}function $A(){var s=Y.H,r=s.useState()[0];return r=typeof r.then=="function"?tc(r):r,s=s.useState()[0],(oe!==null?oe.memoizedState:null)!==s&&(Nt.flags|=1024),r}function _g(){var s=uh!==0;return uh=0,s}function vg(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function bg(s){if(ch){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}ch=!1}ws=0,Ue=oe=Nt=null,Ao=!1,Jl=uh=0,Co=null}function Tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Nt.memoizedState=Ue=s:Ue=Ue.next=s,Ue}function Me(){if(oe===null){var s=Nt.alternate;s=s!==null?s.memoizedState:null}else s=oe.next;var r=Ue===null?Nt.memoizedState:Ue.next;if(r!==null)Ue=r,oe=s;else{if(s===null)throw Nt.alternate===null?Error(i(467)):Error(i(310));oe=s,s={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Ue===null?Nt.memoizedState=Ue=s:Ue=Ue.next=s}return Ue}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(s){var r=Jl;return Jl+=1,Co===null&&(Co=[]),s=j_(Co,s,r),r=Nt,(Ue===null?r.memoizedState:Ue.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?M0:Ng),s}function fh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return tc(s);if(s.$$typeof===J)return sn(s)}throw Error(i(438,String(s)))}function Tg(s){var r=null,l=Nt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var u=Nt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=hh(),Nt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),u=0;u<s;u++)l[u]=P;return r.index++,l}function xs(s,r){return typeof r=="function"?r(s):r}function dh(s){var r=Me();return Eg(r,oe,s)}function Eg(s,r,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var m=s.baseQueue,p=u.pending;if(p!==null){if(m!==null){var b=m.next;m.next=p.next,p.next=b}r.baseQueue=m=p,u.pending=null}if(p=s.baseState,m===null)s.memoizedState=p;else{r=m.next;var S=b=null,V=null,q=r,$=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(jt&Z)===Z:(ws&Z)===Z){var G=q.revertLane;if(G===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===To&&($=!0);else if((ws&G)===G){q=q.next,G===To&&($=!0);continue}else Z={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(S=V=Z,b=p):V=V.next=Z,Nt.lanes|=G,yr|=G;Z=q.action,Sa&&l(p,Z),p=q.hasEagerState?q.eagerState:l(p,Z)}else G={lane:Z,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(S=V=G,b=p):V=V.next=G,Nt.lanes|=Z,yr|=Z;q=q.next}while(q!==null&&q!==r);if(V===null?b=p:V.next=S,!zn(p,s.memoizedState)&&(je=!0,$&&(l=Eo,l!==null)))throw l;s.memoizedState=p,s.baseState=b,s.baseQueue=V,u.lastRenderedState=p}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Sg(s){var r=Me(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,m=l.pending,p=r.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do p=s(p,b.action),b=b.next;while(b!==m);zn(p,r.memoizedState)||(je=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),l.lastRenderedState=p}return[p,u]}function W_(s,r,l){var u=Nt,m=Me(),p=Gt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=r();var b=!zn((oe||m).memoizedState,l);if(b&&(m.memoizedState=l,je=!0),m=m.queue,Ag(t0.bind(null,u,m,s),[s]),m.getSnapshot!==r||b||Ue!==null&&Ue.memoizedState.tag&1){if(u.flags|=2048,Ro(9,{destroy:void 0},J_.bind(null,u,m,l,r),null),ue===null)throw Error(i(349));p||(ws&127)!==0||Z_(u,r,l)}return l}function Z_(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=Nt.updateQueue,r===null?(r=hh(),Nt.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function J_(s,r,l,u){r.value=l,r.getSnapshot=u,e0(r)&&n0(s)}function t0(s,r,l){return l(function(){e0(r)&&n0(s)})}function e0(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!zn(s,l)}catch{return!0}}function n0(s){var r=ga(s,2);r!==null&&In(r,s,2)}function wg(s){var r=Tn();if(typeof s=="function"){var l=s;if(s=l(),Sa){Kn(!0);try{l()}finally{Kn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:s},r}function i0(s,r,l,u){return s.baseState=l,Eg(s,oe,typeof u=="function"?u:xs)}function XA(s,r,l,u,m){if(ph(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};Y.T!==null?l(!0):p.isTransition=!1,u(p),l=r.pending,l===null?(p.next=r.pending=p,s0(r,p)):(p.next=l.next,r.pending=l.next=p)}}function s0(s,r){var l=r.action,u=r.payload,m=s.state;if(r.isTransition){var p=Y.T,b={};Y.T=b;try{var S=l(m,u),V=Y.S;V!==null&&V(b,S),r0(s,r,S)}catch(q){xg(s,r,q)}finally{p!==null&&b.types!==null&&(p.types=b.types),Y.T=p}}else try{p=l(m,u),r0(s,r,p)}catch(q){xg(s,r,q)}}function r0(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){a0(s,r,u)},function(u){return xg(s,r,u)}):a0(s,r,l)}function a0(s,r,l){r.status="fulfilled",r.value=l,o0(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,s0(s,l)))}function xg(s,r,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=l,o0(r),r=r.next;while(r!==u)}s.action=null}function o0(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function l0(s,r){return r}function c0(s,r){if(Gt){var l=ue.formState;if(l!==null){t:{var u=Nt;if(Gt){if(de){e:{for(var m=de,p=ni;m.nodeType!==8;){if(!p){m=null;break e}if(m=si(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){de=si(m.nextSibling),u=m.data==="F!";break t}}lr(u)}u=!1}u&&(r=l[0])}}return l=Tn(),l.memoizedState=l.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l0,lastRenderedState:r},l.queue=u,l=R0.bind(null,Nt,u),u.dispatch=l,u=wg(!1),p=Mg.bind(null,Nt,!1,u.queue),u=Tn(),m={state:r,dispatch:null,action:s,pending:null},u.queue=m,l=XA.bind(null,Nt,m,p,l),m.dispatch=l,u.memoizedState=s,[r,l,!1]}function u0(s){var r=Me();return h0(r,oe,s)}function h0(s,r,l){if(r=Eg(s,r,l0)[0],s=dh(xs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=tc(r)}catch(b){throw b===So?ih:b}else u=r;r=Me();var m=r.queue,p=m.dispatch;return l!==r.memoizedState&&(Nt.flags|=2048,Ro(9,{destroy:void 0},WA.bind(null,m,l),null)),[u,p,s]}function WA(s,r){s.action=r}function f0(s){var r=Me(),l=oe;if(l!==null)return h0(r,l,s);Me(),r=r.memoizedState,l=Me();var u=l.queue.dispatch;return l.memoizedState=s,[r,u,!1]}function Ro(s,r,l,u){return s={tag:s,create:l,deps:u,inst:r,next:null},r=Nt.updateQueue,r===null&&(r=hh(),Nt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,r.lastEffect=s),s}function d0(){return Me().memoizedState}function gh(s,r,l,u){var m=Tn();Nt.flags|=s,m.memoizedState=Ro(1|r,{destroy:void 0},l,u===void 0?null:u)}function mh(s,r,l,u){var m=Me();u=u===void 0?null:u;var p=m.memoizedState.inst;oe!==null&&u!==null&&pg(u,oe.memoizedState.deps)?m.memoizedState=Ro(r,p,l,u):(Nt.flags|=s,m.memoizedState=Ro(1|r,p,l,u))}function g0(s,r){gh(8390656,8,s,r)}function Ag(s,r){mh(2048,8,s,r)}function ZA(s){Nt.flags|=4;var r=Nt.updateQueue;if(r===null)r=hh(),Nt.updateQueue=r,r.events=[s];else{var l=r.events;l===null?r.events=[s]:l.push(s)}}function m0(s){var r=Me().memoizedState;return ZA({ref:r,nextImpl:s}),function(){if((Jt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function p0(s,r){return mh(4,2,s,r)}function y0(s,r){return mh(4,4,s,r)}function _0(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function v0(s,r,l){l=l!=null?l.concat([s]):null,mh(4,4,_0.bind(null,r,s),l)}function Cg(){}function b0(s,r){var l=Me();r=r===void 0?null:r;var u=l.memoizedState;return r!==null&&pg(r,u[1])?u[0]:(l.memoizedState=[s,r],s)}function T0(s,r){var l=Me();r=r===void 0?null:r;var u=l.memoizedState;if(r!==null&&pg(r,u[1]))return u[0];if(u=s(),Sa){Kn(!0);try{s()}finally{Kn(!1)}}return l.memoizedState=[u,r],u}function Rg(s,r,l){return l===void 0||(ws&1073741824)!==0&&(jt&261930)===0?s.memoizedState=r:(s.memoizedState=l,s=Ev(),Nt.lanes|=s,yr|=s,l)}function E0(s,r,l,u){return zn(l,r)?l:xo.current!==null?(s=Rg(s,l,u),zn(s,r)||(je=!0),s):(ws&42)===0||(ws&1073741824)!==0&&(jt&261930)===0?(je=!0,s.memoizedState=l):(s=Ev(),Nt.lanes|=s,yr|=s,r)}function S0(s,r,l,u,m){var p=ot.p;ot.p=p!==0&&8>p?p:8;var b=Y.T,S={};Y.T=S,Mg(s,!1,r,l);try{var V=m(),q=Y.S;if(q!==null&&q(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var $=KA(V,u);ec(s,r,$,qn(s))}else ec(s,r,u,qn(s))}catch(Z){ec(s,r,{then:function(){},status:"rejected",reason:Z},qn())}finally{ot.p=p,b!==null&&S.types!==null&&(b.types=S.types),Y.T=b}}function JA(){}function Ig(s,r,l,u){if(s.tag!==5)throw Error(i(476));var m=w0(s).queue;S0(s,m,r,dt,l===null?JA:function(){return x0(s),l(u)})}function w0(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:dt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function x0(s){var r=w0(s);r.next===null&&(r=s.alternate.memoizedState),ec(s,r.next.queue,{},qn())}function Dg(){return sn(_c)}function A0(){return Me().memoizedState}function C0(){return Me().memoizedState}function t2(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=qn();s=hr(l);var u=fr(r,s,l);u!==null&&(In(u,r,l),Xl(u,r,l)),r={cache:rg()},s.payload=r;return}r=r.return}}function e2(s,r,l){var u=qn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ph(s)?I0(r,l):(l=Qd(s,r,l,u),l!==null&&(In(l,s,u),D0(l,r,u)))}function R0(s,r,l){var u=qn();ec(s,r,l,u)}function ec(s,r,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ph(s))I0(r,m);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,S=p(b,l);if(m.hasEagerState=!0,m.eagerState=S,zn(S,b))return Xu(s,r,m,0),ue===null&&$u(),!1}catch{}if(l=Qd(s,r,m,u),l!==null)return In(l,s,u),D0(l,r,u),!0}return!1}function Mg(s,r,l,u){if(u={lane:2,revertLane:cm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ph(s)){if(r)throw Error(i(479))}else r=Qd(s,l,u,2),r!==null&&In(r,s,2)}function ph(s){var r=s.alternate;return s===Nt||r!==null&&r===Nt}function I0(s,r){Ao=ch=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function D0(s,r,l){if((l&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,Sl(s,l)}}var nc={readContext:sn,use:fh,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};nc.useEffectEvent=Se;var M0={readContext:sn,use:fh,useCallback:function(s,r){return Tn().memoizedState=[s,r===void 0?null:r],s},useContext:sn,useEffect:g0,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,gh(4194308,4,_0.bind(null,r,s),l)},useLayoutEffect:function(s,r){return gh(4194308,4,s,r)},useInsertionEffect:function(s,r){gh(4,2,s,r)},useMemo:function(s,r){var l=Tn();r=r===void 0?null:r;var u=s();if(Sa){Kn(!0);try{s()}finally{Kn(!1)}}return l.memoizedState=[u,r],u},useReducer:function(s,r,l){var u=Tn();if(l!==void 0){var m=l(r);if(Sa){Kn(!0);try{l(r)}finally{Kn(!1)}}}else m=r;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=e2.bind(null,Nt,s),[u.memoizedState,s]},useRef:function(s){var r=Tn();return s={current:s},r.memoizedState=s},useState:function(s){s=wg(s);var r=s.queue,l=R0.bind(null,Nt,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:Cg,useDeferredValue:function(s,r){var l=Tn();return Rg(l,s,r)},useTransition:function(){var s=wg(!1);return s=S0.bind(null,Nt,s.queue,!0,!1),Tn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var u=Nt,m=Tn();if(Gt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),ue===null)throw Error(i(349));(jt&127)!==0||Z_(u,r,l)}m.memoizedState=l;var p={value:l,getSnapshot:r};return m.queue=p,g0(t0.bind(null,u,p,s),[s]),u.flags|=2048,Ro(9,{destroy:void 0},J_.bind(null,u,p,l,r),null),l},useId:function(){var s=Tn(),r=ue.identifierPrefix;if(Gt){var l=Xi,u=$i;l=(u&~(1<<32-Re(u)-1)).toString(32)+l,r="_"+r+"R_"+l,l=uh++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=QA++,r="_"+r+"r_"+l.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Dg,useFormState:c0,useActionState:c0,useOptimistic:function(s){var r=Tn();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Mg.bind(null,Nt,!0,l),l.dispatch=r,[s,r]},useMemoCache:Tg,useCacheRefresh:function(){return Tn().memoizedState=t2.bind(null,Nt)},useEffectEvent:function(s){var r=Tn(),l={impl:s};return r.memoizedState=l,function(){if((Jt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Ng={readContext:sn,use:fh,useCallback:b0,useContext:sn,useEffect:Ag,useImperativeHandle:v0,useInsertionEffect:p0,useLayoutEffect:y0,useMemo:T0,useReducer:dh,useRef:d0,useState:function(){return dh(xs)},useDebugValue:Cg,useDeferredValue:function(s,r){var l=Me();return E0(l,oe.memoizedState,s,r)},useTransition:function(){var s=dh(xs)[0],r=Me().memoizedState;return[typeof s=="boolean"?s:tc(s),r]},useSyncExternalStore:W_,useId:A0,useHostTransitionStatus:Dg,useFormState:u0,useActionState:u0,useOptimistic:function(s,r){var l=Me();return i0(l,oe,s,r)},useMemoCache:Tg,useCacheRefresh:C0};Ng.useEffectEvent=m0;var N0={readContext:sn,use:fh,useCallback:b0,useContext:sn,useEffect:Ag,useImperativeHandle:v0,useInsertionEffect:p0,useLayoutEffect:y0,useMemo:T0,useReducer:Sg,useRef:d0,useState:function(){return Sg(xs)},useDebugValue:Cg,useDeferredValue:function(s,r){var l=Me();return oe===null?Rg(l,s,r):E0(l,oe.memoizedState,s,r)},useTransition:function(){var s=Sg(xs)[0],r=Me().memoizedState;return[typeof s=="boolean"?s:tc(s),r]},useSyncExternalStore:W_,useId:A0,useHostTransitionStatus:Dg,useFormState:f0,useActionState:f0,useOptimistic:function(s,r){var l=Me();return oe!==null?i0(l,oe,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Tg,useCacheRefresh:C0};N0.useEffectEvent=m0;function Og(s,r,l,u){r=s.memoizedState,l=l(u,r),l=l==null?r:v({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var kg={enqueueSetState:function(s,r,l){s=s._reactInternals;var u=qn(),m=hr(u);m.payload=r,l!=null&&(m.callback=l),r=fr(s,m,u),r!==null&&(In(r,s,u),Xl(r,s,u))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var u=qn(),m=hr(u);m.tag=1,m.payload=r,l!=null&&(m.callback=l),r=fr(s,m,u),r!==null&&(In(r,s,u),Xl(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=qn(),u=hr(l);u.tag=2,r!=null&&(u.callback=r),r=fr(s,u,l),r!==null&&(In(r,s,l),Xl(r,s,l))}};function O0(s,r,l,u,m,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):r.prototype&&r.prototype.isPureReactComponent?!Fl(l,u)||!Fl(m,p):!0}function k0(s,r,l,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==s&&kg.enqueueReplaceState(r,r.state,null)}function wa(s,r){var l=r;if("ref"in r){l={};for(var u in r)u!=="ref"&&(l[u]=r[u])}if(s=s.defaultProps){l===r&&(l=v({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}function P0(s){Qu(s)}function V0(s){console.error(s)}function L0(s){Qu(s)}function yh(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function z0(s,r,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Pg(s,r,l){return l=hr(l),l.tag=3,l.payload={element:null},l.callback=function(){yh(s,r)},l}function U0(s){return s=hr(s),s.tag=3,s}function j0(s,r,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;s.payload=function(){return m(p)},s.callback=function(){z0(r,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){z0(r,l,u),typeof m!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function n2(s,r,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=l.alternate,r!==null&&bo(r,l,m,!0),l=jn.current,l!==null){switch(l.tag){case 31:case 13:return ii===null?Ih():l.alternate===null&&we===0&&(we=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===sh?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([u]):r.add(u),am(s,u,m)),!1;case 22:return l.flags|=65536,u===sh?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([u]):l.add(u)),am(s,u,m)),!1}throw Error(i(435,l.tag))}return am(s,u,m),Ih(),!1}if(Gt)return r=jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==tg&&(s=Error(i(422),{cause:u}),Gl(Jn(s,l)))):(u!==tg&&(r=Error(i(423),{cause:u}),Gl(Jn(r,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=Jn(u,l),m=Pg(s.stateNode,u,m),hg(s,m),we!==4&&(we=2)),!1;var p=Error(i(520),{cause:u});if(p=Jn(p,l),uc===null?uc=[p]:uc.push(p),we!==4&&(we=2),r===null)return!0;u=Jn(u,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=Pg(l.stateNode,u,s),hg(l,s),!1;case 1:if(r=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(_r===null||!_r.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=U0(m),j0(m,s,l,u),hg(l,m),!1}l=l.return}while(l!==null);return!1}var Vg=Error(i(461)),je=!1;function rn(s,r,l,u){r.child=s===null?q_(r,null,l,u):Ea(r,s.child,l,u)}function B0(s,r,l,u,m){l=l.render;var p=r.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return _a(r),u=yg(s,r,l,b,p,m),S=_g(),s!==null&&!je?(vg(s,r,m),As(s,r,m)):(Gt&&S&&Zd(r),r.flags|=1,rn(s,r,u,m),r.child)}function F0(s,r,l,u,m){if(s===null){var p=l.type;return typeof p=="function"&&!$d(p)&&p.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=p,H0(s,r,p,u,m)):(s=Zu(l.type,null,u,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!qg(s,m)){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:Fl,l(b,u)&&s.ref===r.ref)return As(s,r,m)}return r.flags|=1,s=bs(p,u),s.ref=r.ref,s.return=r,r.child=s}function H0(s,r,l,u,m){if(s!==null){var p=s.memoizedProps;if(Fl(p,u)&&s.ref===r.ref)if(je=!1,r.pendingProps=u=p,qg(s,m))(s.flags&131072)!==0&&(je=!0);else return r.lanes=s.lanes,As(s,r,m)}return Lg(s,r,l,u,m)}function q0(s,r,l,u){var m=u.children,p=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=r.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~p}else u=0,r.child=null;return G0(s,r,p,l,u)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&nh(r,p!==null?p.cachePool:null),p!==null?K_(r,p):dg(),Q_(r);else return u=r.lanes=536870912,G0(s,r,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(nh(r,p.cachePool),K_(r,p),gr(),r.memoizedState=null):(s!==null&&nh(r,null),dg(),gr());return rn(s,r,m,l),r.child}function ic(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function G0(s,r,l,u,m){var p=og();return p=p===null?null:{parent:ze._currentValue,pool:p},r.memoizedState={baseLanes:l,cachePool:p},s!==null&&nh(r,null),dg(),Q_(r),s!==null&&bo(s,r,u,!0),r.childLanes=m,null}function _h(s,r){return r=bh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Y0(s,r,l){return Ea(r,s.child,null,l),s=_h(r,r.pendingProps),s.flags|=2,Bn(r),r.memoizedState=null,s}function i2(s,r,l){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Gt){if(u.mode==="hidden")return s=_h(r,u),r.lanes=536870912,ic(null,s);if(mg(r),(s=de)?(s=sb(s,ni),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:ar!==null?{id:$i,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},l=I_(s),l.return=r,r.child=l,nn=r,de=null)):s=null,s===null)throw lr(r);return r.lanes=536870912,null}return _h(r,u)}var p=s.memoizedState;if(p!==null){var b=p.dehydrated;if(mg(r),m)if(r.flags&256)r.flags&=-257,r=Y0(s,r,l);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(je||bo(s,r,l,!1),m=(l&s.childLanes)!==0,je||m){if(u=ue,u!==null&&(b=wl(u,l),b!==0&&b!==p.retryLane))throw p.retryLane=b,ga(s,b),In(u,s,b),Vg;Ih(),r=Y0(s,r,l)}else s=p.treeContext,de=si(b.nextSibling),nn=r,Gt=!0,or=null,ni=!1,s!==null&&N_(r,s),r=_h(r,u),r.flags|=4096;return r}return s=bs(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function vh(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function Lg(s,r,l,u,m){return _a(r),l=yg(s,r,l,u,void 0,m),u=_g(),s!==null&&!je?(vg(s,r,m),As(s,r,m)):(Gt&&u&&Zd(r),r.flags|=1,rn(s,r,l,m),r.child)}function K0(s,r,l,u,m,p){return _a(r),r.updateQueue=null,l=X_(r,u,l,m),$_(s),u=_g(),s!==null&&!je?(vg(s,r,p),As(s,r,p)):(Gt&&u&&Zd(r),r.flags|=1,rn(s,r,l,p),r.child)}function Q0(s,r,l,u,m){if(_a(r),r.stateNode===null){var p=po,b=l.contextType;typeof b=="object"&&b!==null&&(p=sn(b)),p=new l(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=kg,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},cg(r),b=l.contextType,p.context=typeof b=="object"&&b!==null?sn(b):po,p.state=r.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Og(r,l,b,u),p.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&kg.enqueueReplaceState(p,p.state,null),Zl(r,u,p,m),Wl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var S=r.memoizedProps,V=wa(l,S);p.props=V;var q=p.context,$=l.contextType;b=po,typeof $=="object"&&$!==null&&(b=sn($));var Z=l.getDerivedStateFromProps;$=typeof Z=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,$||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||q!==b)&&k0(r,p,u,b),ur=!1;var G=r.memoizedState;p.state=G,Zl(r,u,p,m),Wl(),q=r.memoizedState,S||G!==q||ur?(typeof Z=="function"&&(Og(r,l,Z,u),q=r.memoizedState),(V=ur||O0(r,l,V,u,G,q,b))?($||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=q),p.props=u,p.state=q,p.context=b,u=V):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,ug(s,r),b=r.memoizedProps,$=wa(l,b),p.props=$,Z=r.pendingProps,G=p.context,q=l.contextType,V=po,typeof q=="object"&&q!==null&&(V=sn(q)),S=l.getDerivedStateFromProps,(q=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==Z||G!==V)&&k0(r,p,u,V),ur=!1,G=r.memoizedState,p.state=G,Zl(r,u,p,m),Wl();var Q=r.memoizedState;b!==Z||G!==Q||ur||s!==null&&s.dependencies!==null&&th(s.dependencies)?(typeof S=="function"&&(Og(r,l,S,u),Q=r.memoizedState),($=ur||O0(r,l,$,u,G,Q,V)||s!==null&&s.dependencies!==null&&th(s.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Q,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Q,V)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&G===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&G===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),p.props=u,p.state=Q,p.context=V,u=$):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&G===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&G===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,vh(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=Ea(r,s.child,null,m),r.child=Ea(r,null,l,m)):rn(s,r,l,m),r.memoizedState=p.state,s=r.child):s=As(s,r,m),s}function $0(s,r,l,u){return pa(),r.flags|=256,rn(s,r,l,u),r.child}var zg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ug(s){return{baseLanes:s,cachePool:z_()}}function jg(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=Hn),s}function X0(s,r,l){var u=r.pendingProps,m=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(De.current&2)!==0),b&&(m=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,s===null){if(Gt){if(m?dr(r):gr(),(s=de)?(s=sb(s,ni),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:ar!==null?{id:$i,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},l=I_(s),l.return=r,r.child=l,nn=r,de=null)):s=null,s===null)throw lr(r);return Em(s)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,m?(gr(),m=r.mode,S=bh({mode:"hidden",children:S},m),u=ma(u,m,l,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=Ug(l),u.childLanes=jg(s,b,l),r.memoizedState=zg,ic(null,u)):(dr(r),Bg(r,S))}var V=s.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(p)r.flags&256?(dr(r),r.flags&=-257,r=Fg(s,r,l)):r.memoizedState!==null?(gr(),r.child=s.child,r.flags|=128,r=null):(gr(),S=u.fallback,m=r.mode,u=bh({mode:"visible",children:u.children},m),S=ma(S,m,l,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Ea(r,s.child,null,l),u=r.child,u.memoizedState=Ug(l),u.childLanes=jg(s,b,l),r.memoizedState=zg,r=ic(null,u));else if(dr(r),Em(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var q=b.dgst;b=q,u=Error(i(419)),u.stack="",u.digest=b,Gl({value:u,source:null,stack:null}),r=Fg(s,r,l)}else if(je||bo(s,r,l,!1),b=(l&s.childLanes)!==0,je||b){if(b=ue,b!==null&&(u=wl(b,l),u!==0&&u!==V.retryLane))throw V.retryLane=u,ga(s,u),In(b,s,u),Vg;Tm(S)||Ih(),r=Fg(s,r,l)}else Tm(S)?(r.flags|=192,r.child=s.child,r=null):(s=V.treeContext,de=si(S.nextSibling),nn=r,Gt=!0,or=null,ni=!1,s!==null&&N_(r,s),r=Bg(r,u.children),r.flags|=4096);return r}return m?(gr(),S=u.fallback,m=r.mode,V=s.child,q=V.sibling,u=bs(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,q!==null?S=bs(q,S):(S=ma(S,m,l,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,ic(null,u),u=r.child,S=s.child.memoizedState,S===null?S=Ug(l):(m=S.cachePool,m!==null?(V=ze._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=z_(),S={baseLanes:S.baseLanes|l,cachePool:m}),u.memoizedState=S,u.childLanes=jg(s,b,l),r.memoizedState=zg,ic(s.child,u)):(dr(r),l=s.child,s=l.sibling,l=bs(l,{mode:"visible",children:u.children}),l.return=r,l.sibling=null,s!==null&&(b=r.deletions,b===null?(r.deletions=[s],r.flags|=16):b.push(s)),r.child=l,r.memoizedState=null,l)}function Bg(s,r){return r=bh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function bh(s,r){return s=Un(22,s,null,r),s.lanes=0,s}function Fg(s,r,l){return Ea(r,s.child,null,l),s=Bg(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function W0(s,r,l){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),ig(s.return,r,l)}function Hg(s,r,l,u,m,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=m,b.treeForkCount=p)}function Z0(s,r,l){var u=r.pendingProps,m=u.revealOrder,p=u.tail;u=u.children;var b=De.current,S=(b&2)!==0;if(S?(b=b&1|2,r.flags|=128):b&=1,lt(De,b),rn(s,r,u,l),u=Gt?ql:0,!S&&s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&W0(s,l,r);else if(s.tag===19)W0(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(l=r.child,m=null;l!==null;)s=l.alternate,s!==null&&lh(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=r.child,r.child=null):(m=l.sibling,l.sibling=null),Hg(r,!1,m,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&lh(s)===null){r.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Hg(r,!0,l,null,p,u);break;case"together":Hg(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function As(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),yr|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(bo(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=bs(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=bs(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function qg(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&th(s)))}function s2(s,r,l){switch(r.tag){case 3:Ee(r,r.stateNode.containerInfo),cr(r,ze,s.memoizedState.cache),pa();break;case 27:case 5:Tt(r);break;case 4:Ee(r,r.stateNode.containerInfo);break;case 10:cr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,mg(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(dr(r),r.flags|=128,null):(l&r.child.childLanes)!==0?X0(s,r,l):(dr(r),s=As(s,r,l),s!==null?s.sibling:null);dr(r);break;case 19:var m=(s.flags&128)!==0;if(u=(l&r.childLanes)!==0,u||(bo(s,r,l,!1),u=(l&r.childLanes)!==0),m){if(u)return Z0(s,r,l);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),lt(De,De.current),u)break;return null;case 22:return r.lanes=0,q0(s,r,l,r.pendingProps);case 24:cr(r,ze,s.memoizedState.cache)}return As(s,r,l)}function J0(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)je=!0;else{if(!qg(s,l)&&(r.flags&128)===0)return je=!1,s2(s,r,l);je=(s.flags&131072)!==0}else je=!1,Gt&&(r.flags&1048576)!==0&&M_(r,ql,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(s=ba(r.elementType),r.type=s,typeof s=="function")$d(s)?(u=wa(s,u),r.tag=1,r=Q0(null,r,s,u,l)):(r.tag=0,r=Lg(null,r,s,u,l));else{if(s!=null){var m=s.$$typeof;if(m===at){r.tag=11,r=B0(null,r,s,u,l);break t}else if(m===C){r.tag=14,r=F0(null,r,s,u,l);break t}}throw r=Vt(s)||s,Error(i(306,r,""))}}return r;case 0:return Lg(s,r,r.type,r.pendingProps,l);case 1:return u=r.type,m=wa(u,r.pendingProps),Q0(s,r,u,m,l);case 3:t:{if(Ee(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;m=p.element,ug(s,r),Zl(r,u,null,l);var b=r.memoizedState;if(u=b.cache,cr(r,ze,u),u!==p.cache&&sg(r,[ze],l,!0),Wl(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=$0(s,r,u,l);break t}else if(u!==m){m=Jn(Error(i(424)),r),Gl(m),r=$0(s,r,u,l);break t}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,de=si(s.firstChild),nn=r,Gt=!0,or=null,ni=!0,l=q_(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(pa(),u===m){r=As(s,r,l);break t}rn(s,r,u,l)}r=r.child}return r;case 26:return vh(s,r),s===null?(l=ub(r.type,null,r.pendingProps,null))?r.memoizedState=l:Gt||(l=r.type,s=r.pendingProps,u=Vh(bt.current).createElement(l),u[Pe]=r,u[$e]=s,an(u,l,s),Ve(u),r.stateNode=u):r.memoizedState=ub(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Tt(r),s===null&&Gt&&(u=r.stateNode=ob(r.type,r.pendingProps,bt.current),nn=r,ni=!0,m=de,Er(r.type)?(Sm=m,de=si(u.firstChild)):de=m),rn(s,r,r.pendingProps.children,l),vh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Gt&&((m=u=de)&&(u=k2(u,r.type,r.pendingProps,ni),u!==null?(r.stateNode=u,nn=r,de=si(u.firstChild),ni=!1,m=!0):m=!1),m||lr(r)),Tt(r),m=r.type,p=r.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,_m(m,p)?u=null:b!==null&&_m(m,b)&&(r.flags|=32),r.memoizedState!==null&&(m=yg(s,r,$A,null,null,l),_c._currentValue=m),vh(s,r),rn(s,r,u,l),r.child;case 6:return s===null&&Gt&&((s=l=de)&&(l=P2(l,r.pendingProps,ni),l!==null?(r.stateNode=l,nn=r,de=null,s=!0):s=!1),s||lr(r)),null;case 13:return X0(s,r,l);case 4:return Ee(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Ea(r,null,u,l):rn(s,r,u,l),r.child;case 11:return B0(s,r,r.type,r.pendingProps,l);case 7:return rn(s,r,r.pendingProps,l),r.child;case 8:return rn(s,r,r.pendingProps.children,l),r.child;case 12:return rn(s,r,r.pendingProps.children,l),r.child;case 10:return u=r.pendingProps,cr(r,r.type,u.value),rn(s,r,u.children,l),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,_a(r),m=sn(m),u=u(m),r.flags|=1,rn(s,r,u,l),r.child;case 14:return F0(s,r,r.type,r.pendingProps,l);case 15:return H0(s,r,r.type,r.pendingProps,l);case 19:return Z0(s,r,l);case 31:return i2(s,r,l);case 22:return q0(s,r,l,r.pendingProps);case 24:return _a(r),u=sn(ze),s===null?(m=og(),m===null&&(m=ue,p=rg(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),r.memoizedState={parent:u,cache:m},cg(r),cr(r,ze,m)):((s.lanes&l)!==0&&(ug(s,r),Zl(r,null,null,l),Wl()),m=s.memoizedState,p=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),cr(r,ze,u)):(u=p.cache,cr(r,ze,u),u!==m.cache&&sg(r,[ze],l,!0))),rn(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Cs(s){s.flags|=4}function Gg(s,r,l,u,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(Av())s.flags|=8192;else throw Ta=sh,lg}else s.flags&=-16777217}function tv(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!mb(r))if(Av())s.flags|=8192;else throw Ta=sh,lg}function Th(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Cu():536870912,s.lanes|=r,No|=r)}function sc(s,r){if(!Gt)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ge(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(r)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=l,r}function r2(s,r,l){var u=r.pendingProps;switch(Jd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(r),null;case 1:return ge(r),null;case 3:return l=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ss(ze),st(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(vo(r)?Cs(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,eg())),ge(r),null;case 26:var m=r.type,p=r.memoizedState;return s===null?(Cs(r),p!==null?(ge(r),tv(r,p)):(ge(r),Gg(r,m,null,u,l))):p?p!==s.memoizedState?(Cs(r),ge(r),tv(r,p)):(ge(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Cs(r),ge(r),Gg(r,m,s,u,l)),null;case 27:if(pt(r),l=bt.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Cs(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ge(r),null}s=ut.current,vo(r)?O_(r):(s=ob(m,u,l),r.stateNode=s,Cs(r))}return ge(r),null;case 5:if(pt(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Cs(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ge(r),null}if(p=ut.current,vo(r))O_(r);else{var b=Vh(bt.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(m,{is:u.is}):b.createElement(m)}}p[Pe]=r,p[$e]=u;t:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break t;for(;b.sibling===null;){if(b.return===null||b.return===r)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;t:switch(an(p,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Cs(r)}}return ge(r),Gg(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,l),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Cs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=bt.current,vo(r)){if(s=r.stateNode,l=r.memoizedProps,u=null,m=nn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Pe]=r,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Xv(s.nodeValue,l)),s||lr(r,!0)}else s=Vh(s).createTextNode(u),s[Pe]=r,r.stateNode=s}return ge(r),null;case 31:if(l=r.memoizedState,s===null||s.memoizedState!==null){if(u=vo(r),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Pe]=r}else pa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ge(r),s=!1}else l=eg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return r.flags&256?(Bn(r),r):(Bn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ge(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=vo(r),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Pe]=r}else pa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ge(r),m=!1}else m=eg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Bn(r),r):(Bn(r),null)}return Bn(r),(r.flags&128)!==0?(r.lanes=l,r):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)),l!==s&&l&&(r.child.flags|=8192),Th(r,r.updateQueue),ge(r),null);case 4:return st(),s===null&&dm(r.stateNode.containerInfo),ge(r),null;case 10:return Ss(r.type),ge(r),null;case 19:if(X(De),u=r.memoizedState,u===null)return ge(r),null;if(m=(r.flags&128)!==0,p=u.rendering,p===null)if(m)sc(u,!1);else{if(we!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=lh(s),p!==null){for(r.flags|=128,sc(u,!1),s=p.updateQueue,r.updateQueue=s,Th(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)R_(l,s),l=l.sibling;return lt(De,De.current&1|2),Gt&&Ts(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&vn()>Ah&&(r.flags|=128,m=!0,sc(u,!1),r.lanes=4194304)}else{if(!m)if(s=lh(p),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,Th(r,s),sc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Gt)return ge(r),null}else 2*vn()-u.renderingStartTime>Ah&&l!==536870912&&(r.flags|=128,m=!0,sc(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(s=u.last,s!==null?s.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=vn(),s.sibling=null,l=De.current,lt(De,m?l&1|2:l&1),Gt&&Ts(r,u.treeForkCount),s):(ge(r),null);case 22:case 23:return Bn(r),gg(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(l&536870912)!==0&&(r.flags&128)===0&&(ge(r),r.subtreeFlags&6&&(r.flags|=8192)):ge(r),l=r.updateQueue,l!==null&&Th(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==l&&(r.flags|=2048),s!==null&&X(va),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ss(ze),ge(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function a2(s,r){switch(Jd(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ss(ze),st(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return pt(r),null;case 31:if(r.memoizedState!==null){if(Bn(r),r.alternate===null)throw Error(i(340));pa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Bn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));pa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return X(De),null;case 4:return st(),null;case 10:return Ss(r.type),null;case 22:case 23:return Bn(r),gg(),s!==null&&X(va),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Ss(ze),null;case 25:return null;default:return null}}function ev(s,r){switch(Jd(r),r.tag){case 3:Ss(ze),st();break;case 26:case 27:case 5:pt(r);break;case 4:st();break;case 31:r.memoizedState!==null&&Bn(r);break;case 13:Bn(r);break;case 19:X(De);break;case 10:Ss(r.type);break;case 22:case 23:Bn(r),gg(),s!==null&&X(va);break;case 24:Ss(ze)}}function rc(s,r){try{var l=r.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&s)===s){u=void 0;var p=l.create,b=l.inst;u=p(),b.destroy=u}l=l.next}while(l!==m)}}catch(S){se(r,r.return,S)}}function mr(s,r,l){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&s)===s){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,m=r;var V=l,q=S;try{q()}catch($){se(m,V,$)}}}u=u.next}while(u!==p)}}catch($){se(r,r.return,$)}}function nv(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{Y_(r,l)}catch(u){se(s,s.return,u)}}}function iv(s,r,l){l.props=wa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){se(s,r,u)}}function ac(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(m){se(s,r,m)}}function Wi(s,r){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){se(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){se(s,r,m)}else l.current=null}function sv(s){var r=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){se(s,s.return,m)}}function Yg(s,r,l){try{var u=s.stateNode;R2(u,s.type,l,r),u[$e]=r}catch(m){se(s,s.return,m)}}function rv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Er(s.type)||s.tag===4}function Kg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||rv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Er(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Qg(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=yi));else if(u!==4&&(u===27&&Er(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(Qg(s,r,l),s=s.sibling;s!==null;)Qg(s,r,l),s=s.sibling}function Eh(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(u!==4&&(u===27&&Er(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Eh(s,r,l),s=s.sibling;s!==null;)Eh(s,r,l),s=s.sibling}function av(s){var r=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);an(r,u,l),r[Pe]=s,r[$e]=l}catch(p){se(s,s.return,p)}}var Rs=!1,Be=!1,$g=!1,ov=typeof WeakSet=="function"?WeakSet:Set,We=null;function o2(s,r){if(s=s.containerInfo,pm=Hh,s=v_(s),Fd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var b=0,S=-1,V=-1,q=0,$=0,Z=s,G=null;e:for(;;){for(var Q;Z!==l||m!==0&&Z.nodeType!==3||(S=b+m),Z!==p||u!==0&&Z.nodeType!==3||(V=b+u),Z.nodeType===3&&(b+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)G=Z,Z=Q;for(;;){if(Z===s)break e;if(G===l&&++q===m&&(S=b),G===p&&++$===u&&(V=b),(Q=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=Q}l=S===-1||V===-1?null:{start:S,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(ym={focusedElem:s,selectionRange:l},Hh=!1,We=r;We!==null;)if(r=We,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,We=s;else for(;We!==null;){switch(r=We,p=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)m=s[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=r,m=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var ft=wa(l.type,m);s=u.getSnapshotBeforeUpdate(ft,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(St){se(l,l.return,St)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)bm(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":bm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,We=s;break}We=r.return}}function lv(s,r,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ds(s,l),u&4&&rc(5,l);break;case 1:if(Ds(s,l),u&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(b){se(l,l.return,b)}else{var m=wa(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(b){se(l,l.return,b)}}u&64&&nv(l),u&512&&ac(l,l.return);break;case 3:if(Ds(s,l),u&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Y_(s,r)}catch(b){se(l,l.return,b)}}break;case 27:r===null&&u&4&&av(l);case 26:case 5:Ds(s,l),r===null&&u&4&&sv(l),u&512&&ac(l,l.return);break;case 12:Ds(s,l);break;case 31:Ds(s,l),u&4&&hv(s,l);break;case 13:Ds(s,l),u&4&&fv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=p2.bind(null,l),V2(s,l))));break;case 22:if(u=l.memoizedState!==null||Rs,!u){r=r!==null&&r.memoizedState!==null||Be,m=Rs;var p=Be;Rs=u,(Be=r)&&!p?Ms(s,l,(l.subtreeFlags&8772)!==0):Ds(s,l),Rs=m,Be=p}break;case 30:break;default:Ds(s,l)}}function cv(s){var r=s.alternate;r!==null&&(s.alternate=null,cv(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&eo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ve=null,xn=!1;function Is(s,r,l){for(l=l.child;l!==null;)uv(s,r,l),l=l.sibling}function uv(s,r,l){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(di,l)}catch{}switch(l.tag){case 26:Be||Wi(l,r),Is(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Be||Wi(l,r);var u=ve,m=xn;Er(l.type)&&(ve=l.stateNode,xn=!1),Is(s,r,l),mc(l.stateNode),ve=u,xn=m;break;case 5:Be||Wi(l,r);case 6:if(u=ve,m=xn,ve=null,Is(s,r,l),ve=u,xn=m,ve!==null)if(xn)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(l.stateNode)}catch(p){se(l,r,p)}else try{ve.removeChild(l.stateNode)}catch(p){se(l,r,p)}break;case 18:ve!==null&&(xn?(s=ve,nb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),jo(s)):nb(ve,l.stateNode));break;case 4:u=ve,m=xn,ve=l.stateNode.containerInfo,xn=!0,Is(s,r,l),ve=u,xn=m;break;case 0:case 11:case 14:case 15:mr(2,l,r),Be||mr(4,l,r),Is(s,r,l);break;case 1:Be||(Wi(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"&&iv(l,r,u)),Is(s,r,l);break;case 21:Is(s,r,l);break;case 22:Be=(u=Be)||l.memoizedState!==null,Is(s,r,l),Be=u;break;default:Is(s,r,l)}}function hv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{jo(s)}catch(l){se(r,r.return,l)}}}function fv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{jo(s)}catch(l){se(r,r.return,l)}}function l2(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new ov),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new ov),r;default:throw Error(i(435,s.tag))}}function Sh(s,r){var l=l2(s);r.forEach(function(u){if(!l.has(u)){l.add(u);var m=y2.bind(null,s,u);u.then(m,m)}})}function An(s,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],p=s,b=r,S=b;t:for(;S!==null;){switch(S.tag){case 27:if(Er(S.type)){ve=S.stateNode,xn=!1;break t}break;case 5:ve=S.stateNode,xn=!1;break t;case 3:case 4:ve=S.stateNode.containerInfo,xn=!0;break t}S=S.return}if(ve===null)throw Error(i(160));uv(p,b,m),ve=null,xn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)dv(r,s),r=r.sibling}var Si=null;function dv(s,r){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:An(r,s),Cn(s),u&4&&(mr(3,s,s.return),rc(3,s),mr(5,s,s.return));break;case 1:An(r,s),Cn(s),u&512&&(Be||l===null||Wi(l,l.return)),u&64&&Rs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=Si;if(An(r,s),Cn(s),u&512&&(Be||l===null||Wi(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Li]||p[Pe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),an(p,u,l),p[Pe]=s,Ve(p),u=p;break t;case"link":var b=db("link","href",m).get(u+(l.href||""));if(b){for(var S=0;S<b.length;S++)if(p=b[S],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(S,1);break e}}p=m.createElement(u),an(p,u,l),m.head.appendChild(p);break;case"meta":if(b=db("meta","content",m).get(u+(l.content||""))){for(S=0;S<b.length;S++)if(p=b[S],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(S,1);break e}}p=m.createElement(u),an(p,u,l),m.head.appendChild(p);break;default:throw Error(i(468,u))}p[Pe]=s,Ve(p),u=p}s.stateNode=u}else gb(m,s.type,s.stateNode);else s.stateNode=fb(m,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?gb(m,s.type,s.stateNode):fb(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Yg(s,s.memoizedProps,l.memoizedProps)}break;case 27:An(r,s),Cn(s),u&512&&(Be||l===null||Wi(l,l.return)),l!==null&&u&4&&Yg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(An(r,s),Cn(s),u&512&&(Be||l===null||Wi(l,l.return)),s.flags&32){m=s.stateNode;try{wn(m,"")}catch(ft){se(s,s.return,ft)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,Yg(s,m,l!==null?l.memoizedProps:m)),u&1024&&($g=!0);break;case 6:if(An(r,s),Cn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ft){se(s,s.return,ft)}}break;case 3:if(Uh=null,m=Si,Si=Lh(r.containerInfo),An(r,s),Si=m,Cn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{jo(r.containerInfo)}catch(ft){se(s,s.return,ft)}$g&&($g=!1,gv(s));break;case 4:u=Si,Si=Lh(s.stateNode.containerInfo),An(r,s),Cn(s),Si=u;break;case 12:An(r,s),Cn(s);break;case 31:An(r,s),Cn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Sh(s,u)));break;case 13:An(r,s),Cn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(xh=vn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Sh(s,u)));break;case 22:m=s.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,q=Rs,$=Be;if(Rs=q||m,Be=$||V,An(r,s),Be=$,Rs=q,Cn(s),u&8192)t:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(l===null||V||Rs||Be||xa(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){V=l=r;try{if(p=V.stateNode,m)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=V.stateNode;var Z=V.memoizedProps.style,G=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ft){se(V,V.return,ft)}}}else if(r.tag===6){if(l===null){V=r;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(ft){se(V,V.return,ft)}}}else if(r.tag===18){if(l===null){V=r;try{var Q=V.stateNode;m?ib(Q,!0):ib(V.stateNode,!1)}catch(ft){se(V,V.return,ft)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Sh(s,l))));break;case 19:An(r,s),Cn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Sh(s,u)));break;case 30:break;case 21:break;default:An(r,s),Cn(s)}}function Cn(s){var r=s.flags;if(r&2){try{for(var l,u=s.return;u!==null;){if(rv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,p=Kg(s);Eh(s,p,m);break;case 5:var b=l.stateNode;l.flags&32&&(wn(b,""),l.flags&=-33);var S=Kg(s);Eh(s,S,b);break;case 3:case 4:var V=l.stateNode.containerInfo,q=Kg(s);Qg(s,q,V);break;default:throw Error(i(161))}}catch($){se(s,s.return,$)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function gv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;gv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ds(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)lv(s,r.alternate,r),r=r.sibling}function xa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:mr(4,r,r.return),xa(r);break;case 1:Wi(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&iv(r,r.return,l),xa(r);break;case 27:mc(r.stateNode);case 26:case 5:Wi(r,r.return),xa(r);break;case 22:r.memoizedState===null&&xa(r);break;case 30:xa(r);break;default:xa(r)}s=s.sibling}}function Ms(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=s,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:Ms(m,p,l),rc(4,p);break;case 1:if(Ms(m,p,l),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){se(u,u.return,q)}if(u=p,m=u.updateQueue,m!==null){var S=u.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)G_(V[m],S)}catch(q){se(u,u.return,q)}}l&&b&64&&nv(p),ac(p,p.return);break;case 27:av(p);case 26:case 5:Ms(m,p,l),l&&u===null&&b&4&&sv(p),ac(p,p.return);break;case 12:Ms(m,p,l);break;case 31:Ms(m,p,l),l&&b&4&&hv(m,p);break;case 13:Ms(m,p,l),l&&b&4&&fv(m,p);break;case 22:p.memoizedState===null&&Ms(m,p,l),ac(p,p.return);break;case 30:break;default:Ms(m,p,l)}r=r.sibling}}function Xg(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Yl(l))}function Wg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Yl(s))}function wi(s,r,l,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)mv(s,r,l,u),r=r.sibling}function mv(s,r,l,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:wi(s,r,l,u),m&2048&&rc(9,r);break;case 1:wi(s,r,l,u);break;case 3:wi(s,r,l,u),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Yl(s)));break;case 12:if(m&2048){wi(s,r,l,u),s=r.stateNode;try{var p=r.memoizedProps,b=p.id,S=p.onPostCommit;typeof S=="function"&&S(b,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){se(r,r.return,V)}}else wi(s,r,l,u);break;case 31:wi(s,r,l,u);break;case 13:wi(s,r,l,u);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?wi(s,r,l,u):oc(s,r):p._visibility&2?wi(s,r,l,u):(p._visibility|=2,Io(s,r,l,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Xg(b,r);break;case 24:wi(s,r,l,u),m&2048&&Wg(r.alternate,r);break;default:wi(s,r,l,u)}}function Io(s,r,l,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=s,b=r,S=l,V=u,q=b.flags;switch(b.tag){case 0:case 11:case 15:Io(p,b,S,V,m),rc(8,b);break;case 23:break;case 22:var $=b.stateNode;b.memoizedState!==null?$._visibility&2?Io(p,b,S,V,m):oc(p,b):($._visibility|=2,Io(p,b,S,V,m)),m&&q&2048&&Xg(b.alternate,b);break;case 24:Io(p,b,S,V,m),m&&q&2048&&Wg(b.alternate,b);break;default:Io(p,b,S,V,m)}r=r.sibling}}function oc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,u=r,m=u.flags;switch(u.tag){case 22:oc(l,u),m&2048&&Xg(u.alternate,u);break;case 24:oc(l,u),m&2048&&Wg(u.alternate,u);break;default:oc(l,u)}r=r.sibling}}var lc=8192;function Do(s,r,l){if(s.subtreeFlags&lc)for(s=s.child;s!==null;)pv(s,r,l),s=s.sibling}function pv(s,r,l){switch(s.tag){case 26:Do(s,r,l),s.flags&lc&&s.memoizedState!==null&&Q2(l,Si,s.memoizedState,s.memoizedProps);break;case 5:Do(s,r,l);break;case 3:case 4:var u=Si;Si=Lh(s.stateNode.containerInfo),Do(s,r,l),Si=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=lc,lc=16777216,Do(s,r,l),lc=u):Do(s,r,l));break;default:Do(s,r,l)}}function yv(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function cc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];We=u,vv(u,s)}yv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_v(s),s=s.sibling}function _v(s){switch(s.tag){case 0:case 11:case 15:cc(s),s.flags&2048&&mr(9,s,s.return);break;case 3:cc(s);break;case 12:cc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,wh(s)):cc(s);break;default:cc(s)}}function wh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];We=u,vv(u,s)}yv(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:mr(8,r,r.return),wh(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,wh(r));break;default:wh(r)}s=s.sibling}}function vv(s,r){for(;We!==null;){var l=We;switch(l.tag){case 0:case 11:case 15:mr(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Yl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,We=u;else t:for(l=s;We!==null;){u=We;var m=u.sibling,p=u.return;if(cv(u),u===l){We=null;break t}if(m!==null){m.return=p,We=m;break t}We=p}}}var c2={getCacheForType:function(s){var r=sn(ze),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l},cacheSignal:function(){return sn(ze).controller.signal}},u2=typeof WeakMap=="function"?WeakMap:Map,Jt=0,ue=null,Lt=null,jt=0,ie=0,Fn=null,pr=!1,Mo=!1,Zg=!1,Ns=0,we=0,yr=0,Aa=0,Jg=0,Hn=0,No=0,uc=null,Rn=null,tm=!1,xh=0,bv=0,Ah=1/0,Ch=null,_r=null,qe=0,vr=null,Oo=null,Os=0,em=0,nm=null,Tv=null,hc=0,im=null;function qn(){return(Jt&2)!==0&&jt!==0?jt&-jt:Y.T!==null?cm():Ru()}function Ev(){if(Hn===0)if((jt&536870912)===0||Gt){var s=Jr;Jr<<=1,(Jr&3932160)===0&&(Jr=262144),Hn=s}else Hn=536870912;return s=jn.current,s!==null&&(s.flags|=32),Hn}function In(s,r,l){(s===ue&&(ie===2||ie===9)||s.cancelPendingCommit!==null)&&(ko(s,0),br(s,jt,Hn,!1)),ta(s,l),((Jt&2)===0||s!==ue)&&(s===ue&&((Jt&2)===0&&(Aa|=l),we===4&&br(s,jt,Hn,!1)),Zi(s))}function Sv(s,r,l){if((Jt&6)!==0)throw Error(i(327));var u=!l&&(r&127)===0&&(r&s.expiredLanes)===0||gi(s,r),m=u?d2(s,r):rm(s,r,!0),p=u;do{if(m===0){Mo&&!u&&br(s,r,0,!1);break}else{if(l=s.current.alternate,p&&!h2(l)){m=rm(s,r,!1),p=!1;continue}if(m===2){if(p=r,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var S=s;m=uc;var V=S.current.memoizedState.isDehydrated;if(V&&(ko(S,b).flags|=256),b=rm(S,b,!1),b!==2){if(Zg&&!V){S.errorRecoveryDisabledLanes|=p,Aa|=p,m=4;break t}p=Rn,Rn=m,p!==null&&(Rn===null?Rn=p:Rn.push.apply(Rn,p))}m=b}if(p=!1,m!==2)continue}}if(m===1){ko(s,0),br(s,r,0,!0);break}t:{switch(u=s,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:br(u,r,Hn,!pr);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=xh+300-vn(),10<m)){if(br(u,r,Hn,!pr),ki(u,0,!0)!==0)break t;Os=r,u.timeoutHandle=tb(wv.bind(null,u,l,Rn,Ch,tm,r,Hn,Aa,No,pr,p,"Throttled",-0,0),m);break t}wv(u,l,Rn,Ch,tm,r,Hn,Aa,No,pr,p,null,-0,0)}}break}while(!0);Zi(s)}function wv(s,r,l,u,m,p,b,S,V,q,$,Z,G,Q){if(s.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yi},pv(r,p,Z);var ft=(p&62914560)===p?xh-vn():(p&4194048)===p?bv-vn():0;if(ft=$2(Z,ft),ft!==null){Os=p,s.cancelPendingCommit=ft(Nv.bind(null,s,r,p,l,u,m,b,S,V,$,Z,null,G,Q)),br(s,p,b,!q);return}}Nv(s,r,p,l,u,m,b,S,V)}function h2(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],p=m.getSnapshot;m=m.value;try{if(!zn(p(),m))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function br(s,r,l,u){r&=~Jg,r&=~Aa,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var m=r;0<m;){var p=31-Re(m),b=1<<p;u[p]=-1,m&=~b}l!==0&&ea(s,l,r)}function Rh(){return(Jt&6)===0?(fc(0),!1):!0}function sm(){if(Lt!==null){if(ie===0)var s=Lt.return;else s=Lt,Es=ya=null,bg(s),wo=null,Ql=0,s=Lt;for(;s!==null;)ev(s.alternate,s),s=s.return;Lt=null}}function ko(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,M2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Os=0,sm(),ue=s,Lt=l=bs(s.current,null),jt=r,ie=0,Fn=null,pr=!1,Mo=gi(s,r),Zg=!1,No=Hn=Jg=Aa=yr=we=0,Rn=uc=null,tm=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var m=31-Re(u),p=1<<m;r|=s[m],u&=~p}return Ns=r,$u(),l}function xv(s,r){Nt=null,Y.H=nc,r===So||r===ih?(r=B_(),ie=3):r===lg?(r=B_(),ie=4):ie=r===Vg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Fn=r,Lt===null&&(we=1,yh(s,Jn(r,s.current)))}function Av(){var s=jn.current;return s===null?!0:(jt&4194048)===jt?ii===null:(jt&62914560)===jt||(jt&536870912)!==0?s===ii:!1}function Cv(){var s=Y.H;return Y.H=nc,s===null?nc:s}function Rv(){var s=Y.A;return Y.A=c2,s}function Ih(){we=4,pr||(jt&4194048)!==jt&&jn.current!==null||(Mo=!0),(yr&134217727)===0&&(Aa&134217727)===0||ue===null||br(ue,jt,Hn,!1)}function rm(s,r,l){var u=Jt;Jt|=2;var m=Cv(),p=Rv();(ue!==s||jt!==r)&&(Ch=null,ko(s,r)),r=!1;var b=we;t:do try{if(ie!==0&&Lt!==null){var S=Lt,V=Fn;switch(ie){case 8:sm(),b=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(r=!0);var q=ie;if(ie=0,Fn=null,Po(s,S,V,q),l&&Mo){b=0;break t}break;default:q=ie,ie=0,Fn=null,Po(s,S,V,q)}}f2(),b=we;break}catch($){xv(s,$)}while(!0);return r&&s.shellSuspendCounter++,Es=ya=null,Jt=u,Y.H=m,Y.A=p,Lt===null&&(ue=null,jt=0,$u()),b}function f2(){for(;Lt!==null;)Iv(Lt)}function d2(s,r){var l=Jt;Jt|=2;var u=Cv(),m=Rv();ue!==s||jt!==r?(Ch=null,Ah=vn()+500,ko(s,r)):Mo=gi(s,r);t:do try{if(ie!==0&&Lt!==null){r=Lt;var p=Fn;e:switch(ie){case 1:ie=0,Fn=null,Po(s,r,p,1);break;case 2:case 9:if(U_(p)){ie=0,Fn=null,Dv(r);break}r=function(){ie!==2&&ie!==9||ue!==s||(ie=7),Zi(s)},p.then(r,r);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:U_(p)?(ie=0,Fn=null,Dv(r)):(ie=0,Fn=null,Po(s,r,p,7));break;case 5:var b=null;switch(Lt.tag){case 26:b=Lt.memoizedState;case 5:case 27:var S=Lt;if(b?mb(b):S.stateNode.complete){ie=0,Fn=null;var V=S.sibling;if(V!==null)Lt=V;else{var q=S.return;q!==null?(Lt=q,Dh(q)):Lt=null}break e}}ie=0,Fn=null,Po(s,r,p,5);break;case 6:ie=0,Fn=null,Po(s,r,p,6);break;case 8:sm(),we=6;break t;default:throw Error(i(462))}}g2();break}catch($){xv(s,$)}while(!0);return Es=ya=null,Y.H=u,Y.A=m,Jt=l,Lt!==null?0:(ue=null,jt=0,$u(),we)}function g2(){for(;Lt!==null&&!Pd();)Iv(Lt)}function Iv(s){var r=J0(s.alternate,s,Ns);s.memoizedProps=s.pendingProps,r===null?Dh(s):Lt=r}function Dv(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=K0(l,r,r.pendingProps,r.type,void 0,jt);break;case 11:r=K0(l,r,r.pendingProps,r.type.render,r.ref,jt);break;case 5:bg(r);default:ev(l,r),r=Lt=R_(r,Ns),r=J0(l,r,Ns)}s.memoizedProps=s.pendingProps,r===null?Dh(s):Lt=r}function Po(s,r,l,u){Es=ya=null,bg(r),wo=null,Ql=0;var m=r.return;try{if(n2(s,m,r,l,jt)){we=1,yh(s,Jn(l,s.current)),Lt=null;return}}catch(p){if(m!==null)throw Lt=m,p;we=1,yh(s,Jn(l,s.current)),Lt=null;return}r.flags&32768?(Gt||u===1?s=!0:Mo||(jt&536870912)!==0?s=!1:(pr=s=!0,(u===2||u===9||u===3||u===6)&&(u=jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Mv(r,s)):Dh(r)}function Dh(s){var r=s;do{if((r.flags&32768)!==0){Mv(r,pr);return}s=r.return;var l=r2(r.alternate,r,Ns);if(l!==null){Lt=l;return}if(r=r.sibling,r!==null){Lt=r;return}Lt=r=s}while(r!==null);we===0&&(we=5)}function Mv(s,r){do{var l=a2(s.alternate,s);if(l!==null){l.flags&=32767,Lt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){Lt=s;return}Lt=s=l}while(s!==null);we=6,Lt=null}function Nv(s,r,l,u,m,p,b,S,V){s.cancelPendingCommit=null;do Mh();while(qe!==0);if((Jt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=Kd,zd(s,l,p,b,S,V),s===ue&&(Lt=ue=null,jt=0),Oo=r,vr=s,Os=l,em=p,nm=m,Tv=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,_2(Xs,function(){return Lv(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,m=ot.p,ot.p=2,b=Jt,Jt|=4;try{o2(s,r,l)}finally{Jt=b,ot.p=m,Y.T=u}}qe=1,Ov(),kv(),Pv()}}function Ov(){if(qe===1){qe=0;var s=vr,r=Oo,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var u=ot.p;ot.p=2;var m=Jt;Jt|=4;try{dv(r,s);var p=ym,b=v_(s.containerInfo),S=p.focusedElem,V=p.selectionRange;if(b!==S&&S&&S.ownerDocument&&__(S.ownerDocument.documentElement,S)){if(V!==null&&Fd(S)){var q=V.start,$=V.end;if($===void 0&&($=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min($,S.value.length);else{var Z=S.ownerDocument||document,G=Z&&Z.defaultView||window;if(G.getSelection){var Q=G.getSelection(),ft=S.textContent.length,St=Math.min(V.start,ft),ce=V.end===void 0?St:Math.min(V.end,ft);!Q.extend&&St>ce&&(b=ce,ce=St,St=b);var j=y_(S,St),U=y_(S,ce);if(j&&U&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var H=Z.createRange();H.setStart(j.node,j.offset),Q.removeAllRanges(),St>ce?(Q.addRange(H),Q.extend(U.node,U.offset)):(H.setEnd(U.node,U.offset),Q.addRange(H))}}}}for(Z=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var W=Z[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Hh=!!pm,ym=pm=null}finally{Jt=m,ot.p=u,Y.T=l}}s.current=r,qe=2}}function kv(){if(qe===2){qe=0;var s=vr,r=Oo,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var u=ot.p;ot.p=2;var m=Jt;Jt|=4;try{lv(s,r.alternate,r)}finally{Jt=m,ot.p=u,Y.T=l}}qe=3}}function Pv(){if(qe===4||qe===3){qe=0,Tu();var s=vr,r=Oo,l=Os,u=Tv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qe=5:(qe=0,Oo=vr=null,Vv(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(_r=null),ps(l),r=r.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(di,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Y.T,m=ot.p,ot.p=2,Y.T=null;try{for(var p=s.onRecoverableError,b=0;b<u.length;b++){var S=u[b];p(S.value,{componentStack:S.stack})}}finally{Y.T=r,ot.p=m}}(Os&3)!==0&&Mh(),Zi(s),m=s.pendingLanes,(l&261930)!==0&&(m&42)!==0?s===im?hc++:(hc=0,im=s):hc=0,fc(0)}}function Vv(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Yl(r)))}function Mh(){return Ov(),kv(),Pv(),Lv()}function Lv(){if(qe!==5)return!1;var s=vr,r=em;em=0;var l=ps(Os),u=Y.T,m=ot.p;try{ot.p=32>l?32:l,Y.T=null,l=nm,nm=null;var p=vr,b=Os;if(qe=0,Oo=vr=null,Os=0,(Jt&6)!==0)throw Error(i(331));var S=Jt;if(Jt|=4,_v(p.current),mv(p,p.current,b,l),Jt=S,fc(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(di,p)}catch{}return!0}finally{ot.p=m,Y.T=u,Vv(s,r)}}function zv(s,r,l){r=Jn(l,r),r=Pg(s.stateNode,r,2),s=fr(s,r,2),s!==null&&(ta(s,2),Zi(s))}function se(s,r,l){if(s.tag===3)zv(s,s,l);else for(;r!==null;){if(r.tag===3){zv(r,s,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(_r===null||!_r.has(u))){s=Jn(l,s),l=U0(2),u=fr(r,l,2),u!==null&&(j0(l,u,r,s),ta(u,2),Zi(u));break}}r=r.return}}function am(s,r,l){var u=s.pingCache;if(u===null){u=s.pingCache=new u2;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(l)||(Zg=!0,m.add(l),s=m2.bind(null,s,r,l),r.then(s,s))}function m2(s,r,l){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ue===s&&(jt&l)===l&&(we===4||we===3&&(jt&62914560)===jt&&300>vn()-xh?(Jt&2)===0&&ko(s,0):Jg|=l,No===jt&&(No=0)),Zi(s)}function Uv(s,r){r===0&&(r=Cu()),s=ga(s,r),s!==null&&(ta(s,r),Zi(s))}function p2(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),Uv(s,l)}function y2(s,r){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),Uv(s,l)}function _2(s,r){return Ce(s,r)}var Nh=null,Vo=null,om=!1,Oh=!1,lm=!1,Tr=0;function Zi(s){s!==Vo&&s.next===null&&(Vo===null?Nh=Vo=s:Vo=Vo.next=s),Oh=!0,om||(om=!0,b2())}function fc(s,r){if(!lm&&Oh){lm=!0;do for(var l=!1,u=Nh;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var b=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-Re(42|s)+1)-1,p&=m&~(b&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Hv(u,p))}else p=jt,p=ki(u,u===ue?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||gi(u,p)||(l=!0,Hv(u,p));u=u.next}while(l);lm=!1}}function v2(){jv()}function jv(){Oh=om=!1;var s=0;Tr!==0&&D2()&&(s=Tr);for(var r=vn(),l=null,u=Nh;u!==null;){var m=u.next,p=Bv(u,r);p===0?(u.next=null,l===null?Nh=m:l.next=m,m===null&&(Vo=l)):(l=u,(s!==0||(p&3)!==0)&&(Oh=!0)),u=m}qe!==0&&qe!==5||fc(s),Tr!==0&&(Tr=0)}function Bv(s,r){for(var l=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-Re(p),S=1<<b,V=m[b];V===-1?((S&l)===0||(S&u)!==0)&&(m[b]=Ld(S,r)):V<=r&&(s.expiredLanes|=S),p&=~S}if(r=ue,l=jt,l=ki(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===r&&(ie===2||ie===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&$s(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||gi(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(u!==null&&$s(u),ps(l)){case 2:case 8:l=El;break;case 32:l=Xs;break;case 268435456:l=Eu;break;default:l=Xs}return u=Fv.bind(null,s),l=Ce(l,u),s.callbackPriority=r,s.callbackNode=l,r}return u!==null&&u!==null&&$s(u),s.callbackPriority=2,s.callbackNode=null,2}function Fv(s,r){if(qe!==0&&qe!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Mh()&&s.callbackNode!==l)return null;var u=jt;return u=ki(s,s===ue?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Sv(s,u,r),Bv(s,vn()),s.callbackNode!=null&&s.callbackNode===l?Fv.bind(null,s):null)}function Hv(s,r){if(Mh())return null;Sv(s,r,!0)}function b2(){N2(function(){(Jt&6)!==0?Ce(Tl,v2):jv()})}function cm(){if(Tr===0){var s=To;s===0&&(s=Ni,Ni<<=1,(Ni&261888)===0&&(Ni=256)),Tr=s}return Tr}function qv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ro(""+s)}function Gv(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function T2(s,r,l,u,m){if(r==="submit"&&l&&l.stateNode===m){var p=qv((m[$e]||null).action),b=u.submitter;b&&(r=(r=b[$e]||null)?qv(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var S=new Gi("action","action",null,u,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Tr!==0){var V=b?Gv(m,b):new FormData(m);Ig(l,{pending:!0,data:V,method:m.method,action:p},null,V)}}else typeof p=="function"&&(S.preventDefault(),V=b?Gv(m,b):new FormData(m),Ig(l,{pending:!0,data:V,method:m.method,action:p},p,V))},currentTarget:m}]})}}for(var um=0;um<Yd.length;um++){var hm=Yd[um],E2=hm.toLowerCase(),S2=hm[0].toUpperCase()+hm.slice(1);Ei(E2,"on"+S2)}Ei(E_,"onAnimationEnd"),Ei(S_,"onAnimationIteration"),Ei(w_,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(UA,"onTransitionRun"),Ei(jA,"onTransitionStart"),Ei(BA,"onTransitionCancel"),Ei(x_,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dc));function Yv(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],m=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var b=u.length-1;0<=b;b--){var S=u[b],V=S.instance,q=S.currentTarget;if(S=S.listener,V!==p&&m.isPropagationStopped())break t;p=S,m.currentTarget=q;try{p(m)}catch($){Qu($)}m.currentTarget=null,p=V}else for(b=0;b<u.length;b++){if(S=u[b],V=S.instance,q=S.currentTarget,S=S.listener,V!==p&&m.isPropagationStopped())break t;p=S,m.currentTarget=q;try{p(m)}catch($){Qu($)}m.currentTarget=null,p=V}}}}function zt(s,r){var l=r[to];l===void 0&&(l=r[to]=new Set);var u=s+"__bubble";l.has(u)||(Kv(r,s,2,!1),l.add(u))}function fm(s,r,l){var u=0;r&&(u|=4),Kv(l,s,u,r)}var kh="_reactListening"+Math.random().toString(36).slice(2);function dm(s){if(!s[kh]){s[kh]=!0,xl.forEach(function(l){l!=="selectionchange"&&(w2.has(l)||fm(l,!1,s),fm(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[kh]||(r[kh]=!0,fm("selectionchange",!1,r))}}function Kv(s,r,l,u){switch(Eb(r)){case 2:var m=Z2;break;case 8:m=J2;break;default:m=Rm}l=m.bind(null,r,l,s),m=void 0,!aa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(r,l,{capture:!0,passive:m}):s.addEventListener(r,l,!0):m!==void 0?s.addEventListener(r,l,{passive:m}):s.addEventListener(r,l,!1)}function gm(s,r,l,u,m){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===m)break;if(b===4)for(b=u.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;S!==null;){if(b=zi(S),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){u=p=b;continue t}S=S.parentNode}}u=u.return}nr(function(){var q=p,$=$n(l),Z=[];t:{var G=A_.get(s);if(G!==void 0){var Q=Gi,ft=s;switch(s){case"keypress":if(la(l)===0)break t;case"keydown":case"keyup":Q=Gu;break;case"focusin":ft="focus",Q=ua;break;case"focusout":ft="blur",Q=ua;break;case"beforeblur":case"afterblur":Q=ua;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case E_:case S_:case w_:Q=zu;break;case x_:Q=x;break;case"scroll":case"scrollend":Q=Ll;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=vs;break;case"toggle":case"beforetoggle":Q=Mt}var St=(r&4)!==0,ce=!St&&(s==="scroll"||s==="scrollend"),j=St?G!==null?G+"Capture":null:G;St=[];for(var U=q,H;U!==null;){var W=U;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||j===null||(W=_i(U,j),W!=null&&St.push(gc(U,W,H))),ce)break;U=U.return}0<St.length&&(G=new Q(G,ft,null,l,$),Z.push({event:G,listeners:St}))}}if((r&7)===0){t:{if(G=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",G&&l!==kl&&(ft=l.relatedTarget||l.fromElement)&&(zi(ft)||ft[Vi]))break t;if((Q||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(ft=l.relatedTarget||l.toElement,Q=q,ft=ft?zi(ft):null,ft!==null&&(ce=o(ft),St=ft.tag,ft!==ce||St!==5&&St!==27&&St!==6)&&(ft=null)):(Q=null,ft=q),Q!==ft)){if(St=zl,W="onMouseLeave",j="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(St=vs,W="onPointerLeave",j="onPointerEnter",U="pointer"),ce=Q==null?G:Vn(Q),H=ft==null?G:Vn(ft),G=new St(W,U+"leave",Q,l,$),G.target=ce,G.relatedTarget=H,W=null,zi($)===q&&(St=new St(j,U+"enter",ft,l,$),St.target=H,St.relatedTarget=ce,W=St),ce=W,Q&&ft)e:{for(St=x2,j=Q,U=ft,H=0,W=j;W;W=St(W))H++;W=0;for(var _t=U;_t;_t=St(_t))W++;for(;0<H-W;)j=St(j),H--;for(;0<W-H;)U=St(U),W--;for(;H--;){if(j===U||U!==null&&j===U.alternate){St=j;break e}j=St(j),U=St(U)}St=null}else St=null;Q!==null&&Qv(Z,G,Q,St,!1),ft!==null&&ce!==null&&Qv(Z,ce,ft,St,!0)}}t:{if(G=q?Vn(q):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Xt=h_;else if(c_(G))if(f_)Xt=VA;else{Xt=kA;var gt=OA}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&so(q.elementType)&&(Xt=h_):Xt=PA;if(Xt&&(Xt=Xt(s,q))){u_(Z,Xt,l,$);break t}gt&&gt(s,G,q),s==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&Ml(G,"number",G.value)}switch(gt=q?Vn(q):window,s){case"focusin":(c_(gt)||gt.contentEditable==="true")&&(fo=gt,Hd=q,Hl=null);break;case"focusout":Hl=Hd=fo=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,b_(Z,l,$);break;case"selectionchange":if(zA)break;case"keydown":case"keyup":b_(Z,l,$)}var Ot;if(Zt)t:{switch(s){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else ho?ha(s,l)&&(Bt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Bt="onCompositionStart");Bt&&(Qi&&l.locale!=="ko"&&(ho||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&ho&&(Ot=Vl()):(qi=$,Pl="value"in qi?qi.value:qi.textContent,ho=!0)),gt=Ph(q,Bt),0<gt.length&&(Bt=new Ki(Bt,s,null,l,$),Z.push({event:Bt,listeners:gt}),Ot?Bt.data=Ot:(Ot=uo(l),Ot!==null&&(Bt.data=Ot)))),(Ot=Wn?IA(s,l):DA(s,l))&&(Bt=Ph(q,"onBeforeInput"),0<Bt.length&&(gt=new Ki("onBeforeInput","beforeinput",null,l,$),Z.push({event:gt,listeners:Bt}),gt.data=Ot)),T2(Z,s,q,l,$)}Yv(Z,r)})}function gc(s,r,l){return{instance:s,listener:r,currentTarget:l}}function Ph(s,r){for(var l=r+"Capture",u=[];s!==null;){var m=s,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=_i(s,l),m!=null&&u.unshift(gc(s,m,p)),m=_i(s,r),m!=null&&u.push(gc(s,m,p))),s.tag===3)return u;s=s.return}return[]}function x2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Qv(s,r,l,u,m){for(var p=r._reactName,b=[];l!==null&&l!==u;){var S=l,V=S.alternate,q=S.stateNode;if(S=S.tag,V!==null&&V===u)break;S!==5&&S!==26&&S!==27||q===null||(V=q,m?(q=_i(l,p),q!=null&&b.unshift(gc(l,q,V))):m||(q=_i(l,p),q!=null&&b.push(gc(l,q,V)))),l=l.return}b.length!==0&&s.push({event:r,listeners:b})}var A2=/\r\n?/g,C2=/\u0000|\uFFFD/g;function $v(s){return(typeof s=="string"?s:""+s).replace(A2,`
`).replace(C2,"")}function Xv(s,r){return r=$v(r),$v(s)===r}function le(s,r,l,u,m,p){switch(l){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||wn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&wn(s,""+u);break;case"className":Ln(s,"class",u);break;case"tabIndex":Ln(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(s,l,u);break;case"style":Ol(s,u,p);break;case"data":if(r!=="object"){Ln(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ro(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(r!=="input"&&le(s,r,"name",m.name,m,null),le(s,r,"formEncType",m.formEncType,m,null),le(s,r,"formMethod",m.formMethod,m,null),le(s,r,"formTarget",m.formTarget,m,null)):(le(s,r,"encType",m.encType,m,null),le(s,r,"method",m.method,m,null),le(s,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ro(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=yi);break;case"onScroll":u!=null&&zt("scroll",s);break;case"onScrollEnd":u!=null&&zt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=ro(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":zt("beforetoggle",s),zt("toggle",s),no(s,"popover",u);break;case"xlinkActuate":Le(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Le(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Le(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Le(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Le(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Le(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Le(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Le(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Le(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":no(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Pu.get(l)||l,no(s,l,u))}}function mm(s,r,l,u,m,p){switch(l){case"style":Ol(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?wn(s,u):(typeof u=="number"||typeof u=="bigint")&&wn(s,""+u);break;case"onScroll":u!=null&&zt("scroll",s);break;case"onScrollEnd":u!=null&&zt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),r=l.slice(2,m?l.length-7:void 0),p=s[$e]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(r,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,u,m);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):no(s,l,u)}}}function an(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",s),zt("load",s);var u=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var b=l[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:le(s,r,p,b,l,null)}}m&&le(s,r,"srcSet",l.srcSet,l,null),u&&le(s,r,"src",l.src,l,null);return;case"input":zt("invalid",s);var S=p=b=m=null,V=null,q=null;for(u in l)if(l.hasOwnProperty(u)){var $=l[u];if($!=null)switch(u){case"name":m=$;break;case"type":b=$;break;case"checked":V=$;break;case"defaultChecked":q=$;break;case"value":p=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:le(s,r,u,$,l,null)}}Nu(s,p,S,V,q,b,m,!1);return;case"select":zt("invalid",s),u=b=p=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":p=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:le(s,r,m,S,l,null)}r=p,l=b,s.multiple=!!u,r!=null?Zs(s,!!u,r,!1):l!=null&&Zs(s,!!u,l,!0);return;case"textarea":zt("invalid",s),p=m=u=null;for(b in l)if(l.hasOwnProperty(b)&&(S=l[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":m=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:le(s,r,b,S,l,null)}Js(s,u,m,p);return;case"option":for(V in l)l.hasOwnProperty(V)&&(u=l[V],u!=null)&&(V==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":le(s,r,V,u,l,null));return;case"dialog":zt("beforetoggle",s),zt("toggle",s),zt("cancel",s),zt("close",s);break;case"iframe":case"object":zt("load",s);break;case"video":case"audio":for(u=0;u<dc.length;u++)zt(dc[u],s);break;case"image":zt("error",s),zt("load",s);break;case"details":zt("toggle",s);break;case"embed":case"source":case"link":zt("error",s),zt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(u=l[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:le(s,r,q,u,l,null)}return;default:if(so(r)){for($ in l)l.hasOwnProperty($)&&(u=l[$],u!==void 0&&mm(s,r,$,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&le(s,r,S,u,l,null))}function R2(s,r,l,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,b=null,S=null,V=null,q=null,$=null;for(Q in l){var Z=l[Q];if(l.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=Z;default:u.hasOwnProperty(Q)||le(s,r,Q,null,u,Z)}}for(var G in u){var Q=u[G];if(Z=l[G],u.hasOwnProperty(G)&&(Q!=null||Z!=null))switch(G){case"type":p=Q;break;case"name":m=Q;break;case"checked":q=Q;break;case"defaultChecked":$=Q;break;case"value":b=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:Q!==Z&&le(s,r,G,Q,u,Z)}}io(s,b,S,V,q,$,p,m);return;case"select":Q=b=S=G=null;for(p in l)if(V=l[p],l.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":Q=V;default:u.hasOwnProperty(p)||le(s,r,p,null,u,V)}for(m in u)if(p=u[m],V=l[m],u.hasOwnProperty(m)&&(p!=null||V!=null))switch(m){case"value":G=p;break;case"defaultValue":S=p;break;case"multiple":b=p;default:p!==V&&le(s,r,m,p,u,V)}r=S,l=b,u=Q,G!=null?Zs(s,!!l,G,!1):!!u!=!!l&&(r!=null?Zs(s,!!l,r,!0):Zs(s,!!l,l?[]:"",!1));return;case"textarea":Q=G=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:le(s,r,S,null,u,m)}for(b in u)if(m=u[b],p=l[b],u.hasOwnProperty(b)&&(m!=null||p!=null))switch(b){case"value":G=m;break;case"defaultValue":Q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&le(s,r,b,m,u,p)}Ou(s,G,Q);return;case"option":for(var ft in l)G=l[ft],l.hasOwnProperty(ft)&&G!=null&&!u.hasOwnProperty(ft)&&(ft==="selected"?s.selected=!1:le(s,r,ft,null,u,G));for(V in u)G=u[V],Q=l[V],u.hasOwnProperty(V)&&G!==Q&&(G!=null||Q!=null)&&(V==="selected"?s.selected=G&&typeof G!="function"&&typeof G!="symbol":le(s,r,V,G,u,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in l)G=l[St],l.hasOwnProperty(St)&&G!=null&&!u.hasOwnProperty(St)&&le(s,r,St,null,u,G);for(q in u)if(G=u[q],Q=l[q],u.hasOwnProperty(q)&&G!==Q&&(G!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,r));break;default:le(s,r,q,G,u,Q)}return;default:if(so(r)){for(var ce in l)G=l[ce],l.hasOwnProperty(ce)&&G!==void 0&&!u.hasOwnProperty(ce)&&mm(s,r,ce,void 0,u,G);for($ in u)G=u[$],Q=l[$],!u.hasOwnProperty($)||G===Q||G===void 0&&Q===void 0||mm(s,r,$,G,u,Q);return}}for(var j in l)G=l[j],l.hasOwnProperty(j)&&G!=null&&!u.hasOwnProperty(j)&&le(s,r,j,null,u,G);for(Z in u)G=u[Z],Q=l[Z],!u.hasOwnProperty(Z)||G===Q||G==null&&Q==null||le(s,r,Z,G,u,Q)}function Wv(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function I2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],p=m.transferSize,b=m.initiatorType,S=m.duration;if(p&&S&&Wv(b)){for(b=0,S=m.responseEnd,u+=1;u<l.length;u++){var V=l[u],q=V.startTime;if(q>S)break;var $=V.transferSize,Z=V.initiatorType;$&&Wv(Z)&&(V=V.responseEnd,b+=$*(V<S?1:(S-q)/(V-q)))}if(--u,r+=8*(p+b)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var pm=null,ym=null;function Vh(s){return s.nodeType===9?s:s.ownerDocument}function Zv(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function _m(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var vm=null;function D2(){var s=window.event;return s&&s.type==="popstate"?s===vm?!1:(vm=s,!0):(vm=null,!1)}var tb=typeof setTimeout=="function"?setTimeout:void 0,M2=typeof clearTimeout=="function"?clearTimeout:void 0,eb=typeof Promise=="function"?Promise:void 0,N2=typeof queueMicrotask=="function"?queueMicrotask:typeof eb<"u"?function(s){return eb.resolve(null).then(s).catch(O2)}:tb;function O2(s){setTimeout(function(){throw s})}function Er(s){return s==="head"}function nb(s,r){var l=r,u=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(m),jo(r);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")mc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,mc(l);for(var p=l.firstChild;p;){var b=p.nextSibling,S=p.nodeName;p[Li]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=b}}else l==="body"&&mc(s.ownerDocument.body);l=m}while(l);jo(r)}function ib(s,r){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function bm(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":bm(l),eo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function k2(s,r,l,u){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Li])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=si(s.nextSibling),s===null)break}return null}function P2(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=si(s.nextSibling),s===null))return null;return s}function sb(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=si(s.nextSibling),s===null))return null;return s}function Tm(s){return s.data==="$?"||s.data==="$~"}function Em(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function V2(s,r){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||l.readyState!=="loading")r();else{var u=function(){r(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function si(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Sm=null;function rb(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(r===0)return si(s.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}s=s.nextSibling}return null}function ab(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return s;r--}else l!=="/$"&&l!=="/&"||r++}s=s.previousSibling}return null}function ob(s,r,l){switch(r=Vh(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function mc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);eo(s)}var ri=new Map,lb=new Set;function Lh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ks=ot.d;ot.d={f:L2,r:z2,D:U2,C:j2,L:B2,m:F2,X:q2,S:H2,M:G2};function L2(){var s=ks.f(),r=Rh();return s||r}function z2(s){var r=Qn(s);r!==null&&r.tag===5&&r.type==="form"?x0(r):ks.r(s)}var Lo=typeof document>"u"?null:document;function cb(s,r,l){var u=Lo;if(u&&typeof r=="string"&&r){var m=Sn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),lb.has(m)||(lb.add(m),s={rel:s,crossOrigin:l,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),an(r,"link",s),Ve(r),u.head.appendChild(r)))}}function U2(s){ks.D(s),cb("dns-prefetch",s,null)}function j2(s,r){ks.C(s,r),cb("preconnect",s,r)}function B2(s,r,l){ks.L(s,r,l);var u=Lo;if(u&&s&&r){var m='link[rel="preload"][as="'+Sn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Sn(l.imageSizes)+'"]')):m+='[href="'+Sn(s)+'"]';var p=m;switch(r){case"style":p=zo(s);break;case"script":p=Uo(s)}ri.has(p)||(s=v({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),ri.set(p,s),u.querySelector(m)!==null||r==="style"&&u.querySelector(pc(p))||r==="script"&&u.querySelector(yc(p))||(r=u.createElement("link"),an(r,"link",s),Ve(r),u.head.appendChild(r)))}}function F2(s,r){ks.m(s,r);var l=Lo;if(l&&s){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Sn(u)+'"][href="'+Sn(s)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Uo(s)}if(!ri.has(p)&&(s=v({rel:"modulepreload",href:s},r),ri.set(p,s),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(yc(p)))return}u=l.createElement("link"),an(u,"link",s),Ve(u),l.head.appendChild(u)}}}function H2(s,r,l){ks.S(s,r,l);var u=Lo;if(u&&s){var m=Ui(u).hoistableStyles,p=zo(s);r=r||"default";var b=m.get(p);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(pc(p)))S.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},l),(l=ri.get(p))&&wm(s,l);var V=b=u.createElement("link");Ve(V),an(V,"link",s),V._p=new Promise(function(q,$){V.onload=q,V.onerror=$}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,zh(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:S},m.set(p,b)}}}function q2(s,r){ks.X(s,r);var l=Lo;if(l&&s){var u=Ui(l).hoistableScripts,m=Uo(s),p=u.get(m);p||(p=l.querySelector(yc(m)),p||(s=v({src:s,async:!0},r),(r=ri.get(m))&&xm(s,r),p=l.createElement("script"),Ve(p),an(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function G2(s,r){ks.M(s,r);var l=Lo;if(l&&s){var u=Ui(l).hoistableScripts,m=Uo(s),p=u.get(m);p||(p=l.querySelector(yc(m)),p||(s=v({src:s,async:!0,type:"module"},r),(r=ri.get(m))&&xm(s,r),p=l.createElement("script"),Ve(p),an(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function ub(s,r,l,u){var m=(m=bt.current)?Lh(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=zo(l.href),l=Ui(m).hoistableStyles,u=l.get(r),u||(u={type:"style",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=zo(l.href);var p=Ui(m).hoistableStyles,b=p.get(s);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=m.querySelector(pc(s)))&&!p._p&&(b.instance=p,b.state.loading=5),ri.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ri.set(s,l),p||Y2(m,s,l,b.state))),r&&u===null)throw Error(i(528,""));return b}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Uo(l),l=Ui(m).hoistableScripts,u=l.get(r),u||(u={type:"script",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function zo(s){return'href="'+Sn(s)+'"'}function pc(s){return'link[rel="stylesheet"]['+s+"]"}function hb(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function Y2(s,r,l,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),an(r,"link",l),Ve(r),s.head.appendChild(r))}function Uo(s){return'[src="'+Sn(s)+'"]'}function yc(s){return"script[async]"+s}function fb(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+Sn(l.href)+'"]');if(u)return r.instance=u,Ve(u),u;var m=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ve(u),an(u,"style",m),zh(u,l.precedence,s),r.instance=u;case"stylesheet":m=zo(l.href);var p=s.querySelector(pc(m));if(p)return r.state.loading|=4,r.instance=p,Ve(p),p;u=hb(l),(m=ri.get(m))&&wm(u,m),p=(s.ownerDocument||s).createElement("link"),Ve(p);var b=p;return b._p=new Promise(function(S,V){b.onload=S,b.onerror=V}),an(p,"link",u),r.state.loading|=4,zh(p,l.precedence,s),r.instance=p;case"script":return p=Uo(l.src),(m=s.querySelector(yc(p)))?(r.instance=m,Ve(m),m):(u=l,(m=ri.get(p))&&(u=v({},l),xm(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Ve(m),an(m,"link",u),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,zh(u,l.precedence,s));return r.instance}function zh(s,r,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===r)p=S;else if(p!==m)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function wm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function xm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Uh=null;function db(s,r,l){if(Uh===null){var u=new Map,m=Uh=new Map;m.set(l,u)}else m=Uh,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var p=l[m];if(!(p[Li]||p[Pe]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=s+b;var S=u.get(b);S?S.push(p):u.set(b,[p])}}return u}function gb(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function K2(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function mb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function Q2(s,r,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=zo(u.href),p=r.querySelector(pc(m));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=jh.bind(s),r.then(s,s)),l.state.loading|=4,l.instance=p,Ve(p);return}p=r.ownerDocument||r,u=hb(u),(m=ri.get(m))&&wm(u,m),p=p.createElement("link"),Ve(p);var b=p;b._p=new Promise(function(S,V){b.onload=S,b.onerror=V}),an(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=jh.bind(s),r.addEventListener("load",l),r.addEventListener("error",l))}}var Am=0;function $2(s,r){return s.stylesheets&&s.count===0&&Fh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Fh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+r);0<s.imgBytes&&Am===0&&(Am=62500*I2());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Fh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>Am?50:800)+r);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function jh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Bh=null;function Fh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Bh=new Map,r.forEach(X2,s),Bh=null,jh.call(s))}function X2(s,r){if(!(r.state.loading&4)){var l=Bh.get(s);if(l)var u=l.get(null);else{l=new Map,Bh.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var b=m[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}m=r.instance,b=m.getAttribute("data-precedence"),p=l.get(b)||u,p===u&&l.set(null,m),l.set(b,m),this.count++,u=jh.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var _c={$$typeof:J,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function W2(s,r,l,u,m,p,b,S,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function pb(s,r,l,u,m,p,b,S,V,q,$,Z){return s=new W2(s,r,l,b,V,q,$,Z,S),r=1,p===!0&&(r|=24),p=Un(3,null,null,r),s.current=p,p.stateNode=s,r=rg(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:r},cg(p),s}function yb(s){return s?(s=po,s):po}function _b(s,r,l,u,m,p){m=yb(m),u.context===null?u.context=m:u.pendingContext=m,u=hr(r),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=fr(s,u,r),l!==null&&(In(l,s,r),Xl(l,s,r))}function vb(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Cm(s,r){vb(s,r),(s=s.alternate)&&vb(s,r)}function bb(s){if(s.tag===13||s.tag===31){var r=ga(s,67108864);r!==null&&In(r,s,67108864),Cm(s,67108864)}}function Tb(s){if(s.tag===13||s.tag===31){var r=qn();r=na(r);var l=ga(s,r);l!==null&&In(l,s,r),Cm(s,r)}}var Hh=!0;function Z2(s,r,l,u){var m=Y.T;Y.T=null;var p=ot.p;try{ot.p=2,Rm(s,r,l,u)}finally{ot.p=p,Y.T=m}}function J2(s,r,l,u){var m=Y.T;Y.T=null;var p=ot.p;try{ot.p=8,Rm(s,r,l,u)}finally{ot.p=p,Y.T=m}}function Rm(s,r,l,u){if(Hh){var m=Im(u);if(m===null)gm(s,r,u,qh,l),Sb(s,u);else if(eC(m,s,r,l,u))u.stopPropagation();else if(Sb(s,u),r&4&&-1<tC.indexOf(s)){for(;m!==null;){var p=Qn(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Oi(p.pendingLanes);if(b!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var V=1<<31-Re(b);S.entanglements[1]|=V,b&=~V}Zi(p),(Jt&6)===0&&(Ah=vn()+500,fc(0))}}break;case 31:case 13:S=ga(p,2),S!==null&&In(S,p,2),Rh(),Cm(p,2)}if(p=Im(u),p===null&&gm(s,r,u,qh,l),p===m)break;m=p}m!==null&&u.stopPropagation()}else gm(s,r,u,null,l)}}function Im(s){return s=$n(s),Dm(s)}var qh=null;function Dm(s){if(qh=null,s=zi(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=c(r),s!==null)return s;s=null}else if(l===31){if(s=h(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return qh=s,null}function Eb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zr()){case Tl:return 2;case El:return 8;case Xs:case Vd:return 32;case Eu:return 268435456;default:return 32}default:return 32}}var Mm=!1,Sr=null,wr=null,xr=null,vc=new Map,bc=new Map,Ar=[],tC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sb(s,r){switch(s){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":vc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":bc.delete(r.pointerId)}}function Tc(s,r,l,u,m,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},r!==null&&(r=Qn(r),r!==null&&bb(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function eC(s,r,l,u,m){switch(r){case"focusin":return Sr=Tc(Sr,s,r,l,u,m),!0;case"dragenter":return wr=Tc(wr,s,r,l,u,m),!0;case"mouseover":return xr=Tc(xr,s,r,l,u,m),!0;case"pointerover":var p=m.pointerId;return vc.set(p,Tc(vc.get(p)||null,s,r,l,u,m)),!0;case"gotpointercapture":return p=m.pointerId,bc.set(p,Tc(bc.get(p)||null,s,r,l,u,m)),!0}return!1}function wb(s){var r=zi(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){s.blockedOn=r,mi(s.priority,function(){Tb(l)});return}}else if(r===31){if(r=h(l),r!==null){s.blockedOn=r,mi(s.priority,function(){Tb(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Gh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Im(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);kl=u,l.target.dispatchEvent(u),kl=null}else return r=Qn(l),r!==null&&bb(r),s.blockedOn=l,!1;r.shift()}return!0}function xb(s,r,l){Gh(s)&&l.delete(r)}function nC(){Mm=!1,Sr!==null&&Gh(Sr)&&(Sr=null),wr!==null&&Gh(wr)&&(wr=null),xr!==null&&Gh(xr)&&(xr=null),vc.forEach(xb),bc.forEach(xb)}function Yh(s,r){s.blockedOn===r&&(s.blockedOn=null,Mm||(Mm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,nC)))}var Kh=null;function Ab(s){Kh!==s&&(Kh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Kh===s&&(Kh=null);for(var r=0;r<s.length;r+=3){var l=s[r],u=s[r+1],m=s[r+2];if(typeof u!="function"){if(Dm(u||l)===null)continue;break}var p=Qn(l);p!==null&&(s.splice(r,3),r-=3,Ig(p,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function jo(s){function r(V){return Yh(V,s)}Sr!==null&&Yh(Sr,s),wr!==null&&Yh(wr,s),xr!==null&&Yh(xr,s),vc.forEach(r),bc.forEach(r);for(var l=0;l<Ar.length;l++){var u=Ar[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Ar.length&&(l=Ar[0],l.blockedOn===null);)wb(l),l.blockedOn===null&&Ar.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],p=l[u+1],b=m[$e]||null;if(typeof p=="function")b||Ab(l);else if(b){var S=null;if(p&&p.hasAttribute("formAction")){if(m=p,b=p[$e]||null)S=b.formAction;else if(Dm(m)!==null)continue}else S=b.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),Ab(l)}}}function Cb(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Nm(s){this._internalRoot=s}Qh.prototype.render=Nm.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,u=qn();_b(l,u,s,r,null,null)},Qh.prototype.unmount=Nm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;_b(s.current,2,null,s,null,null),Rh(),r[Vi]=null}};function Qh(s){this._internalRoot=s}Qh.prototype.unstable_scheduleHydration=function(s){if(s){var r=Ru();s={blockedOn:null,target:s,priority:r};for(var l=0;l<Ar.length&&r!==0&&r<Ar[l].priority;l++);Ar.splice(l,0,s),l===0&&wb(s)}};var Rb=t.version;if(Rb!=="19.2.3")throw Error(i(527,Rb,"19.2.3"));ot.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var iC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{di=$h.inject(iC),tn=$h}catch{}}return Sc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,u="",m=P0,p=V0,b=L0;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=pb(s,1,!1,null,null,l,u,null,m,p,b,Cb),s[Vi]=r.current,dm(s),new Nm(r)},Sc.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var u=!1,m="",p=P0,b=V0,S=L0,V=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),r=pb(s,1,!0,r,l??null,u,m,V,p,b,S,Cb),r.context=yb(null),l=r.current,u=qn(),u=na(u),m=hr(u),m.callback=null,fr(l,m,u),l=u,r.current.lanes=l,ta(r,l),Zi(r),s[Vi]=r.current,dm(s),new Qh(r)},Sc.version="19.2.3",Sc}var zb;function dC(){if(zb)return Pm.exports;zb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Pm.exports=fC(),Pm.exports}var gC=dC();const mC=()=>{};var Ub={};const GS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},pC=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],c=n[e++],h=n[e++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return t.join("")},YS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,g=f?n[a+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let E=(h&15)<<2|g>>6,w=g&63;f||(w=64,c||(E=64)),i.push(e[y],e[v],e[E],e[w])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(GS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):pC(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||g==null||v==null)throw new yC;const E=o<<2|h>>4;if(i.push(E),g!==64){const w=h<<4&240|g>>2;if(i.push(w),v!==64){const M=g<<6&192|v;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _C=function(n){const t=GS(n);return YS.encodeByteArray(t,!0)},Rf=function(n){return _C(n).replace(/\./g,"")},KS=function(n){try{return YS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function vC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bC=()=>vC().__FIREBASE_DEFAULTS__,TC=()=>{if(typeof process>"u"||typeof Ub>"u")return;const n=Ub.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},EC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&KS(n[1]);return t&&JSON.parse(t)},id=()=>{try{return mC()||bC()||TC()||EC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},QS=n=>id()?.emulatorHosts?.[n],SC=n=>{const t=QS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},$S=()=>id()?.config,XS=n=>id()?.[`_${n}`];class wC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function dl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WS(n){return(await fetch(n,{credentials:"include"})).ok}function xC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Rf(JSON.stringify(e)),Rf(JSON.stringify(c)),""].join(".")}const Uc={};function AC(){const n={prod:[],emulator:[]};for(const t of Object.keys(Uc))Uc[t]?n.emulator.push(t):n.prod.push(t);return n}function CC(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let jb=!1;function ZS(n,t){if(typeof window>"u"||typeof document>"u"||!dl(window.location.host)||Uc[n]===t||Uc[n]||jb)return;Uc[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=AC().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{jb=!0,c()},E}function y(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=CC(i),w=e("text"),M=document.getElementById(w)||document.createElement("span"),N=e("learnmore"),D=document.getElementById(N)||document.createElement("a"),B=e("preprendIcon"),tt=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const J=E.element;h(J),y(D,N);const at=g();f(tt,B),J.append(tt,M,D,at),document.body.appendChild(J)}o?(M.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function IC(){const n=id()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function MC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NC(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function OC(){return!IC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t1(){try{return typeof indexedDB=="object"}catch{return!1}}function e1(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}function kC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const PC="FirebaseError";class Mi extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=PC,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ka.prototype.create)}}class Ka{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],c=o?VC(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Mi(a,h,i)}}function VC(n,t){return n.replace(LC,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const LC=/\{\$([^}]+)}/g;function zC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Br(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=n[a],c=t[a];if(Bb(o)&&Bb(c)){if(!Br(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function Bb(n){return n!==null&&typeof n=="object"}function uu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Dc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function Mc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function UC(n,t){const e=new jC(n,t);return e.subscribe.bind(e)}class jC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");BC(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=Um),a.error===void 0&&(a.error=Um),a.complete===void 0&&(a.complete=Um);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BC(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Um(){}const FC=1e3,HC=2,qC=14400*1e3,GC=.5;function Fb(n,t=FC,e=HC){const i=t*Math.pow(e,n),a=Math.round(GC*i*(Math.random()-.5)*2);return Math.min(qC,i+a)}function xe(n){return n&&n._delegate?n._delegate:n}class Di{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Da="[DEFAULT]";class YC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new wC;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(QC(t))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=Da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Da){return this.instances.has(t)}getOptions(t=Da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:KC(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Da){return this.component?this.component.multipleInstances?t:Da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KC(n){return n===Da?void 0:n}function QC(n){return n.instantiationMode==="EAGER"}class $C{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new YC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ft||(Ft={}));const XC={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},WC=Ft.INFO,ZC={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},JC=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=ZC[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sd{constructor(t){this.name=t,this._logLevel=WC,this._logHandler=JC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const tR=(n,t)=>t.some(e=>n instanceof e);let Hb,qb;function eR(){return Hb||(Hb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nR(){return qb||(qb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n1=new WeakMap,pp=new WeakMap,i1=new WeakMap,jm=new WeakMap,Jp=new WeakMap;function iR(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Pr(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&n1.set(e,n)}).catch(()=>{}),Jp.set(t,n),t}function sR(n){if(pp.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});pp.set(n,t)}let yp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return pp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||i1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Pr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function rR(n){yp=n(yp)}function aR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Bm(this),t,...e);return i1.set(i,t.sort?t.sort():[t]),Pr(i)}:nR().includes(n)?function(...t){return n.apply(Bm(this),t),Pr(n1.get(this))}:function(...t){return Pr(n.apply(Bm(this),t))}}function oR(n){return typeof n=="function"?aR(n):(n instanceof IDBTransaction&&sR(n),tR(n,eR())?new Proxy(n,yp):n)}function Pr(n){if(n instanceof IDBRequest)return iR(n);if(jm.has(n))return jm.get(n);const t=oR(n);return t!==n&&(jm.set(n,t),Jp.set(t,n)),t}const Bm=n=>Jp.get(n);function s1(n,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(n,t),h=Pr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Pr(c.result),f.oldVersion,f.newVersion,Pr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const lR=["get","getKey","getAll","getAllKeys","count"],cR=["put","add","delete","clear"],Fm=new Map;function Gb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Fm.get(t))return Fm.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=cR.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||lR.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),a&&f.done]))[0]};return Fm.set(t,o),o}rR(n=>({...n,get:(t,e,i)=>Gb(t,e)||n.get(t,e,i),has:(t,e)=>!!Gb(t,e)||n.has(t,e)}));class uR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(hR(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function hR(n){return n.getComponent()?.type==="VERSION"}const _p="@firebase/app",Yb="0.14.6";const Fs=new sd("@firebase/app"),fR="@firebase/app-compat",dR="@firebase/analytics-compat",gR="@firebase/analytics",mR="@firebase/app-check-compat",pR="@firebase/app-check",yR="@firebase/auth",_R="@firebase/auth-compat",vR="@firebase/database",bR="@firebase/data-connect",TR="@firebase/database-compat",ER="@firebase/functions",SR="@firebase/functions-compat",wR="@firebase/installations",xR="@firebase/installations-compat",AR="@firebase/messaging",CR="@firebase/messaging-compat",RR="@firebase/performance",IR="@firebase/performance-compat",DR="@firebase/remote-config",MR="@firebase/remote-config-compat",NR="@firebase/storage",OR="@firebase/storage-compat",kR="@firebase/firestore",PR="@firebase/ai",VR="@firebase/firestore-compat",LR="firebase",zR="12.6.0";const vp="[DEFAULT]",UR={[_p]:"fire-core",[fR]:"fire-core-compat",[gR]:"fire-analytics",[dR]:"fire-analytics-compat",[pR]:"fire-app-check",[mR]:"fire-app-check-compat",[yR]:"fire-auth",[_R]:"fire-auth-compat",[vR]:"fire-rtdb",[bR]:"fire-data-connect",[TR]:"fire-rtdb-compat",[ER]:"fire-fn",[SR]:"fire-fn-compat",[wR]:"fire-iid",[xR]:"fire-iid-compat",[AR]:"fire-fcm",[CR]:"fire-fcm-compat",[RR]:"fire-perf",[IR]:"fire-perf-compat",[DR]:"fire-rc",[MR]:"fire-rc-compat",[NR]:"fire-gcs",[OR]:"fire-gcs-compat",[kR]:"fire-fst",[VR]:"fire-fst-compat",[PR]:"fire-vertex","fire-js":"fire-js",[LR]:"fire-js-all"};const If=new Map,jR=new Map,bp=new Map;function Kb(n,t){try{n.container.addComponent(t)}catch(e){Fs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function fs(n){const t=n.name;if(bp.has(t))return Fs.debug(`There were multiple attempts to register component ${t}.`),!1;bp.set(t,n);for(const e of If.values())Kb(e,n);for(const e of jR.values())Kb(e,n);return!0}function Qa(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Nn(n){return n==null?!1:n.settings!==void 0}const BR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Ka("app","Firebase",BR);class FR{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}const gl=zR;function r1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:vp,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Vr.create("bad-app-name",{appName:String(a)});if(e||(e=$S()),!e)throw Vr.create("no-options");const o=If.get(a);if(o){if(Br(e,o.options)&&Br(i,o.config))return o;throw Vr.create("duplicate-app",{appName:a})}const c=new $C(a);for(const f of bp.values())c.addComponent(f);const h=new FR(e,i,c);return If.set(a,h),h}function ty(n=vp){const t=If.get(n);if(!t&&n===vp&&$S())return r1();if(!t)throw Vr.create("no-app",{appName:n});return t}function ui(n,t,e){let i=UR[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fs.warn(c.join(" "));return}fs(new Di(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const HR="firebase-heartbeat-database",qR=1,Xc="firebase-heartbeat-store";let Hm=null;function a1(){return Hm||(Hm=s1(HR,qR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Xc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Vr.create("idb-open",{originalErrorMessage:n.message})})),Hm}async function GR(n){try{const e=(await a1()).transaction(Xc),i=await e.objectStore(Xc).get(o1(n));return await e.done,i}catch(t){if(t instanceof Mi)Fs.warn(t.message);else{const e=Vr.create("idb-get",{originalErrorMessage:t?.message});Fs.warn(e.message)}}}async function Qb(n,t){try{const i=(await a1()).transaction(Xc,"readwrite");await i.objectStore(Xc).put(t,o1(n)),await i.done}catch(e){if(e instanceof Mi)Fs.warn(e.message);else{const i=Vr.create("idb-set",{originalErrorMessage:e?.message});Fs.warn(i.message)}}}function o1(n){return`${n.name}!${n.options.appId}`}const YR=1024,KR=30;class QR{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new XR(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$b();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>KR){const a=WR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$b(),{heartbeatsToSend:e,unsentEntries:i}=$R(this._heartbeatsCache.heartbeats),a=Rf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Fs.warn(t),""}}}function $b(){return new Date().toISOString().substring(0,10)}function $R(n,t=YR){const e=[];let i=n.slice();for(const a of n){const o=e.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),Xb(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),Xb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class XR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t1()?e1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await GR(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Qb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Qb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Xb(n){return Rf(JSON.stringify({version:2,heartbeats:n})).length}function WR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function ZR(n){fs(new Di("platform-logger",t=>new uR(t),"PRIVATE")),fs(new Di("heartbeat",t=>new QR(t),"PRIVATE")),ui(_p,Yb,n),ui(_p,Yb,"esm2020"),ui("fire-js","")}ZR("");var JR="firebase",tI="12.7.0";ui(JR,tI,"app");const l1="@firebase/installations",ey="0.6.19";const c1=1e4,u1=`w:${ey}`,h1="FIS_v2",eI="https://firebaseinstallations.googleapis.com/v1",nI=3600*1e3,iI="installations",sI="Installations";const rI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ba=new Ka(iI,sI,rI);function f1(n){return n instanceof Mi&&n.code.includes("request-failed")}function d1({projectId:n}){return`${eI}/projects/${n}/installations`}function g1(n){return{token:n.token,requestStatus:2,expiresIn:oI(n.expiresIn),creationTime:Date.now()}}async function m1(n,t){const i=(await t.json()).error;return Ba.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function p1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function aI(n,{refreshToken:t}){const e=p1(n);return e.append("Authorization",lI(t)),e}async function y1(n){const t=await n();return t.status>=500&&t.status<600?n():t}function oI(n){return Number(n.replace("s","000"))}function lI(n){return`${h1} ${n}`}async function cI({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const i=d1(n),a=p1(n),o=t.getImmediate({optional:!0});if(o){const g=await o.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={fid:e,authVersion:h1,appId:n.appId,sdkVersion:u1},h={method:"POST",headers:a,body:JSON.stringify(c)},f=await y1(()=>fetch(i,h));if(f.ok){const g=await f.json();return{fid:g.fid||e,registrationStatus:2,refreshToken:g.refreshToken,authToken:g1(g.authToken)}}else throw await m1("Create Installation",f)}function _1(n){return new Promise(t=>{setTimeout(t,n)})}function uI(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const hI=/^[cdef][\w-]{21}$/,Tp="";function fI(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=dI(n);return hI.test(e)?e:Tp}catch{return Tp}}function dI(n){return uI(n).substr(0,22)}function rd(n){return`${n.appName}!${n.appId}`}const v1=new Map;function b1(n,t){const e=rd(n);T1(e,t),gI(e,t)}function T1(n,t){const e=v1.get(n);if(e)for(const i of e)i(t)}function gI(n,t){const e=mI();e&&e.postMessage({key:n,fid:t}),pI()}let Oa=null;function mI(){return!Oa&&"BroadcastChannel"in self&&(Oa=new BroadcastChannel("[Firebase] FID Change"),Oa.onmessage=n=>{T1(n.data.key,n.data.fid)}),Oa}function pI(){v1.size===0&&Oa&&(Oa.close(),Oa=null)}const yI="firebase-installations-database",_I=1,Fa="firebase-installations-store";let qm=null;function ny(){return qm||(qm=s1(yI,_I,{upgrade:(n,t)=>{t===0&&n.createObjectStore(Fa)}})),qm}async function Df(n,t){const e=rd(n),a=(await ny()).transaction(Fa,"readwrite"),o=a.objectStore(Fa),c=await o.get(e);return await o.put(t,e),await a.done,(!c||c.fid!==t.fid)&&b1(n,t.fid),t}async function E1(n){const t=rd(n),i=(await ny()).transaction(Fa,"readwrite");await i.objectStore(Fa).delete(t),await i.done}async function ad(n,t){const e=rd(n),a=(await ny()).transaction(Fa,"readwrite"),o=a.objectStore(Fa),c=await o.get(e),h=t(c);return h===void 0?await o.delete(e):await o.put(h,e),await a.done,h&&(!c||c.fid!==h.fid)&&b1(n,h.fid),h}async function iy(n){let t;const e=await ad(n.appConfig,i=>{const a=vI(i),o=bI(n,a);return t=o.registrationPromise,o.installationEntry});return e.fid===Tp?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function vI(n){const t=n||{fid:fI(),registrationStatus:0};return S1(t)}function bI(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Ba.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=TI(n,e);return{installationEntry:e,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:EI(n)}:{installationEntry:t}}async function TI(n,t){try{const e=await cI(n,t);return Df(n.appConfig,e)}catch(e){throw f1(e)&&e.customData.serverCode===409?await E1(n.appConfig):await Df(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function EI(n){let t=await Wb(n.appConfig);for(;t.registrationStatus===1;)await _1(100),t=await Wb(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:i}=await iy(n);return i||e}return t}function Wb(n){return ad(n,t=>{if(!t)throw Ba.create("installation-not-found");return S1(t)})}function S1(n){return SI(n)?{fid:n.fid,registrationStatus:0}:n}function SI(n){return n.registrationStatus===1&&n.registrationTime+c1<Date.now()}async function wI({appConfig:n,heartbeatServiceProvider:t},e){const i=xI(n,e),a=aI(n,e),o=t.getImmediate({optional:!0});if(o){const g=await o.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={installation:{sdkVersion:u1,appId:n.appId}},h={method:"POST",headers:a,body:JSON.stringify(c)},f=await y1(()=>fetch(i,h));if(f.ok){const g=await f.json();return g1(g)}else throw await m1("Generate Auth Token",f)}function xI(n,{fid:t}){return`${d1(n)}/${t}/authTokens:generate`}async function sy(n,t=!1){let e;const i=await ad(n.appConfig,o=>{if(!w1(o))throw Ba.create("not-registered");const c=o.authToken;if(!t&&RI(c))return o;if(c.requestStatus===1)return e=AI(n,t),o;{if(!navigator.onLine)throw Ba.create("app-offline");const h=DI(o);return e=CI(n,h),h}});return e?await e:i.authToken}async function AI(n,t){let e=await Zb(n.appConfig);for(;e.authToken.requestStatus===1;)await _1(100),e=await Zb(n.appConfig);const i=e.authToken;return i.requestStatus===0?sy(n,t):i}function Zb(n){return ad(n,t=>{if(!w1(t))throw Ba.create("not-registered");const e=t.authToken;return MI(e)?{...t,authToken:{requestStatus:0}}:t})}async function CI(n,t){try{const e=await wI(n,t),i={...t,authToken:e};return await Df(n.appConfig,i),e}catch(e){if(f1(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await E1(n.appConfig);else{const i={...t,authToken:{requestStatus:0}};await Df(n.appConfig,i)}throw e}}function w1(n){return n!==void 0&&n.registrationStatus===2}function RI(n){return n.requestStatus===2&&!II(n)}function II(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+nI}function DI(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function MI(n){return n.requestStatus===1&&n.requestTime+c1<Date.now()}async function NI(n){const t=n,{installationEntry:e,registrationPromise:i}=await iy(t);return i?i.catch(console.error):sy(t).catch(console.error),e.fid}async function OI(n,t=!1){const e=n;return await kI(e),(await sy(e,t)).token}async function kI(n){const{registrationPromise:t}=await iy(n);t&&await t}function PI(n){if(!n||!n.options)throw Gm("App Configuration");if(!n.name)throw Gm("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw Gm(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Gm(n){return Ba.create("missing-app-config-values",{valueName:n})}const x1="installations",VI="installations-internal",LI=n=>{const t=n.getProvider("app").getImmediate(),e=PI(t),i=Qa(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},zI=n=>{const t=n.getProvider("app").getImmediate(),e=Qa(t,x1).getImmediate();return{getId:()=>NI(e),getToken:a=>OI(e,a)}};function UI(){fs(new Di(x1,LI,"PUBLIC")),fs(new Di(VI,zI,"PRIVATE"))}UI();ui(l1,ey);ui(l1,ey,"esm2020");const Mf="analytics",jI="firebase_id",BI="origin",FI=60*1e3,HI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ry="https://www.googletagmanager.com/gtag/js";const En=new sd("@firebase/analytics");const qI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Yn=new Ka("analytics","Analytics",qI);function GI(n){if(!n.startsWith(ry)){const t=Yn.create("invalid-gtag-resource",{gtagURL:n});return En.warn(t.message),""}return n}function A1(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function YI(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function KI(n,t){const e=YI("firebase-js-sdk-policy",{createScriptURL:GI}),i=document.createElement("script"),a=`${ry}?l=${n}&id=${t}`;i.src=e?e?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function QI(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function $I(n,t,e,i,a,o){const c=i[a];try{if(c)await t[c];else{const f=(await A1(e)).find(g=>g.measurementId===a);f&&await t[f.appId]}}catch(h){En.error(h)}n("config",a,o)}async function XI(n,t,e,i,a){try{let o=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const h=await A1(e);for(const f of c){const g=h.find(v=>v.measurementId===f),y=g&&t[g.appId];if(y)o.push(y);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),n("event",i,a||{})}catch(o){En.error(o)}}function WI(n,t,e,i){async function a(o,...c){try{if(o==="event"){const[h,f]=c;await XI(n,t,e,h,f)}else if(o==="config"){const[h,f]=c;await $I(n,t,e,i,h,f)}else if(o==="consent"){const[h,f]=c;n("consent",h,f)}else if(o==="get"){const[h,f,g]=c;n("get",h,f,g)}else if(o==="set"){const[h]=c;n("set",h)}else n(o,...c)}catch(h){En.error(h)}}return a}function ZI(n,t,e,i,a){let o=function(...c){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(o=window[a]),window[a]=WI(o,n,t,e),{gtagCore:o,wrappedGtag:window[a]}}function JI(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(ry)&&e.src.includes(n))return e;return null}const tD=30,eD=1e3;class nD{constructor(t={},e=eD){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const C1=new nD;function iD(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function sD(n){const{appId:t,apiKey:e}=n,i={method:"GET",headers:iD(e)},a=HI.replace("{app-id}",t),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let c="";try{const h=await o.json();h.error?.message&&(c=h.error.message)}catch{}throw Yn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function rD(n,t=C1,e){const{appId:i,apiKey:a,measurementId:o}=n.options;if(!i)throw Yn.create("no-app-id");if(!a){if(o)return{measurementId:o,appId:i};throw Yn.create("no-api-key")}const c=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new lD;return setTimeout(async()=>{h.abort()},FI),R1({appId:i,apiKey:a,measurementId:o},c,h,t)}async function R1(n,{throttleEndTimeMillis:t,backoffCount:e},i,a=C1){const{appId:o,measurementId:c}=n;try{await aD(i,t)}catch(h){if(c)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:o,measurementId:c};throw h}try{const h=await sD(n);return a.deleteThrottleMetadata(o),h}catch(h){const f=h;if(!oD(f)){if(a.deleteThrottleMetadata(o),c)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:o,measurementId:c};throw h}const g=Number(f?.customData?.httpStatus)===503?Fb(e,a.intervalMillis,tD):Fb(e,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+g,backoffCount:e+1};return a.setThrottleMetadata(o,y),En.debug(`Calling attemptFetch again in ${g} millis`),R1(n,y,i,a)}}function aD(n,t){return new Promise((e,i)=>{const a=Math.max(t-Date.now(),0),o=setTimeout(e,a);n.addEventListener(()=>{clearTimeout(o),i(Yn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function oD(n){if(!(n instanceof Mi)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class lD{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function cD(n,t,e,i,a){if(a&&a.global){n("event",e,i);return}else{const o=await t,c={...i,send_to:o};n("event",e,c)}}async function uD(n,t,e,i){if(i&&i.global){const a={};for(const o of Object.keys(e))a[`user_properties.${o}`]=e[o];return n("set",a),Promise.resolve()}else{const a=await t;n("config",a,{update:!0,user_properties:e})}}async function hD(){if(t1())try{await e1()}catch(n){return En.warn(Yn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return En.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fD(n,t,e,i,a,o,c){const h=rD(n);h.then(E=>{e[E.measurementId]=E.appId,n.options.measurementId&&E.measurementId!==n.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>En.error(E)),t.push(h);const f=hD().then(E=>{if(E)return i.getId()}),[g,y]=await Promise.all([h,f]);JI(o)||KI(o,g.measurementId),a("js",new Date);const v=c?.config??{};return v[BI]="firebase",v.update=!0,y!=null&&(v[jI]=y),a("config",g.measurementId,v),g.measurementId}class dD{constructor(t){this.app=t}_delete(){return delete $o[this.app.options.appId],Promise.resolve()}}let $o={},Jb=[];const tT={};let Ym="dataLayer",gD="gtag",eT,ay,nT=!1;function mD(){const n=[];if(JS()&&n.push("This is a browser extension environment."),kC()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,a)=>`(${a+1}) ${i}`).join(" "),e=Yn.create("invalid-analytics-context",{errorInfo:t});En.warn(e.message)}}function pD(n,t,e){mD();const i=n.options.appId;if(!i)throw Yn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Yn.create("no-api-key");if($o[i]!=null)throw Yn.create("already-exists",{id:i});if(!nT){QI(Ym);const{wrappedGtag:o,gtagCore:c}=ZI($o,Jb,tT,Ym,gD);ay=o,eT=c,nT=!0}return $o[i]=fD(n,Jb,tT,t,eT,Ym,e),new dD(n)}function yD(n=ty()){n=xe(n);const t=Qa(n,Mf);return t.isInitialized()?t.getImmediate():_D(n)}function _D(n,t={}){const e=Qa(n,Mf);if(e.isInitialized()){const a=e.getImmediate();if(Br(t,e.getOptions()))return a;throw Yn.create("already-initialized")}return e.initialize({options:t})}function vD(n,t,e){n=xe(n),uD(ay,$o[n.app.options.appId],t,e).catch(i=>En.error(i))}function bD(n,t,e,i){n=xe(n),cD(ay,$o[n.app.options.appId],t,e,i).catch(a=>En.error(a))}const iT="@firebase/analytics",sT="0.10.19";function TD(){fs(new Di(Mf,(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return pD(i,a,e)},"PUBLIC")),fs(new Di("analytics-internal",n,"PRIVATE")),ui(iT,sT),ui(iT,sT,"esm2020");function n(t){try{const e=t.getProvider(Mf).getImmediate();return{logEvent:(i,a,o)=>bD(e,i,a,o),setUserProperties:(i,a)=>vD(e,i,a)}}catch(e){throw Yn.create("interop-component-reg-failed",{reason:e})}}}TD();function I1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ED=I1,D1=new Ka("auth","Firebase",I1());const Nf=new sd("@firebase/auth");function SD(n,...t){Nf.logLevel<=Ft.WARN&&Nf.warn(`Auth (${gl}): ${n}`,...t)}function pf(n,...t){Nf.logLevel<=Ft.ERROR&&Nf.error(`Auth (${gl}): ${n}`,...t)}function hi(n,...t){throw ly(n,...t)}function Ci(n,...t){return ly(n,...t)}function oy(n,t,e){const i={...ED(),[t]:e};return new Ka("auth","Firebase",i).create(t,{appName:n.name})}function as(n){return oy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wD(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&hi(n,"argument-error"),oy(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ly(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return D1.create(n,...t)}function wt(n,t,...e){if(!n)throw ly(t,...e)}function js(n){const t="INTERNAL ASSERTION FAILED: "+n;throw pf(t),new Error(t)}function Hs(n,t){n||js(t)}function Ep(){return typeof self<"u"&&self.location?.href||""}function xD(){return rT()==="http:"||rT()==="https:"}function rT(){return typeof self<"u"&&self.location?.protocol||null}function AD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xD()||JS()||"connection"in navigator)?navigator.onLine:!0}function CD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class hu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Hs(e>t,"Short delay should be less than long delay!"),this.isMobile=RC()||MC()}get(){return AD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cy(n,t){Hs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class M1{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ID=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DD=new hu(3e4,6e4);function $r(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Ks(n,t,e,i,a={}){return N1(n,a,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=uu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:f,...o};return DC()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&dl(n.emulatorConfig.host)&&(g.credentials="include"),M1.fetch()(await O1(n,n.config.apiHost,e,h),g)})}async function N1(n,t,e){n._canInitEmulator=!1;const i={...RD,...t};try{const a=new ND(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Xh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Xh(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Xh(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw oy(n,y,g);hi(n,y)}}catch(a){if(a instanceof Mi)throw a;hi(n,"network-request-failed",{message:String(a)})}}async function fu(n,t,e,i,a={}){const o=await Ks(n,t,e,i,a);return"mfaPendingCredential"in o&&hi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function O1(n,t,e,i){const a=`${t}${e}?${i}`,o=n,c=o.config.emulator?cy(n.config,a):`${n.config.apiScheme}://${a}`;return ID.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function MD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ND{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ci(this.auth,"network-request-failed")),DD.get())})}}function Xh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=Ci(n,t,i);return a.customData._tokenResponse=e,a}function aT(n){return n!==void 0&&n.enterprise!==void 0}class OD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return MD(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kD(n,t){return Ks(n,"GET","/v2/recaptchaConfig",$r(n,t))}async function PD(n,t){return Ks(n,"POST","/v1/accounts:delete",t)}async function Of(n,t){return Ks(n,"POST","/v1/accounts:lookup",t)}function jc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function VD(n,t=!1){const e=xe(n),i=await e.getIdToken(t),a=uy(i);wt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:jc(Km(a.auth_time)),issuedAtTime:jc(Km(a.iat)),expirationTime:jc(Km(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Km(n){return Number(n)*1e3}function uy(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return pf("JWT malformed, contained fewer than 3 sections"),null;try{const a=KS(e);return a?JSON.parse(a):(pf("Failed to decode base64 JWT payload"),null)}catch(a){return pf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function oT(n){const t=uy(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function nl(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Mi&&LD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function LD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class zD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kf(n){const t=n.auth,e=await n.getIdToken(),i=await nl(n,Of(t,{idToken:e}));wt(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?k1(a.providerUserInfo):[],c=jD(n.providerData,o),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!c?.length,g=h?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Sp(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function UD(n){const t=xe(n);await kf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jD(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function k1(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function BD(n,t){const e=await N1(n,{},async()=>{const i=uu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await O1(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&dl(n.emulatorConfig.host)&&(f.credentials="include"),M1.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function FD(n,t){return Ks(n,"POST","/v2/accounts:revokeToken",$r(n,t))}class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):oT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=oT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:o}=await BD(t,e);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:o}=e,c=new Xo;return i&&(wt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(wt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),o&&(wt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return js("not implemented")}}function Rr(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class xi{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new zD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Sp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await nl(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return VD(this,t)}reload(){return UD(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new xi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await kf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(as(this.auth));const t=await this.getIdToken();return await nl(this,PD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,g=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:w,providerData:M,stsTokenManager:N}=e;wt(v&&N,t,"internal-error");const D=Xo.fromJSON(this.name,N);wt(typeof v=="string",t,"internal-error"),Rr(i,t.name),Rr(a,t.name),wt(typeof E=="boolean",t,"internal-error"),wt(typeof w=="boolean",t,"internal-error"),Rr(o,t.name),Rr(c,t.name),Rr(h,t.name),Rr(f,t.name),Rr(g,t.name),Rr(y,t.name);const B=new xi({uid:v,auth:t,email:a,emailVerified:E,displayName:i,isAnonymous:w,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:D,createdAt:g,lastLoginAt:y});return M&&Array.isArray(M)&&(B.providerData=M.map(tt=>({...tt}))),f&&(B._redirectEventId=f),B}static async _fromIdTokenResponse(t,e,i=!1){const a=new Xo;a.updateFromServerResponse(e);const o=new xi({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await kf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];wt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?k1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new Xo;h.updateFromIdToken(i);const f=new xi({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Sp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,g),f}}const lT=new Map;function Bs(n){Hs(n instanceof Function,"Expected a class definition");let t=lT.get(n);return t?(Hs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,lT.set(n,t),t)}class P1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}P1.type="NONE";const cT=P1;function yf(n,t,e){return`firebase:${n}:${t}:${e}`}class Wo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=yf(this.userKey,a.apiKey,o),this.fullPersistenceKey=yf("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Of(this.auth,{idToken:t}).catch(()=>{});return e?xi._fromGetAccountInfoResponse(this.auth,e,t):null}return xi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Wo(Bs(cT),t,i);const a=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||Bs(cT);const c=yf(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const y=await g._get(c);if(y){let v;if(typeof y=="string"){const E=await Of(t,{idToken:y}).catch(()=>{});if(!E)break;v=await xi._fromGetAccountInfoResponse(t,E,y)}else v=xi._fromJSON(t,y);g!==o&&(h=v),o=g;break}}catch{}const f=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Wo(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new Wo(o,t,i))}}function uT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(U1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(V1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(B1(t))return"Blackberry";if(F1(t))return"Webos";if(L1(t))return"Safari";if((t.includes("chrome/")||z1(t))&&!t.includes("edge/"))return"Chrome";if(j1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function V1(n=pn()){return/firefox\//i.test(n)}function L1(n=pn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function z1(n=pn()){return/crios\//i.test(n)}function U1(n=pn()){return/iemobile/i.test(n)}function j1(n=pn()){return/android/i.test(n)}function B1(n=pn()){return/blackberry/i.test(n)}function F1(n=pn()){return/webos/i.test(n)}function hy(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function HD(n=pn()){return hy(n)&&!!window.navigator?.standalone}function qD(){return NC()&&document.documentMode===10}function H1(n=pn()){return hy(n)||j1(n)||F1(n)||B1(n)||/windows phone/i.test(n)||U1(n)}function q1(n,t=[]){let e;switch(n){case"Browser":e=uT(pn());break;case"Worker":e=`${uT(pn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${gl}/${i}`}class GD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function YD(n,t={}){return Ks(n,"GET","/v2/passwordPolicy",$r(n,t))}const KD=6;class QD{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??KD,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class $D{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hT(this),this.idTokenSubscription=new hT(this),this.beforeStateQueue=new GD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Bs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Of(this,{idToken:t}),i=await xi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Nn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await kf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=CD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Nn(this.app))return Promise.reject(as(this));const e=t?xe(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Nn(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await YD(this),e=new QD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ka("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await FD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Bs(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[Bs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,a);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&SD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Qs(n){return xe(n)}class hT{constructor(t){this.auth=t,this.observer=null,this.addObserver=UC(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XD(n){od=n}function G1(n){return od.loadJS(n)}function WD(){return od.recaptchaEnterpriseScript}function ZD(){return od.gapiScript}function JD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class tM{constructor(){this.enterprise=new eM}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class eM{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const nM="recaptcha-enterprise",Y1="NO_RECAPTCHA";class iM{constructor(t){this.type=nM,this.auth=Qs(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{kD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new OD(f);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,c(g.siteKey)}}).catch(f=>{h(f)})})}function a(o,c,h){const f=window.grecaptcha;aT(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(g=>{c(g)}).catch(()=>{c(Y1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tM().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&aT(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=WD();f.length!==0&&(f+=h),G1(f).then(()=>{a(h,o,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function fT(n,t,e,i=!1,a=!1){const o=new iM(n);let c;if(a)c=Y1;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function wp(n,t,e,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await fT(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await fT(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}function sM(n,t){const e=Qa(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(Br(o,t??{}))return a;hi(a,"already-initialized")}return e.initialize({options:t})}function rM(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Bs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function aM(n,t,e){const i=Qs(n);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,o=K1(t),{host:c,port:h}=oM(t),f=h===null?"":`:${h}`,g={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(Br(g,i.config.emulator)&&Br(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,dl(c)?(WS(`${o}//${c}${f}`),ZS("Auth",!0)):lM()}function K1(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function oM(n){const t=K1(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:dT(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:dT(c)}}}function dT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function lM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class fy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return js("not implemented")}_getIdTokenResponse(t){return js("not implemented")}_linkToIdToken(t,e){return js("not implemented")}_getReauthenticationResolver(t){return js("not implemented")}}async function cM(n,t){return Ks(n,"POST","/v1/accounts:signUp",t)}async function uM(n,t){return fu(n,"POST","/v1/accounts:signInWithPassword",$r(n,t))}async function hM(n,t){return fu(n,"POST","/v1/accounts:signInWithEmailLink",$r(n,t))}async function fM(n,t){return fu(n,"POST","/v1/accounts:signInWithEmailLink",$r(n,t))}class Wc extends fy{constructor(t,e,i,a=null){super("password",i),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new Wc(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Wc(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(t,e,"signInWithPassword",uM);case"emailLink":return hM(t,{email:this._email,oobCode:this._password});default:hi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(t,i,"signUpPassword",cM);case"emailLink":return fM(t,{idToken:e,email:this._email,oobCode:this._password});default:hi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Zo(n,t){return fu(n,"POST","/v1/accounts:signInWithIdp",$r(n,t))}const dM="http://localhost";class Ha extends fy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ha(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):hi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...o}=e;if(!i||!a)return null;const c=new Ha(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Zo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Zo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Zo(t,e)}buildRequest(){const t={requestUri:dM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=uu(e)}return t}}function gM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mM(n){const t=Dc(Mc(n)).link,e=t?Dc(Mc(t)).deep_link_id:null,i=Dc(Mc(n)).deep_link_id;return(i?Dc(Mc(i)).link:null)||i||e||t||n}class dy{constructor(t){const e=Dc(Mc(t)),i=e.apiKey??null,a=e.oobCode??null,o=gM(e.mode??null);wt(i&&a&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=mM(t);try{return new dy(e)}catch{return null}}}class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(t,e){return Wc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=dy.parseLink(e);return wt(i,"argument-error"),Wc._fromEmailAndCode(t,i.code,i.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gy{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class du extends gy{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ir extends du{constructor(){super("facebook.com")}static credential(t){return Ha._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ir.credential(t.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";class Us extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ha._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Us.credential(e,i)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";class Dr extends du{constructor(){super("github.com")}static credential(t){return Ha._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dr.credential(t.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";class Mr extends du{constructor(){super("twitter.com")}static credential(t,e){return Ha._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Mr.credential(e,i)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";async function Q1(n,t){return fu(n,"POST","/v1/accounts:signUp",$r(n,t))}class qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const o=await xi._fromIdTokenResponse(t,i,a),c=gT(i);return new qs({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=gT(i);return new qs({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function gT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function pM(n){if(Nn(n.app))return Promise.reject(as(n));const t=Qs(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new qs({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await Q1(t,{returnSecureToken:!0}),i=await qs._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(i.user),i}class Pf extends Mi{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Pf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new Pf(t,e,i,a)}}function $1(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Pf._fromErrorAndOperation(n,o,t,i):o})}async function yM(n,t,e=!1){const i=await nl(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return qs._forOperation(n,"link",i)}async function _M(n,t,e=!1){const{auth:i}=n;if(Nn(i.app))return Promise.reject(as(i));const a="reauthenticate";try{const o=await nl(n,$1(i,a,t,n),e);wt(o.idToken,i,"internal-error");const c=uy(o.idToken);wt(c,i,"internal-error");const{sub:h}=c;return wt(n.uid===h,i,"user-mismatch"),qs._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&hi(i,"user-mismatch"),o}}async function X1(n,t,e=!1){if(Nn(n.app))return Promise.reject(as(n));const i="signIn",a=await $1(n,i,t),o=await qs._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(o.user),o}async function vM(n,t){return X1(Qs(n),t)}async function W1(n){const t=Qs(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function bM(n,t,e){if(Nn(n.app))return Promise.reject(as(n));const i=Qs(n),c=await wp(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Q1).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&W1(n),f}),h=await qs._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function TM(n,t,e){return Nn(n.app)?Promise.reject(as(n)):vM(xe(n),ml.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&W1(n),i})}async function EM(n,t){return Ks(n,"POST","/v1/accounts:update",t)}async function SM(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=xe(n),o={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},c=await nl(i,EM(i.auth,o));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function wM(n,t,e,i){return xe(n).onIdTokenChanged(t,e,i)}function xM(n,t,e){return xe(n).beforeAuthStateChanged(t,e)}function AM(n,t,e,i){return xe(n).onAuthStateChanged(t,e,i)}function CM(n){return xe(n).signOut()}const Vf="__sak";class Z1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Vf,"1"),this.storage.removeItem(Vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const RM=1e3,IM=10;class J1 extends Z1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);qD()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,IM):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},RM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}J1.type="LOCAL";const DM=J1;class tw extends Z1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}tw.type="SESSION";const ew=tw;function MM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class ld{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new ld(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:o}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async g=>g(e.origin,o)),f=await MM(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ld.receivers=[];function my(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class NM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const g=my("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function os(){return window}function OM(n){os().location.href=n}function nw(){return typeof os().WorkerGlobalScope<"u"&&typeof os().importScripts=="function"}async function kM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PM(){return navigator?.serviceWorker?.controller||null}function VM(){return nw()?self:null}const iw="firebaseLocalStorageDb",LM=1,Lf="firebaseLocalStorage",sw="fbase_key";class gu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function cd(n,t){return n.transaction([Lf],t?"readwrite":"readonly").objectStore(Lf)}function zM(){const n=indexedDB.deleteDatabase(iw);return new gu(n).toPromise()}function xp(){const n=indexedDB.open(iw,LM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Lf,{keyPath:sw})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Lf)?t(i):(i.close(),await zM(),t(await xp()))})})}async function mT(n,t,e){const i=cd(n,!0).put({[sw]:t,value:e});return new gu(i).toPromise()}async function UM(n,t){const e=cd(n,!1).get(t),i=await new gu(e).toPromise();return i===void 0?null:i.value}function pT(n,t){const e=cd(n,!0).delete(t);return new gu(e).toPromise()}const jM=800,BM=3;class rw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>BM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ld._getInstance(VM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kM(),!this.activeServiceWorker)return;this.sender=new NM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||PM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xp();return await mT(t,Vf,"1"),await pT(t,Vf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>mT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>UM(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>pT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=cd(a,!1).getAll();return new gu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rw.type="LOCAL";const FM=rw;new hu(3e4,6e4);function aw(n,t){return t?Bs(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class py extends fy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Zo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function HM(n){return X1(n.auth,new py(n),n.bypassAuthState)}function qM(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),_M(e,new py(n),n.bypassAuthState)}async function GM(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),yM(e,new py(n),n.bypassAuthState)}class ow{constructor(t,e,i,a,o=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return HM;case"linkViaPopup":case"linkViaRedirect":return GM;case"reauthViaPopup":case"reauthViaRedirect":return qM;default:hi(this.auth,"internal-error")}}resolve(t){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const YM=new hu(2e3,1e4);async function KM(n,t,e){if(Nn(n.app))return Promise.reject(Ci(n,"operation-not-supported-in-this-environment"));const i=Qs(n);wD(n,t,gy);const a=aw(i,e);return new ka(i,"signInViaPopup",t,a).executeNotNull()}class ka extends ow{constructor(t,e,i,a,o){super(t,e,a,o),this.provider=i,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const t=my();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,YM.get())};t()}}ka.currentPopupAction=null;const QM="pendingRedirect",_f=new Map;class $M extends ow{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=_f.get(this.auth._key());if(!t){try{const i=await XM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}_f.set(this.auth._key(),t)}return this.bypassAuthState||_f.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XM(n,t){const e=JM(t),i=ZM(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function WM(n,t){_f.set(n._key(),t)}function ZM(n){return Bs(n._redirectPersistence)}function JM(n){return yf(QM,n.config.apiKey,n.name)}async function tN(n,t,e=!1){if(Nn(n.app))return Promise.reject(as(n));const i=Qs(n),a=aw(i,t),c=await new $M(i,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}const eN=600*1e3;class nN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!lw(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Ci(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=eN&&this.cachedEventUids.clear(),this.cachedEventUids.has(yT(t))}saveEventToCache(t){this.cachedEventUids.add(yT(t)),this.lastProcessedEventTime=Date.now()}}function yT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function lw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function iN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lw(n);default:return!1}}async function sN(n,t={}){return Ks(n,"GET","/v1/projects",t)}const rN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aN=/^https?/;async function oN(n){if(n.config.emulator)return;const{authorizedDomains:t}=await sN(n);for(const e of t)try{if(lN(e))return}catch{}hi(n,"unauthorized-domain")}function lN(n){const t=Ep(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!aN.test(e))return!1;if(rN.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const cN=new hu(3e4,6e4);function _T(){const n=os().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function uN(n){return new Promise((t,e)=>{function i(){_T(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_T(),e(Ci(n,"network-request-failed"))},timeout:cN.get()})}if(os().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(os().gapi?.load)i();else{const a=JD("iframefcb");return os()[a]=()=>{gapi.load?i():e(Ci(n,"network-request-failed"))},G1(`${ZD()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw vf=null,t})}let vf=null;function hN(n){return vf=vf||uN(n),vf}const fN=new hu(5e3,15e3),dN="__/auth/iframe",gN="emulator/auth/iframe",mN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yN(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?cy(t,gN):`https://${n.config.authDomain}/${dN}`,i={apiKey:t.apiKey,appName:n.name,v:gl},a=pN.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${uu(i).slice(1)}`}async function _N(n){const t=await hN(n),e=os().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:yN(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mN,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=Ci(n,"network-request-failed"),h=os().setTimeout(()=>{o(c)},fN.get());function f(){os().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{o(c)})}))}const vN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bN=500,TN=600,EN="_blank",SN="http://localhost";class vT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wN(n,t,e,i=bN,a=TN){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...vN,width:i.toString(),height:a.toString(),top:o,left:c},g=pn().toLowerCase();e&&(h=z1(g)?EN:e),V1(g)&&(t=t||SN,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[w,M])=>`${E}${w}=${M},`,"");if(HD(g)&&h!=="_self")return xN(t||"",h),new vT(null);const v=window.open(t||"",h,y);wt(v,n,"popup-blocked");try{v.focus()}catch{}return new vT(v)}function xN(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const AN="__/auth/handler",CN="emulator/auth/handler",RN=encodeURIComponent("fac");async function bT(n,t,e,i,a,o){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:gl,eventId:a};if(t instanceof gy){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",zC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(t instanceof du){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),g=f?`#${RN}=${encodeURIComponent(f)}`:"";return`${IN(n)}?${uu(h).slice(1)}${g}`}function IN({config:n}){return n.emulator?cy(n,CN):`https://${n.authDomain}/${AN}`}const Qm="webStorageSupport";class DN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ew,this._completeRedirectFn=tN,this._overrideRedirectResult=WM}async _openPopup(t,e,i,a){Hs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await bT(t,e,i,Ep(),a);return wN(t,o,my())}async _openRedirect(t,e,i,a){await this._originValidation(t);const o=await bT(t,e,i,Ep(),a);return OM(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(Hs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await _N(t),i=new nN(t);return e.register("authEvent",a=>(wt(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Qm,{type:Qm},a=>{const o=a?.[0]?.[Qm];o!==void 0&&e(!!o),hi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=oN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return H1()||L1()||hy()}}const MN=DN;var TT="@firebase/auth",ET="1.12.0";class NN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ON(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kN(n){fs(new Di("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q1(n)},g=new $D(i,a,o,f);return rM(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),fs(new Di("auth-internal",t=>{const e=Qs(t.getProvider("auth").getImmediate());return(i=>new NN(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(TT,ET,ON(n)),ui(TT,ET,"esm2020")}const PN=300,VN=XS("authIdTokenMaxAge")||PN;let ST=null;const LN=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>VN)return;const a=e?.token;ST!==a&&(ST=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function zN(n=ty()){const t=Qa(n,"auth");if(t.isInitialized())return t.getImmediate();const e=sM(n,{popupRedirectResolver:MN,persistence:[FM,DM,ew]}),i=XS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=LN(o.toString());xM(e,c,()=>c(e.currentUser)),wM(e,h=>c(h))}}const a=QS("auth");return a&&aM(e,`http://${a}`),e}function UN(){return document.getElementsByTagName("head")?.[0]??document}XD({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const o=Ci("internal-error");o.customData=a,e(o)},i.type="text/javascript",i.charset="UTF-8",UN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kN("Browser");var wT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Lr,cw;(function(){var n;function t(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(P,k,L){for(var O=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)O[Vt-2]=arguments[Vt];return A.prototype[k].apply(P,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,A,I){I||(I=0);const P=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)P[k]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(k=0;k<16;++k)P[k]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],k=C.g[2];let L=C.g[3],O;O=A+(L^I&(k^L))+P[0]+3614090360&4294967295,A=I+(O<<7&4294967295|O>>>25),O=L+(k^A&(I^k))+P[1]+3905402710&4294967295,L=A+(O<<12&4294967295|O>>>20),O=k+(I^L&(A^I))+P[2]+606105819&4294967295,k=L+(O<<17&4294967295|O>>>15),O=I+(A^k&(L^A))+P[3]+3250441966&4294967295,I=k+(O<<22&4294967295|O>>>10),O=A+(L^I&(k^L))+P[4]+4118548399&4294967295,A=I+(O<<7&4294967295|O>>>25),O=L+(k^A&(I^k))+P[5]+1200080426&4294967295,L=A+(O<<12&4294967295|O>>>20),O=k+(I^L&(A^I))+P[6]+2821735955&4294967295,k=L+(O<<17&4294967295|O>>>15),O=I+(A^k&(L^A))+P[7]+4249261313&4294967295,I=k+(O<<22&4294967295|O>>>10),O=A+(L^I&(k^L))+P[8]+1770035416&4294967295,A=I+(O<<7&4294967295|O>>>25),O=L+(k^A&(I^k))+P[9]+2336552879&4294967295,L=A+(O<<12&4294967295|O>>>20),O=k+(I^L&(A^I))+P[10]+4294925233&4294967295,k=L+(O<<17&4294967295|O>>>15),O=I+(A^k&(L^A))+P[11]+2304563134&4294967295,I=k+(O<<22&4294967295|O>>>10),O=A+(L^I&(k^L))+P[12]+1804603682&4294967295,A=I+(O<<7&4294967295|O>>>25),O=L+(k^A&(I^k))+P[13]+4254626195&4294967295,L=A+(O<<12&4294967295|O>>>20),O=k+(I^L&(A^I))+P[14]+2792965006&4294967295,k=L+(O<<17&4294967295|O>>>15),O=I+(A^k&(L^A))+P[15]+1236535329&4294967295,I=k+(O<<22&4294967295|O>>>10),O=A+(k^L&(I^k))+P[1]+4129170786&4294967295,A=I+(O<<5&4294967295|O>>>27),O=L+(I^k&(A^I))+P[6]+3225465664&4294967295,L=A+(O<<9&4294967295|O>>>23),O=k+(A^I&(L^A))+P[11]+643717713&4294967295,k=L+(O<<14&4294967295|O>>>18),O=I+(L^A&(k^L))+P[0]+3921069994&4294967295,I=k+(O<<20&4294967295|O>>>12),O=A+(k^L&(I^k))+P[5]+3593408605&4294967295,A=I+(O<<5&4294967295|O>>>27),O=L+(I^k&(A^I))+P[10]+38016083&4294967295,L=A+(O<<9&4294967295|O>>>23),O=k+(A^I&(L^A))+P[15]+3634488961&4294967295,k=L+(O<<14&4294967295|O>>>18),O=I+(L^A&(k^L))+P[4]+3889429448&4294967295,I=k+(O<<20&4294967295|O>>>12),O=A+(k^L&(I^k))+P[9]+568446438&4294967295,A=I+(O<<5&4294967295|O>>>27),O=L+(I^k&(A^I))+P[14]+3275163606&4294967295,L=A+(O<<9&4294967295|O>>>23),O=k+(A^I&(L^A))+P[3]+4107603335&4294967295,k=L+(O<<14&4294967295|O>>>18),O=I+(L^A&(k^L))+P[8]+1163531501&4294967295,I=k+(O<<20&4294967295|O>>>12),O=A+(k^L&(I^k))+P[13]+2850285829&4294967295,A=I+(O<<5&4294967295|O>>>27),O=L+(I^k&(A^I))+P[2]+4243563512&4294967295,L=A+(O<<9&4294967295|O>>>23),O=k+(A^I&(L^A))+P[7]+1735328473&4294967295,k=L+(O<<14&4294967295|O>>>18),O=I+(L^A&(k^L))+P[12]+2368359562&4294967295,I=k+(O<<20&4294967295|O>>>12),O=A+(I^k^L)+P[5]+4294588738&4294967295,A=I+(O<<4&4294967295|O>>>28),O=L+(A^I^k)+P[8]+2272392833&4294967295,L=A+(O<<11&4294967295|O>>>21),O=k+(L^A^I)+P[11]+1839030562&4294967295,k=L+(O<<16&4294967295|O>>>16),O=I+(k^L^A)+P[14]+4259657740&4294967295,I=k+(O<<23&4294967295|O>>>9),O=A+(I^k^L)+P[1]+2763975236&4294967295,A=I+(O<<4&4294967295|O>>>28),O=L+(A^I^k)+P[4]+1272893353&4294967295,L=A+(O<<11&4294967295|O>>>21),O=k+(L^A^I)+P[7]+4139469664&4294967295,k=L+(O<<16&4294967295|O>>>16),O=I+(k^L^A)+P[10]+3200236656&4294967295,I=k+(O<<23&4294967295|O>>>9),O=A+(I^k^L)+P[13]+681279174&4294967295,A=I+(O<<4&4294967295|O>>>28),O=L+(A^I^k)+P[0]+3936430074&4294967295,L=A+(O<<11&4294967295|O>>>21),O=k+(L^A^I)+P[3]+3572445317&4294967295,k=L+(O<<16&4294967295|O>>>16),O=I+(k^L^A)+P[6]+76029189&4294967295,I=k+(O<<23&4294967295|O>>>9),O=A+(I^k^L)+P[9]+3654602809&4294967295,A=I+(O<<4&4294967295|O>>>28),O=L+(A^I^k)+P[12]+3873151461&4294967295,L=A+(O<<11&4294967295|O>>>21),O=k+(L^A^I)+P[15]+530742520&4294967295,k=L+(O<<16&4294967295|O>>>16),O=I+(k^L^A)+P[2]+3299628645&4294967295,I=k+(O<<23&4294967295|O>>>9),O=A+(k^(I|~L))+P[0]+4096336452&4294967295,A=I+(O<<6&4294967295|O>>>26),O=L+(I^(A|~k))+P[7]+1126891415&4294967295,L=A+(O<<10&4294967295|O>>>22),O=k+(A^(L|~I))+P[14]+2878612391&4294967295,k=L+(O<<15&4294967295|O>>>17),O=I+(L^(k|~A))+P[5]+4237533241&4294967295,I=k+(O<<21&4294967295|O>>>11),O=A+(k^(I|~L))+P[12]+1700485571&4294967295,A=I+(O<<6&4294967295|O>>>26),O=L+(I^(A|~k))+P[3]+2399980690&4294967295,L=A+(O<<10&4294967295|O>>>22),O=k+(A^(L|~I))+P[10]+4293915773&4294967295,k=L+(O<<15&4294967295|O>>>17),O=I+(L^(k|~A))+P[1]+2240044497&4294967295,I=k+(O<<21&4294967295|O>>>11),O=A+(k^(I|~L))+P[8]+1873313359&4294967295,A=I+(O<<6&4294967295|O>>>26),O=L+(I^(A|~k))+P[15]+4264355552&4294967295,L=A+(O<<10&4294967295|O>>>22),O=k+(A^(L|~I))+P[6]+2734768916&4294967295,k=L+(O<<15&4294967295|O>>>17),O=I+(L^(k|~A))+P[13]+1309151649&4294967295,I=k+(O<<21&4294967295|O>>>11),O=A+(k^(I|~L))+P[4]+4149444226&4294967295,A=I+(O<<6&4294967295|O>>>26),O=L+(I^(A|~k))+P[11]+3174756917&4294967295,L=A+(O<<10&4294967295|O>>>22),O=k+(A^(L|~I))+P[2]+718787259&4294967295,k=L+(O<<15&4294967295|O>>>17),O=I+(L^(k|~A))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+L&4294967295}i.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,P=this.C;let k=this.h,L=0;for(;L<A;){if(k==0)for(;L<=I;)a(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<A;)if(P[k++]=C.charCodeAt(L++),k==this.blockSize){a(this,P),k=0;break}}else for(;L<A;)if(P[k++]=C[L++],k==this.blockSize){a(this,P),k=0;break}}this.h=k,this.o+=A},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)C[A++]=this.g[I]>>>P&255;return C};function o(C,A){var I=h;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function c(C,A){this.h=A;const I=[];let P=!0;for(let k=C.length-1;k>=0;k--){const L=C[k]|0;P&&L==A||(I[k]=L,P=!1)}this.g=I}var h={};function f(C){return-128<=C&&C<128?o(C,function(A){return new c([A|0],A<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return D(g(-C));const A=[];let I=1;for(let P=0;C>=I;P++)A[P]=C/I|0,I*=4294967296;return new c(A,0)}function y(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return D(y(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(A,8));let P=v;for(let L=0;L<C.length;L+=8){var k=Math.min(8,C.length-L);const O=parseInt(C.substring(L,L+k),A);k<8?(k=g(Math.pow(A,k)),P=P.j(k).add(g(O))):(P=P.j(I),P=P.add(g(O)))}return P}var v=f(0),E=f(1),w=f(16777216);n=c.prototype,n.m=function(){if(N(this))return-D(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);C+=(P>=0?P:4294967296+P)*A,A*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if(N(this))return"-"+D(this).toString(C);const A=g(Math.pow(C,6));var I=this;let P="";for(;;){const k=at(I,A).g;I=B(I,k.j(A));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=k,M(I))return L+P;for(;L.length<6;)L="0"+L;P=L+P}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function N(C){return C.h==-1}n.l=function(C){return C=B(this,C),N(C)?-1:M(C)?0:1};function D(C){const A=C.g.length,I=[];for(let P=0;P<A;P++)I[P]=~C.g[P];return new c(I,~C.h).add(E)}n.abs=function(){return N(this)?D(this):this},n.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let P=0;for(let k=0;k<=A;k++){let L=P+(this.i(k)&65535)+(C.i(k)&65535),O=(L>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);P=O>>>16,L&=65535,O&=65535,I[k]=O<<16|L}return new c(I,I[I.length-1]&-2147483648?-1:0)};function B(C,A){return C.add(D(A))}n.j=function(C){if(M(this)||M(C))return v;if(N(this))return N(C)?D(this).j(D(C)):D(D(this).j(C));if(N(C))return D(this.j(D(C)));if(this.l(w)<0&&C.l(w)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var P=0;P<2*A;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<C.g.length;k++){const L=this.i(P)>>>16,O=this.i(P)&65535,Vt=C.i(k)>>>16,Dt=C.i(k)&65535;I[2*P+2*k]+=O*Dt,tt(I,2*P+2*k),I[2*P+2*k+1]+=L*Dt,tt(I,2*P+2*k+1),I[2*P+2*k+1]+=O*Vt,tt(I,2*P+2*k+1),I[2*P+2*k+2]+=L*Vt,tt(I,2*P+2*k+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new c(I,0)};function tt(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function J(C,A){this.g=C,this.h=A}function at(C,A){if(M(A))throw Error("division by zero");if(M(C))return new J(v,v);if(N(C))return A=at(D(C),A),new J(D(A.g),D(A.h));if(N(A))return A=at(C,D(A)),new J(D(A.g),A.h);if(C.g.length>30){if(N(C)||N(A))throw Error("slowDivide_ only works with positive integers.");for(var I=E,P=A;P.l(C)<=0;)I=et(I),P=et(P);var k=nt(I,1),L=nt(P,1);for(P=nt(P,2),I=nt(I,2);!M(P);){var O=L.add(P);O.l(C)<=0&&(k=k.add(I),L=O),P=nt(P,1),I=nt(I,1)}return A=B(C,k.j(A)),new J(k,A)}for(k=v;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),L=g(I),O=L.j(A);N(O)||O.l(C)>0;)I-=P,L=g(I),O=L.j(A);M(L)&&(L=E),k=k.add(L),C=B(C,O)}return new J(k,C)}n.B=function(C){return at(this,C).h},n.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)&C.i(P);return new c(I,this.h&C.h)},n.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)|C.i(P);return new c(I,this.h|C.h)},n.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)^C.i(P);return new c(I,this.h^C.h)};function et(C){const A=C.g.length+1,I=[];for(let P=0;P<A;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new c(I,C.h)}function nt(C,A){const I=A>>5;A%=32;const P=C.g.length-I,k=[];for(let L=0;L<P;L++)k[L]=A>0?C.i(L+I)>>>A|C.i(L+I+1)<<32-A:C.i(L+I);return new c(k,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,cw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Lr=c}).apply(typeof wT<"u"?wT:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uw,Nc,hw,bf,Ap,fw,dw,gw;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var _=0;_<d.length;++_){var T=d[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function a(d,_){if(_)t:{var T=i;d=d.split(".");for(var x=0;x<d.length-1;x++){var F=d[x];if(!(F in T))break t;T=T[F]}d=d[d.length-1],x=T[d],_=_(x),_!=x&&_!=null&&t(T,d,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(_){var T=[],x;for(x in _)Object.prototype.hasOwnProperty.call(_,x)&&T.push([x,_[x]]);return T}});var o=o||{},c=this||self;function h(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function f(d,_,T){return d.call.apply(d.bind,arguments)}function g(d,_,T){return g=f,g.apply(null,arguments)}function y(d,_){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function v(d,_){function T(){}T.prototype=_.prototype,d.Z=_.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(x,F,K){for(var ct=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)ct[Mt-2]=arguments[Mt];return _.prototype[F].apply(x,ct)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function w(d){const _=d.length;if(_>0){const T=Array(_);for(let x=0;x<_;x++)T[x]=d[x];return T}return[]}function M(d,_){for(let x=1;x<arguments.length;x++){const F=arguments[x];var T=typeof F;if(T=T!="object"?T:F?Array.isArray(F)?"array":T:"null",T=="array"||T=="object"&&typeof F.length=="number"){T=d.length||0;const K=F.length||0;d.length=T+K;for(let ct=0;ct<K;ct++)d[T+ct]=F[ct]}else d.push(F)}}class N{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function D(d){c.setTimeout(()=>{throw d},0)}function B(){var d=C;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class tt{constructor(){this.h=this.g=null}add(_,T){const x=J.get();x.set(_,T),this.h?this.h.next=x:this.g=x,this.h=x}}var J=new N(()=>new at,d=>d.reset());class at{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let et,nt=!1,C=new tt,A=()=>{const d=Promise.resolve(void 0);et=()=>{d.then(I)}};function I(){for(var d;d=B();){try{d.h.call(d.g)}catch(T){D(T)}var _=J;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}nt=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function Vt(d,_){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}v(Vt,k),Vt.prototype.init=function(d,_){const T=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(T=="mouseover"?_=d.fromElement:T=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Vt.Z.h.call(this)},Vt.prototype.h=function(){Vt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ot(d,_,T,x,F){this.listener=d,this.proxy=null,this.src=_,this.type=T,this.capture=!!x,this.ha=F,this.key=++Y,this.da=this.fa=!1}function dt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function kt(d,_,T){for(const x in d)_.call(T,d[x],x,d)}function Pt(d,_){for(const T in d)_.call(void 0,d[T],T,d)}function z(d){const _={};for(const T in d)_[T]=d[T];return _}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(d,_){let T,x;for(let F=1;F<arguments.length;F++){x=arguments[F];for(T in x)d[T]=x[T];for(let K=0;K<X.length;K++)T=X[K],Object.prototype.hasOwnProperty.call(x,T)&&(d[T]=x[T])}}function ut(d){this.src=d,this.g={},this.h=0}ut.prototype.add=function(d,_,T,x,F){const K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);const ct=bt(d,_,x,F);return ct>-1?(_=d[ct],T||(_.fa=!1)):(_=new ot(_,this.src,K,!!x,F),_.fa=T,d.push(_)),_};function vt(d,_){const T=_.type;if(T in d.g){var x=d.g[T],F=Array.prototype.indexOf.call(x,_,void 0),K;(K=F>=0)&&Array.prototype.splice.call(x,F,1),K&&(dt(_),d.g[T].length==0&&(delete d.g[T],d.h--))}}function bt(d,_,T,x){for(let F=0;F<d.length;++F){const K=d[F];if(!K.da&&K.listener==_&&K.capture==!!T&&K.ha==x)return F}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ee={};function st(d,_,T,x,F){if(Array.isArray(_)){for(let K=0;K<_.length;K++)st(d,_[K],T,x,F);return null}return T=ms(T),d&&d[Dt]?d.J(_,T,h(x)?!!x.capture:!1,F):Tt(d,_,T,!1,x,F)}function Tt(d,_,T,x,F,K){if(!_)throw Error("Invalid event type");const ct=h(F)?!!F.capture:!!F;let Mt=Ae(d);if(Mt||(d[Ut]=Mt=new ut(d)),T=Mt.add(_,T,x,ct,K),T.proxy)return T;if(x=pt(),T.proxy=x,x.src=d,x.listener=T,d.addEventListener)L||(F=ct),F===void 0&&(F=!1),d.addEventListener(_.toString(),x,F);else if(d.attachEvent)d.attachEvent(ee(_.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function pt(){function d(T){return _.call(d.src,d.listener,T)}const _=fe;return d}function yt(d,_,T,x,F){if(Array.isArray(_))for(var K=0;K<_.length;K++)yt(d,_[K],T,x,F);else x=h(x)?!!x.capture:!!x,T=ms(T),d&&d[Dt]?(d=d.i,K=String(_).toString(),K in d.g&&(_=d.g[K],T=bt(_,T,x,F),T>-1&&(dt(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete d.g[K],d.h--)))):d&&(d=Ae(d))&&(_=d.g[_.toString()],d=-1,_&&(d=bt(_,T,x,F)),(T=d>-1?_[d]:null)&&At(T))}function At(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Dt])vt(_.i,d);else{var T=d.type,x=d.proxy;_.removeEventListener?_.removeEventListener(T,x,d.capture):_.detachEvent?_.detachEvent(ee(T),x):_.addListener&&_.removeListener&&_.removeListener(x),(T=Ae(_))?(vt(T,d),T.h==0&&(T.src=null,_[Ut]=null)):dt(d)}}}function ee(d){return d in Ee?Ee[d]:Ee[d]="on"+d}function fe(d,_){if(d.da)d=!0;else{_=new Vt(_,this);const T=d.listener,x=d.ha||d.src;d.fa&&At(d),d=T.call(x,_)}return d}function Ae(d){return d=d[Ut],d instanceof ut?d:null}var Pn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ms(d){return typeof d=="function"?d:(d[Pn]||(d[Pn]=function(_){return d.handleEvent(_)}),d[Pn])}function be(){P.call(this),this.i=new ut(this),this.M=this,this.G=null}v(be,P),be.prototype[Dt]=!0,be.prototype.removeEventListener=function(d,_,T,x){yt(this,d,_,T,x)};function Ce(d,_){var T,x=d.G;if(x)for(T=[];x;x=x.G)T.push(x);if(d=d.M,x=_.type||_,typeof _=="string")_=new k(_,d);else if(_ instanceof k)_.target=_.target||d;else{var F=_;_=new k(x,d),lt(_,F)}F=!0;let K,ct;if(T)for(ct=T.length-1;ct>=0;ct--)K=_.g=T[ct],F=$s(K,x,!0,_)&&F;if(K=_.g=d,F=$s(K,x,!0,_)&&F,F=$s(K,x,!1,_)&&F,T)for(ct=0;ct<T.length;ct++)K=_.g=T[ct],F=$s(K,x,!1,_)&&F}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const T=d.g[_];for(let x=0;x<T.length;x++)dt(T[x]);delete d.g[_],d.h--}}this.G=null},be.prototype.J=function(d,_,T,x){return this.i.add(String(d),_,!1,T,x)},be.prototype.K=function(d,_,T,x){return this.i.add(String(d),_,!0,T,x)};function $s(d,_,T,x){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let F=!0;for(let K=0;K<_.length;++K){const ct=_[K];if(ct&&!ct.da&&ct.capture==T){const Mt=ct.listener,Ie=ct.ha||ct.src;ct.fa&&vt(d.i,ct),F=Mt.call(Ie,x)!==!1&&F}}return F&&!x.defaultPrevented}function Pd(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(d,_||0)}function Tu(d){d.g=Pd(()=>{d.g=null,d.i&&(d.i=!1,Tu(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class vn extends P{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Tu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(d){P.call(this),this.h=d,this.g={}}v(Zr,P);var Tl=[];function El(d){kt(d.g,function(_,T){this.g.hasOwnProperty(T)&&At(_)},d),d.g={}}Zr.prototype.N=function(){Zr.Z.N.call(this),El(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xs=c.JSON.stringify,Vd=c.JSON.parse,Eu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Su(){}function wu(){}var di={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){k.call(this,"d")}v(tn,k);function Kn(){k.call(this,"c")}v(Kn,k);var Re={},xu=null;function Ja(){return xu=xu||new be}Re.Ia="serverreachability";function Au(d){k.call(this,Re.Ia,d)}v(Au,k);function Ni(d){const _=Ja();Ce(_,new Au(_))}Re.STAT_EVENT="statevent";function Jr(d,_){k.call(this,Re.STAT_EVENT,d),this.stat=_}v(Jr,k);function ke(d){const _=Ja();Ce(_,new Jr(_,d))}Re.Ja="timingevent";function Oi(d,_){k.call(this,Re.Ja,d),this.size=_}v(Oi,k);function ki(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},_)}function gi(){this.g=!0}gi.prototype.ua=function(){this.g=!1};function Ld(d,_,T,x,F,K){d.info(function(){if(d.g)if(K){var ct="",Mt=K.split("&");for(let Zt=0;Zt<Mt.length;Zt++){var Ie=Mt[Zt].split("=");if(Ie.length>1){const _e=Ie[0];Ie=Ie[1];const Wn=_e.split("_");ct=Wn.length>=2&&Wn[1]=="type"?ct+(_e+"="+Ie+"&"):ct+(_e+"=redacted&")}}}else ct=null;else ct=K;return"XMLHTTP REQ ("+x+") [attempt "+F+"]: "+_+`
`+T+`
`+ct})}function Cu(d,_,T,x,F,K,ct){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+F+"]: "+_+`
`+T+`
`+K+" "+ct})}function Pi(d,_,T,x){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+zd(d,T)+(x?" "+x:"")})}function ta(d,_){d.info(function(){return"TIMEOUT: "+_})}gi.prototype.info=function(){};function zd(d,_){if(!d.g)return _;if(!_)return null;try{const K=JSON.parse(_);if(K){for(d=0;d<K.length;d++)if(Array.isArray(K[d])){var T=K[d];if(!(T.length<2)){var x=T[1];if(Array.isArray(x)&&!(x.length<1)){var F=x[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ct=1;ct<x.length;ct++)x[ct]=""}}}}return Xs(K)}catch{return _}}var ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wl;function na(){}v(na,Su),na.prototype.g=function(){return new XMLHttpRequest},wl=new na;function ps(d){return encodeURIComponent(String(d))}function Ru(d){var _=1;d=d.split(":");const T=[];for(;_>0&&d.length;)T.push(d.shift()),_--;return d.length&&T.push(d.join(":")),T}function mi(d,_,T,x){this.j=d,this.i=_,this.l=T,this.S=x||1,this.V=new Zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var Pe={},$e={};function Vi(d,_,T){d.M=1,d.A=ia(Le(_)),d.u=T,d.R=!0,to(d,null)}function to(d,_){d.F=Date.now(),Li(d),d.B=Le(d.A);var T=d.B,x=d.S;Array.isArray(x)||(x=[String(x)]),so(T.i,"t",x),d.C=0,T=d.j.L,d.h=new pi,d.g=Hu(d.j,T?_:null,!d.u),d.P>0&&(d.O=new vn(g(d.Y,d,d.g),d.P)),_=d.V,T=d.g,x=d.ba;var F="readystatechange";Array.isArray(F)||(F&&(Tl[0]=F.toString()),F=Tl);for(let K=0;K<F.length;K++){const ct=st(T,F[K],x||_.handleEvent,!1,_.h||_);if(!ct)break;_.g[ct.key]=ct}_=d.J?z(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),Ni(),Ld(d.i,d.v,d.B,d.l,d.S,d.u)}mi.prototype.ba=function(d){d=d.target;const _=this.O;_&&vi(d)==3?_.j():this.Y(d)},mi.prototype.Y=function(d){try{if(d==this.g)t:{const Mt=vi(this.g),Ie=this.g.ya(),Zt=this.g.ca();if(!(Mt<3)&&(Mt!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Mt!=4||Ie==7||(Ie==8||Zt<=0?Ni(3):Ni(2)),zi(this);var _=this.g.ca();this.X=_;var T=Ud(this);if(this.o=_==200,Cu(this.i,this.v,this.B,this.l,this.S,Mt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var x,F=this.g;if((x=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(x)){var K=x;break e}}K=null}if(d=K)Pi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ui(this,d);else{this.o=!1,this.m=3,ke(12),Vn(this),Qn(this);break t}}if(this.R){d=!0;let _e;for(;!this.K&&this.C<T.length;)if(_e=Du(this,T),_e==$e){Mt==4&&(this.m=4,ke(14),d=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(_e==Pe){this.m=4,ke(15),Pi(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Pi(this.i,this.l,_e,null),Ui(this,_e);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||T.length!=0||this.h.h||(this.m=1,ke(16),d=!1),this.o=this.o&&d,!d)Pi(this.i,this.l,T,"[Invalid Chunked Response]"),Vn(this),Qn(this);else if(T.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ul(ct),ct.P=!0,ke(11))}}else Pi(this.i,this.l,T,null),Ui(this,T);Mt==4&&Vn(this),this.o&&!this.K&&(Mt==4?Uu(this.j,this):(this.o=!1,Li(this)))}else _s(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,ke(12)):(this.m=0,ke(13)),Vn(this),Qn(this)}}}catch{}};function Ud(d){if(!Iu(d))return d.g.la();const _=en(d.g);if(_==="")return"";let T="";const x=_.length,F=vi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Vn(d),Qn(d),"";d.h.i=new c.TextDecoder}for(let K=0;K<x;K++)d.h.h=!0,T+=d.h.i.decode(_[K],{stream:!(F&&K==x-1)});return _.length=0,d.h.g+=T,d.C=0,d.h.g}function Iu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Du(d,_){var T=d.C,x=_.indexOf(`
`,T);return x==-1?$e:(T=Number(_.substring(T,x)),isNaN(T)?Pe:(x+=1,x+T>_.length?$e:(_=_.slice(x,x+T),d.C=x+T,_)))}mi.prototype.cancel=function(){this.K=!0,Vn(this)};function Li(d){d.T=Date.now()+d.H,eo(d,d.H)}function eo(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=ki(g(d.aa,d),_)}function zi(d){d.D&&(c.clearTimeout(d.D),d.D=null)}mi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(ta(this.i,this.B),this.M!=2&&(Ni(),ke(17)),Vn(this),this.m=2,Qn(this)):eo(this,this.T-d)};function Qn(d){d.j.I==0||d.K||Uu(d.j,d)}function Vn(d){zi(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,El(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function Ui(d,_){try{var T=d.j;if(T.I!=0&&(T.g==d||Bi(T.h,d))){if(!d.L&&Bi(T.h,d)&&T.I==3){try{var x=T.Ba.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var F=x;if(F[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)co(T),sr(T);else break t;ua(T),ke(18)}}else T.xa=F[1],0<T.xa-T.K&&F[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ki(g(T.Va,T),6e3));ji(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ki(T,11)}else if((d.L||T.g==d)&&co(T),!O(_))for(F=T.Ba.g.parse(_),_=0;_<F.length;_++){let Zt=F[_];const _e=Zt[0];if(!(_e<=T.K))if(T.K=_e,Zt=Zt[1],T.I==2)if(Zt[0]=="c"){T.M=Zt[1],T.ba=Zt[2];const Wn=Zt[3];Wn!=null&&(T.ka=Wn,T.j.info("VER="+T.ka));const Qi=Zt[4];Qi!=null&&(T.za=Qi,T.j.info("SVER="+T.za));const bi=Zt[5];bi!=null&&typeof bi=="number"&&bi>0&&(x=1.5*bi,T.O=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const Ti=d.g;if(Ti){const ha=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ha){var K=x.h;K.g||ha.indexOf("spdy")==-1&&ha.indexOf("quic")==-1&&ha.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Cl(K,K.h),K.h=null))}if(x.G){const uo=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(x.wa=uo,ne(x.J,x.G,uo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),x=T;var ct=d;if(x.na=Fu(x,x.L?x.ba:null,x.W),ct.L){Rl(x.h,ct);var Mt=ct,Ie=x.O;Ie&&(Mt.H=Ie),Mt.D&&(zi(Mt),Li(Mt)),x.g=ct}else Lu(x);T.i.length>0&&Yi(T)}else Zt[0]!="stop"&&Zt[0]!="close"||Ki(T,7);else T.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Ki(T,7):Ll(T):Zt[0]!="noop"&&T.l&&T.l.qa(Zt),T.A=0)}}Ni(4)}catch{}}var Ve=class{constructor(d,_){this.g=d,this.map=_}};function xl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ji(d){return d.h?1:d.g?d.g.size:0}function Bi(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Cl(d,_){d.g?d.g.add(_):d.h=_}function Rl(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}xl.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Il(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const T of d.g.values())_=_.concat(T.G);return _}return w(d.i)}var Mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function no(d,_){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const x=d[T].indexOf("=");let F,K=null;x>=0?(F=d[T].substring(0,x),K=d[T].substring(x+1)):F=d[T],_(F,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Ln(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof Ln?(this.l=d.l,Xe(this,d.j),this.o=d.o,this.g=d.g,Ws(this,d.u),this.h=d.h,Dl(this,Pu(d.i)),this.m=d.m):d&&(_=String(d).match(Mu))?(this.l=!1,Xe(this,_[1]||"",!0),this.o=Fi(_[2]||""),this.g=Fi(_[3]||"",!0),Ws(this,_[4]),this.h=Fi(_[5]||"",!0),Dl(this,_[6]||"",!0),this.m=Fi(_[7]||"")):(this.l=!1,this.i=new Js(null,this.l))}Ln.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(sa(_,io,!0),":");var T=this.g;return(T||_=="file")&&(d.push("//"),(_=this.o)&&d.push(sa(_,io,!0),"@"),d.push(ps(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(sa(T,T.charAt(0)=="/"?Ml:Nu,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",sa(T,Ou)),d.join("")},Ln.prototype.resolve=function(d){const _=Le(this);let T=!!d.j;T?Xe(_,d.j):T=!!d.o,T?_.o=d.o:T=!!d.g,T?_.g=d.g:T=d.u!=null;var x=d.h;if(T)Ws(_,d.u);else if(T=!!d.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var F=_.h.lastIndexOf("/");F!=-1&&(x=_.h.slice(0,F+1)+x)}if(F=x,F==".."||F==".")x="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){x=F.lastIndexOf("/",0)==0,F=F.split("/");const K=[];for(let ct=0;ct<F.length;){const Mt=F[ct++];Mt=="."?x&&ct==F.length&&K.push(""):Mt==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),x&&ct==F.length&&K.push("")):(K.push(Mt),x=!0)}x=K.join("/")}else x=F}return T?_.h=x:T=d.i.toString()!=="",T?Dl(_,Pu(d.i)):T=!!d.m,T&&(_.m=d.m),_};function Le(d){return new Ln(d)}function Xe(d,_,T){d.j=T?Fi(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Ws(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function Dl(d,_,T){_ instanceof Js?(d.i=_,ro(d.i,d.l)):(T||(_=sa(_,Zs)),d.i=new Js(_,d.l))}function ne(d,_,T){d.i.set(_,T)}function ia(d){return ne(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Fi(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function sa(d,_,T){return typeof d=="string"?(d=encodeURI(d).replace(_,Sn),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Sn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var io=/[#\/\?@]/g,Nu=/[#\?:]/g,Ml=/[#\?]/g,Zs=/[#\?@]/g,Ou=/#/g;function Js(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function wn(d){d.g||(d.g=new Map,d.h=0,d.i&&no(d.i,function(_,T){d.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Js.prototype,n.add=function(d,_){wn(this),this.i=null,d=tr(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(_),this.h+=1,this};function ku(d,_){wn(d),_=tr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Nl(d,_){return wn(d),_=tr(d,_),d.g.has(_)}n.forEach=function(d,_){wn(this),this.g.forEach(function(T,x){T.forEach(function(F){d.call(_,F,x,this)},this)},this)};function Ol(d,_){wn(d);let T=[];if(typeof _=="string")Nl(d,_)&&(T=T.concat(d.g.get(tr(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)T=T.concat(d[_]);return T}n.set=function(d,_){return wn(this),this.i=null,d=tr(this,d),Nl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=Ol(this,d),d.length>0?String(d[0]):_):_};function so(d,_,T){ku(d,_),T.length>0&&(d.i=null,d.g.set(tr(d,_),w(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let x=0;x<_.length;x++){var T=_[x];const F=ps(T);T=Ol(this,T);for(let K=0;K<T.length;K++){let ct=F;T[K]!==""&&(ct+="="+ps(T[K])),d.push(ct)}}return this.i=d.join("&")};function Pu(d){const _=new Js;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function tr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function ro(d,_){_&&!d.j&&(wn(d),d.i=null,d.g.forEach(function(T,x){const F=x.toLowerCase();x!=F&&(ku(this,x),so(this,F,T))},d)),d.j=_}function yi(d,_){const T=new gi;if(c.Image){const x=new Image;x.onload=y($n,T,"TestLoadImage: loaded",!0,_,x),x.onerror=y($n,T,"TestLoadImage: error",!1,_,x),x.onabort=y($n,T,"TestLoadImage: abort",!1,_,x),x.ontimeout=y($n,T,"TestLoadImage: timeout",!1,_,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else _(!1)}function kl(d,_){const T=new gi,x=new AbortController,F=setTimeout(()=>{x.abort(),$n(T,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:x.signal}).then(K=>{clearTimeout(F),K.ok?$n(T,"TestPingServer: ok",!0,_):$n(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),$n(T,"TestPingServer: error",!1,_)})}function $n(d,_,T,x,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),x(T)}catch{}}function er(){this.g=new Eu}function Hi(d){this.i=d.Sb||null,this.h=d.ab||!1}v(Hi,Su),Hi.prototype.g=function(){return new ra(this.i,this.h)};function ra(d,_){be.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ra,be),n=ra.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,_i(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ao(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function ao(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?nr(this):_i(this),this.readyState==3&&ao(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,nr(this))},n.Na=function(d){this.g&&(this.response=d,nr(this))},n.ga=function(){this.g&&nr(this)};function nr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,_i(d)}n.setRequestHeader=function(d,_){this.A.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=_.next();return d.join(`\r
`)};function _i(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Xn(d){let _="";return kt(d,function(T,x){_+=x,_+=":",_+=T,_+=`\r
`}),_}function aa(d,_,T){t:{for(x in T){var x=!1;break t}x=!0}x||(T=Xn(T),typeof d=="string"?T!=null&&ps(T):ne(d,_,T))}function ae(d){be.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ae,be);var qi=/^https?$/i,Pl=["POST","PUT"];n=ae.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,_,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wl.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(K){oa(this,K);return}if(d=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var F in x)T.set(F,x[F]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const K of x.keys())T.set(K,x.get(K));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),F=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Pl,_,void 0)>=0)||x||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ct]of T)this.g.setRequestHeader(K,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(K){oa(this,K)}};function oa(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,Vl(d),ys(d)}function Vl(d){d.A||(d.A=!0,Ce(d,"complete"),Ce(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ce(this,"complete"),Ce(this,"abort"),ys(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ys(this,!0)),ae.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?la(this):this.Xa())},n.Xa=function(){la(this)};function la(d){if(d.h&&typeof o<"u"){if(d.v&&vi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ce(d,"readystatechange"),vi(d)==4){d.h=!1;try{const K=d.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var T;if(!(T=_)){var x;if(x=K===0){let ct=String(d.D).match(Mu)[1]||null;!ct&&c.self&&c.self.location&&(ct=c.self.location.protocol.slice(0,-1)),x=!qi.test(ct?ct.toLowerCase():"")}T=x}if(T)Ce(d,"complete"),Ce(d,"success");else{d.o=6;try{var F=vi(d)>2?d.g.statusText:""}catch{F=""}d.l=F+" ["+d.ca()+"]",Vl(d)}}finally{ys(d)}}}}function ys(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,_||Ce(d,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function vi(d){return d.g?d.g.readyState:0}n.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Vd(_)}};function en(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function _s(d){const _={};d=(d.g&&vi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if(O(d[x]))continue;var T=Ru(d[x]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=_[F]||[];_[F]=K,K.push(T)}Pt(_,function(x){return x.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(d,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||_}function ir(d){this.za=0,this.i=[],this.j=new gi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,d),this.Za=Gi("retryDelaySeedMs",1e4,d),this.Ta=Gi("forwardChannelMaxRetries",2,d),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new xl(d&&d.concurrentRequestLimit),this.Ba=new er,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ir.prototype,n.ka=8,n.I=1,n.connect=function(d,_,T,x){ke(0),this.W=d,this.H=_||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.J=Fu(this,null,this.W),Yi(this)};function Ll(d){if(oo(d),d.I==3){var _=d.V++,T=Le(d.J);if(ne(T,"SID",d.M),ne(T,"RID",_),ne(T,"TYPE","terminate"),ca(d,T),_=new mi(d,d.j,_),_.M=2,_.A=ia(Le(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=Hu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Li(_)}Bu(d)}function sr(d){d.g&&(Ul(d),d.g.cancel(),d.g=null)}function oo(d){sr(d),d.v&&(c.clearTimeout(d.v),d.v=null),co(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Yi(d){if(!Al(d.h)&&!d.m){d.m=!0;var _=d.Ea;et||A(),nt||(et(),nt=!0),C.add(_,d),d.D=0}}function lo(d,_){return ji(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=ki(g(d.Ea,d,_),ju(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const F=new mi(this,this.j,d);let K=this.o;if(this.U&&(K?(K=z(K),lt(K,this.U)):K=this.U),this.u!==null||this.R||(F.J=K,K=null),this.S)t:{for(var _=0,T=0;T<this.i.length;T++){e:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(_+=x,_>4096){_=T;break t}if(_===4096||T===this.i.length-1){_=T+1;break t}}_=1e3}else _=1e3;_=Vu(this,F,_),T=Le(this.J),ne(T,"RID",d),ne(T,"CVER",22),this.G&&ne(T,"X-HTTP-Session-Id",this.G),ca(this,T),K&&(this.R?_="headers="+ps(Xn(K))+"&"+_:this.u&&aa(T,this.u,K)),Cl(this.h,F),this.Ra&&ne(T,"TYPE","init"),this.S?(ne(T,"$req",_),ne(T,"SID","null"),F.U=!0,Vi(F,T,null)):Vi(F,T,_),this.I=2}}else this.I==3&&(d?zl(this,d):this.i.length==0||Al(this.h)||zl(this))};function zl(d,_){var T;_?T=_.l:T=d.V++;const x=Le(d.J);ne(x,"SID",d.M),ne(x,"RID",T),ne(x,"AID",d.K),ca(d,x),d.u&&d.o&&aa(x,d.u,d.o),T=new mi(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),_&&(d.i=_.G.concat(d.i)),_=Vu(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Cl(d.h,T),Vi(T,x,_)}function ca(d,_){d.H&&kt(d.H,function(T,x){ne(_,x,T)}),d.l&&kt({},function(T,x){ne(_,x,T)})}function Vu(d,_,T){T=Math.min(d.i.length,T);const x=d.l?g(d.l.Ka,d.l,d):null;t:{var F=d.i;let Mt=-1;for(;;){const Ie=["count="+T];Mt==-1?T>0?(Mt=F[0].g,Ie.push("ofs="+Mt)):Mt=0:Ie.push("ofs="+Mt);let Zt=!0;for(let _e=0;_e<T;_e++){var K=F[_e].g;const Wn=F[_e].map;if(K-=Mt,K<0)Mt=Math.max(0,F[_e].g-100),Zt=!1;else try{K="req"+K+"_"||"";try{var ct=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Qi,bi]of ct){let Ti=bi;h(bi)&&(Ti=Xs(bi)),Ie.push(K+Qi+"="+encodeURIComponent(Ti))}}catch(Qi){throw Ie.push(K+"type="+encodeURIComponent("_badmap")),Qi}}catch{x&&x(Wn)}}if(Zt){ct=Ie.join("&");break t}}ct=void 0}return d=d.i.splice(0,T),_.G=d,ct}function Lu(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;et||A(),nt||(et(),nt=!0),C.add(_,d),d.A=0}}function ua(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=ki(g(d.Da,d),ju(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=ki(g(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ke(10),sr(this),zu(this))};function Ul(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function zu(d){d.g=new mi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=Le(d.na);ne(_,"RID","rpc"),ne(_,"SID",d.M),ne(_,"AID",d.K),ne(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&ne(_,"TO",d.ia),ne(_,"TYPE","xmlhttp"),ca(d,_),d.u&&d.o&&aa(_,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=ia(Le(_)),T.u=null,T.R=!0,to(T,d)}n.Va=function(){this.C!=null&&(this.C=null,sr(this),ua(this),ke(19))};function co(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Uu(d,_){var T=null;if(d.g==_){co(d),Ul(d),d.g=null;var x=2}else if(Bi(d.h,_))T=_.G,Rl(d.h,_),x=1;else return;if(d.I!=0){if(_.o)if(x==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var F=d.D;x=Ja(),Ce(x,new Oi(x,T)),Yi(d)}else Lu(d);else if(F=_.m,F==3||F==0&&_.X>0||!(x==1&&lo(d,_)||x==2&&ua(d)))switch(T&&T.length>0&&(_=d.h,_.i=_.i.concat(T)),F){case 1:Ki(d,5);break;case 4:Ki(d,10);break;case 3:Ki(d,6);break;default:Ki(d,2)}}}function ju(d,_){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*_}function Ki(d,_){if(d.j.info("Error code "+_),_==2){var T=g(d.bb,d),x=d.Ua;const F=!x;x=new Ln(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xe(x,"https"),ia(x),F?yi(x.toString(),T):kl(x.toString(),T)}else ke(2);d.I=0,d.l&&d.l.pa(_),Bu(d),oo(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function Bu(d){if(d.I=0,d.ja=[],d.l){const _=Il(d.h);(_.length!=0||d.i.length!=0)&&(M(d.ja,_),M(d.ja,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.oa()}}function Fu(d,_,T){var x=T instanceof Ln?Le(T):new Ln(T);if(x.g!="")_&&(x.g=_+"."+x.g),Ws(x,x.u);else{var F=c.location;x=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;const K=new Ln(null);x&&Xe(K,x),_&&(K.g=_),F&&Ws(K,F),T&&(K.h=T),x=K}return T=d.G,_=d.wa,T&&_&&ne(x,T,_),ne(x,"VER",d.ka),ca(d,x),x}function Hu(d,_,T){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new ae(new Hi({ab:T})):new ae(d.ma),_.Fa(d.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}n=qu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function rr(){}rr.prototype.g=function(d,_){return new bn(d,_)};function bn(d,_){be.call(this),this.g=new ir(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!O(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new vs(this)}v(bn,be),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Ll(this.g)},bn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=Xs(d),d=T);_.i.push(new Ve(_.Ya++,d)),_.I==3&&Yi(_)},bn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,bn.Z.N.call(this)};function Gu(d){tn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){t:{for(const T in _){d=T;break t}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}v(Gu,tn);function Yu(){Kn.call(this),this.status=1}v(Yu,Kn);function vs(d){this.g=d}v(vs,qu),vs.prototype.ra=function(){Ce(this.g,"a")},vs.prototype.qa=function(d){Ce(this.g,new Gu(d))},vs.prototype.pa=function(d){Ce(this.g,new Yu)},vs.prototype.oa=function(){Ce(this.g,"b")},rr.prototype.createWebChannel=rr.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,gw=function(){return new rr},dw=function(){return Ja()},fw=Re,Ap={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,bf=ea,Sl.COMPLETE="complete",hw=Sl,wu.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",be.prototype.listen=be.prototype.J,Nc=wu,ae.prototype.listenOnce=ae.prototype.K,ae.prototype.getLastError=ae.prototype.Ha,ae.prototype.getLastErrorCode=ae.prototype.ya,ae.prototype.getStatus=ae.prototype.ca,ae.prototype.getResponseJson=ae.prototype.La,ae.prototype.getResponseText=ae.prototype.la,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Fa,uw=ae}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});const xT="@firebase/firestore",AT="4.9.3";class dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let pl="12.7.0";const qa=new sd("@firebase/firestore");function Ho(){return qa.logLevel}function ht(n,...t){if(qa.logLevel<=Ft.DEBUG){const e=t.map(yy);qa.debug(`Firestore (${pl}): ${n}`,...e)}}function Gs(n,...t){if(qa.logLevel<=Ft.ERROR){const e=t.map(yy);qa.error(`Firestore (${pl}): ${n}`,...e)}}function il(n,...t){if(qa.logLevel<=Ft.WARN){const e=t.map(yy);qa.warn(`Firestore (${pl}): ${n}`,...e)}}function yy(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function xt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,mw(n,i,e)}function mw(n,t,e){let i=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Gs(i),new Error(i)}function te(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||mw(t,a,i)}function It(n,t){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Mi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class za{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class pw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(dn.UNAUTHENTICATED)))}shutdown(){}}class BN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class FN{constructor(t){this.t=t,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){te(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new za;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new za,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new za)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(te(typeof i.accessToken=="string",31837,{l:i}),new pw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string",2055,{h:t}),new dn(t)}}class HN{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qN{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new HN(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GN{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){te(this.o===void 0,3512);const i=o=>{o.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const a=o=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(te(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new CT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function YN(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class _y{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=YN(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<e&&(i+=t.charAt(a[o]%62))}return i}}function Ht(n,t){return n<t?-1:n>t?1:0}function Cp(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),o=t.charAt(i);if(a!==o)return $m(a)===$m(o)?Ht(a,o):$m(a)?1:-1}return Ht(n.length,t.length)}const KN=55296,QN=57343;function $m(n){const t=n.charCodeAt(0);return t>=KN&&t<=QN}function sl(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}const RT="__name__";class ss{constructor(t,e,i){e===void 0?e=0:e>t.length&&xt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&xt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return ss.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ss?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const o=ss.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return Ht(t.length,e.length)}static compareSegments(t,e){const i=ss.isNumericId(t),a=ss.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?ss.extractNumericId(t).compare(ss.extractNumericId(e)):Cp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Lr.fromString(t.substring(4,t.length-2))}}class pe extends ss{construct(t,e,i){return new pe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new mt(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new pe(e)}static emptyPath(){return new pe([])}}const $N=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends ss{construct(t,e,i){return new ln(t,e,i)}static isValidIdentifier(t){return $N.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RT}static keyField(){return new ln([RT])}static fromServerFormat(t){const e=[];let i="",a=0;const o=()=>{if(i.length===0)throw new mt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new mt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new mt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(o(),a++)}if(o(),c)throw new mt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ln(e)}static emptyPath(){return new ln([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(pe.fromString(t))}static fromName(t){return new Et(pe.fromString(t).popFirst(5))}static empty(){return new Et(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return pe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new pe(t.slice()))}}function yw(n,t,e){if(!e)throw new mt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function XN(n,t,e,i){if(t===!0&&i===!0)throw new mt(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function IT(n){if(!Et.isDocumentKey(n))throw new mt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DT(n){if(Et.isDocumentKey(n))throw new mt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _w(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function vy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":xt(12329,{type:typeof n})}function zr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=vy(n);throw new mt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function He(n,t){const e={typeString:n};return t&&(e.value=t),e}function mu(n,t){if(!_w(n))throw new mt(rt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new mt(rt.INVALID_ARGUMENT,e);return!0}const MT=-62135596800,NT=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(t){return ye.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*NT);return new ye(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<MT)throw new mt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NT}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(mu(t,ye._jsonSchema))return new ye(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-MT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:He("string",ye._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new ye(0,0))}static max(){return new Ct(new ye(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zc=-1;function WN(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ct.fromTimestamp(i===1e9?new ye(e+1,0):new ye(e,i));return new Fr(a,Et.empty(),t)}function ZN(n){return new Fr(n.readTime,n.key,Zc)}class Fr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Fr(Ct.min(),Et.empty(),Zc)}static max(){return new Fr(Ct.max(),Et.empty(),Zc)}}function JN(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Et.comparator(n.documentKey,t.documentKey),e!==0?e:Ht(n.largestBatchId,t.largestBatchId))}const tO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function yl(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==tO)throw n;ht("LocalStore","Unexpectedly lost primary lease")}class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):it.reject(e)}static resolve(t){return new it(((e,i)=>{e(t)}))}static reject(t){return new it(((e,i)=>{i(t)}))}static waitFor(t){return new it(((e,i)=>{let a=0,o=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&e()}),(f=>i(f)))})),c=!0,o===a&&e()}))}static or(t){let e=it.resolve(!1);for(const i of t)e=e.next((a=>a?it.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,o)=>{i.push(e.call(this,a,o))})),this.waitFor(i)}static mapArray(t,e){return new it(((i,a)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next((y=>{c[g]=y,++h,h===o&&i(c)}),(y=>a(y)))}}))}static doWhile(t,e){return new it(((i,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):i()};o()}))}}function nO(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function _l(n){return n.name==="IndexedDbTransactionError"}class ud{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ud.ce=-1;const by=-1;function hd(n){return n==null}function zf(n){return n===0&&1/n==-1/0}function iO(n){return typeof n=="number"&&Number.isInteger(n)&&!zf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const vw="";function sO(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=OT(t)),t=rO(n.get(e),t);return OT(t)}function rO(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case vw:e+="";break;default:e+=o}}return e}function OT(n){return n+vw+""}function kT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Xr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function bw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Te{constructor(t,e){this.comparator=t,this.root=e||on.EMPTY}insert(t,e){return new Te(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,on.BLACK,null,null))}remove(t){return new Te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zh(this.root,t,this.comparator,!0)}}class Zh{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class on{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??on.RED,this.left=a??on.EMPTY,this.right=o??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,o){return new on(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return on.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xt(27949);return t+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(t,e,i,a,o){return this}insert(t,e,i){return new on(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qe{constructor(t){this.comparator=t,this.data=new Te(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new PT(this.data.getIterator())}getIteratorFrom(t){return new PT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Qe)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Qe(this.comparator);return e.data=t,e}}class PT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(t){this.fields=t,t.sort(ln.comparator)}static empty(){return new Gn([])}unionWith(t){let e=new Qe(ln.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Gn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return sl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class Tw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Tw("Invalid base64 string: "+o):o}})(t);return new cn(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(t);return new cn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const aO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(n){if(te(!!n,39018),typeof n=="string"){let t=0;const e=aO.exec(n);if(te(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ne(n.seconds),nanos:Ne(n.nanos)}}function Ne(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qr(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}const Ew="server_timestamp",Sw="__type__",ww="__previous_value__",xw="__local_write_time__";function Ty(n){return(n?.mapValue?.fields||{})[Sw]?.stringValue===Ew}function fd(n){const t=n.mapValue.fields[ww];return Ty(t)?fd(t):t}function Jc(n){const t=Hr(n.mapValue.fields[xw].timestampValue);return new ye(t.seconds,t.nanos)}class oO{constructor(t,e,i,a,o,c,h,f,g,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=y}}const Uf="(default)";class tu{constructor(t,e){this.projectId=t,this.database=e||Uf}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Uf}isEqual(t){return t instanceof tu&&t.projectId===this.projectId&&t.database===this.database}}const Aw="__type__",lO="__max__",Jh={mapValue:{}},Cw="__vector__",jf="value";function Gr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ty(n)?4:uO(n)?9007199254740991:cO(n)?10:11:xt(28295,{value:n})}function ds(n,t){if(n===t)return!0;const e=Gr(n);if(e!==Gr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Jc(n).isEqual(Jc(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Hr(a.timestampValue),h=Hr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return qr(a.bytesValue).isEqual(qr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return Ne(a.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(a.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Ne(a.integerValue)===Ne(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Ne(a.doubleValue),h=Ne(o.doubleValue);return c===h?zf(c)===zf(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return sl(n.arrayValue.values||[],t.arrayValue.values||[],ds);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(kT(c)!==kT(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!ds(c[f],h[f])))return!1;return!0})(n,t);default:return xt(52216,{left:n})}}function eu(n,t){return(n.values||[]).find((e=>ds(e,t)))!==void 0}function rl(n,t){if(n===t)return 0;const e=Gr(n),i=Gr(t);if(e!==i)return Ht(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Ne(o.integerValue||o.doubleValue),f=Ne(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return VT(n.timestampValue,t.timestampValue);case 4:return VT(Jc(n),Jc(t));case 5:return Cp(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=qr(o),f=qr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const y=Ht(h[g],f[g]);if(y!==0)return y}return Ht(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=Ht(Ne(o.latitude),Ne(c.latitude));return h!==0?h:Ht(Ne(o.longitude),Ne(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return LT(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},g=h[jf]?.arrayValue,y=f[jf]?.arrayValue,v=Ht(g?.values?.length||0,y?.values?.length||0);return v!==0?v:LT(g,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Jh.mapValue&&c===Jh.mapValue)return 0;if(o===Jh.mapValue)return 1;if(c===Jh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=c.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const E=Cp(f[v],y[v]);if(E!==0)return E;const w=rl(h[f[v]],g[y[v]]);if(w!==0)return w}return Ht(f.length,y.length)})(n.mapValue,t.mapValue);default:throw xt(23264,{he:e})}}function VT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ht(n,t);const e=Hr(n),i=Hr(t),a=Ht(e.seconds,i.seconds);return a!==0?a:Ht(e.nanos,i.nanos)}function LT(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const o=rl(e[a],i[a]);if(o)return o}return Ht(e.length,i.length)}function al(n){return Rp(n)}function Rp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Hr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return qr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Et.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const o of e.values||[])a?a=!1:i+=",",i+=Rp(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const c of i)o?o=!1:a+=",",a+=`${c}:${Rp(e.fields[c])}`;return a+"}"})(n.mapValue):xt(61005,{value:n})}function Tf(n){switch(Gr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fd(n);return t?16+Tf(t):16;case 5:return 2*n.stringValue.length;case 6:return qr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+Tf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return Xr(i.fields,((o,c)=>{a+=o.length+Tf(c)})),a})(n.mapValue);default:throw xt(13486,{value:n})}}function Ip(n){return!!n&&"integerValue"in n}function Ey(n){return!!n&&"arrayValue"in n}function zT(n){return!!n&&"nullValue"in n}function UT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ef(n){return!!n&&"mapValue"in n}function cO(n){return(n?.mapValue?.fields||{})[Aw]?.stringValue===Cw}function Bc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Xr(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Bc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Bc(n.arrayValue.values[e]);return t}return{...n}}function uO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lO}class On{constructor(t){this.value=t}static empty(){return new On({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Ef(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bc(e)}setAll(t){let e=ln.emptyPath(),i={},a=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,a),i={},a=[],e=h.popLast()}c?i[h.lastSegment()]=Bc(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,a)}delete(t){const e=this.field(t.popLast());Ef(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ds(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];Ef(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){Xr(e,((a,o)=>t[a]=o));for(const a of i)delete t[a]}clone(){return new On(Bc(this.value))}}function Rw(n){const t=[];return Xr(n.fields,((e,i)=>{const a=new ln([e]);if(Ef(i)){const o=Rw(i.mapValue).fields;if(o.length===0)t.push(a);else for(const c of o)t.push(a.child(c))}else t.push(a)})),new Gn(t)}class gn{constructor(t,e,i,a,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new gn(t,0,Ct.min(),Ct.min(),Ct.min(),On.empty(),0)}static newFoundDocument(t,e,i,a){return new gn(t,1,e,Ct.min(),i,a,0)}static newNoDocument(t,e){return new gn(t,2,e,Ct.min(),Ct.min(),On.empty(),0)}static newUnknownDocument(t,e){return new gn(t,3,e,Ct.min(),Ct.min(),On.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof gn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bf{constructor(t,e){this.position=t,this.inclusive=e}}function jT(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const o=t[a],c=n.position[a];if(o.field.isKeyField()?i=Et.comparator(Et.fromName(c.referenceValue),e.key):i=rl(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function BT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ds(n.position[e],t.position[e]))return!1;return!0}class Ff{constructor(t,e="asc"){this.field=t,this.dir=e}}function hO(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Iw{}class Ge extends Iw{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new dO(t,e,i):e==="array-contains"?new pO(t,i):e==="in"?new yO(t,i):e==="not-in"?new _O(t,i):e==="array-contains-any"?new vO(t,i):new Ge(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new gO(t,i):new mO(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(rl(e,this.value)):e!==null&&Gr(this.value)===Gr(e)&&this.matchesComparison(rl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gs extends Iw{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new gs(t,e)}matches(t){return Dw(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Dw(n){return n.op==="and"}function Mw(n){return fO(n)&&Dw(n)}function fO(n){for(const t of n.filters)if(t instanceof gs)return!1;return!0}function Dp(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+al(n.value);if(Mw(n))return n.filters.map((t=>Dp(t))).join(",");{const t=n.filters.map((e=>Dp(e))).join(",");return`${n.op}(${t})`}}function Nw(n,t){return n instanceof Ge?(function(i,a){return a instanceof Ge&&i.op===a.op&&i.field.isEqual(a.field)&&ds(i.value,a.value)})(n,t):n instanceof gs?(function(i,a){return a instanceof gs&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,c,h)=>o&&Nw(c,a.filters[h])),!0):!1})(n,t):void xt(19439)}function Ow(n){return n instanceof Ge?(function(e){return`${e.field.canonicalString()} ${e.op} ${al(e.value)}`})(n):n instanceof gs?(function(e){return e.op.toString()+" {"+e.getFilters().map(Ow).join(" ,")+"}"})(n):"Filter"}class dO extends Ge{constructor(t,e,i){super(t,e,i),this.key=Et.fromName(i.referenceValue)}matches(t){const e=Et.comparator(t.key,this.key);return this.matchesComparison(e)}}class gO extends Ge{constructor(t,e){super(t,"in",e),this.keys=kw("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class mO extends Ge{constructor(t,e){super(t,"not-in",e),this.keys=kw("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function kw(n,t){return(t.arrayValue?.values||[]).map((e=>Et.fromName(e.referenceValue)))}class pO extends Ge{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ey(e)&&eu(e.arrayValue,this.value)}}class yO extends Ge{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&eu(this.value.arrayValue,e)}}class _O extends Ge{constructor(t,e){super(t,"not-in",e)}matches(t){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!eu(this.value.arrayValue,e)}}class vO extends Ge{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ey(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>eu(this.value.arrayValue,i)))}}class bO{constructor(t,e=null,i=[],a=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function FT(n,t=null,e=[],i=[],a=null,o=null,c=null){return new bO(n,t,e,i,a,o,c)}function Sy(n){const t=It(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Dp(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),hd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>al(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>al(i))).join(",")),t.Te=e}return t.Te}function wy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!hO(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Nw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!BT(n.startAt,t.startAt)&&BT(n.endAt,t.endAt)}function Mp(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class dd{constructor(t,e=null,i=[],a=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TO(n,t,e,i,a,o,c,h){return new dd(n,t,e,i,a,o,c,h)}function xy(n){return new dd(n)}function HT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function EO(n){return n.collectionGroup!==null}function Fc(n){const t=It(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Qe(ln.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Ff(o,i))})),e.has(ln.keyField().canonicalString())||t.Ie.push(new Ff(ln.keyField(),i))}return t.Ie}function ls(n){const t=It(n);return t.Ee||(t.Ee=SO(t,Fc(n))),t.Ee}function SO(n,t){if(n.limitType==="F")return FT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Ff(a.field,o)}));const e=n.endAt?new Bf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Bf(n.startAt.position,n.startAt.inclusive):null;return FT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Np(n,t,e){return new dd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function gd(n,t){return wy(ls(n),ls(t))&&n.limitType===t.limitType}function Pw(n){return`${Sy(ls(n))}|lt:${n.limitType}`}function qo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>Ow(a))).join(", ")}]`),hd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>al(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>al(a))).join(",")),`Target(${i})`})(ls(n))}; limitType=${n.limitType})`}function md(n,t){return t.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Et.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,a){for(const o of Fc(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(c,h,f){const g=jT(c,h,f);return c.inclusive?g<=0:g<0})(i.startAt,Fc(i),a)||i.endAt&&!(function(c,h,f){const g=jT(c,h,f);return c.inclusive?g>=0:g>0})(i.endAt,Fc(i),a))})(n,t)}function wO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Vw(n){return(t,e)=>{let i=!1;for(const a of Fc(n)){const o=xO(a,t,e);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function xO(n,t,e){const i=n.field.isKeyField()?Et.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),g=h.data.field(o);return f!==null&&g!==null?rl(f,g):xt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xt(19790,{direction:n.dir})}}class $a{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Xr(this.inner,((e,i)=>{for(const[a,o]of i)t(a,o)}))}isEmpty(){return bw(this.inner)}size(){return this.innerSize}}const AO=new Te(Et.comparator);function Ys(){return AO}const Lw=new Te(Et.comparator);function Oc(...n){let t=Lw;for(const e of n)t=t.insert(e.key,e);return t}function zw(n){let t=Lw;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Pa(){return Hc()}function Uw(){return Hc()}function Hc(){return new $a((n=>n.toString()),((n,t)=>n.isEqual(t)))}const CO=new Te(Et.comparator),RO=new Qe(Et.comparator);function qt(...n){let t=RO;for(const e of n)t=t.add(e);return t}const IO=new Qe(Ht);function DO(){return IO}function Ay(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(t)?"-0":t}}function jw(n){return{integerValue:""+n}}function MO(n,t){return iO(t)?jw(t):Ay(n,t)}class pd{constructor(){this._=void 0}}function NO(n,t,e){return n instanceof Hf?(function(a,o){const c={fields:{[Sw]:{stringValue:Ew},[xw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Ty(o)&&(o=fd(o)),o&&(c.fields[ww]=o),{mapValue:c}})(e,t):n instanceof nu?Fw(n,t):n instanceof iu?Hw(n,t):(function(a,o){const c=Bw(a,o),h=qT(c)+qT(a.Ae);return Ip(c)&&Ip(a.Ae)?jw(h):Ay(a.serializer,h)})(n,t)}function OO(n,t,e){return n instanceof nu?Fw(n,t):n instanceof iu?Hw(n,t):e}function Bw(n,t){return n instanceof qf?(function(i){return Ip(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Hf extends pd{}class nu extends pd{constructor(t){super(),this.elements=t}}function Fw(n,t){const e=qw(t);for(const i of n.elements)e.some((a=>ds(a,i)))||e.push(i);return{arrayValue:{values:e}}}class iu extends pd{constructor(t){super(),this.elements=t}}function Hw(n,t){let e=qw(t);for(const i of n.elements)e=e.filter((a=>!ds(a,i)));return{arrayValue:{values:e}}}class qf extends pd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function qT(n){return Ne(n.integerValue||n.doubleValue)}function qw(n){return Ey(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function kO(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof nu&&a instanceof nu||i instanceof iu&&a instanceof iu?sl(i.elements,a.elements,ds):i instanceof qf&&a instanceof qf?ds(i.Ae,a.Ae):i instanceof Hf&&a instanceof Hf})(n.transform,t.transform)}class PO{constructor(t,e){this.version=t,this.transformResults=e}}class Ri{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ri}static exists(t){return new Ri(void 0,t)}static updateTime(t){return new Ri(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class yd{}function Gw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Cy(n.key,Ri.none()):new pu(n.key,n.data,Ri.none());{const e=n.data,i=On.empty();let a=new Qe(ln.comparator);for(let o of t.fields)if(!a.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),a=a.add(o)}return new Wr(n.key,i,new Gn(a.toArray()),Ri.none())}}function VO(n,t,e){n instanceof pu?(function(a,o,c){const h=a.value.clone(),f=YT(a.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Wr?(function(a,o,c){if(!Sf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=YT(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(Yw(a)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function qc(n,t,e,i){return n instanceof pu?(function(o,c,h,f){if(!Sf(o.precondition,c))return h;const g=o.value.clone(),y=KT(o.fieldTransforms,f,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,i):n instanceof Wr?(function(o,c,h,f){if(!Sf(o.precondition,c))return h;const g=KT(o.fieldTransforms,f,c),y=c.data;return y.setAll(Yw(o)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,t,e,i):(function(o,c,h){return Sf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function LO(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),o=Bw(i.transform,a||null);o!=null&&(e===null&&(e=On.empty()),e.set(i.field,o))}return e||null}function GT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&sl(i,a,((o,c)=>kO(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class pu extends yd{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Wr extends yd{constructor(t,e,i,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Yw(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function YT(n,t,e){const i=new Map;te(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const o=n[a],c=o.transform,h=t.data.field(o.field);i.set(o.field,OO(c,h,e[a]))}return i}function KT(n,t,e){const i=new Map;for(const a of n){const o=a.transform,c=e.data.field(a.field);i.set(a.field,NO(o,c,t))}return i}class Cy extends yd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zO extends yd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UO{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&VO(o,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=qc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=qc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Uw();return this.mutations.forEach((a=>{const o=t.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(a.key)?null:h;const f=Gw(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Ct.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),qt())}isEqual(t){return this.batchId===t.batchId&&sl(this.mutations,t.mutations,((e,i)=>GT(e,i)))&&sl(this.baseMutations,t.baseMutations,((e,i)=>GT(e,i)))}}class Ry{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){te(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return CO})();const o=t.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,i[c].version);return new Ry(t,e,i,a)}}class jO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BO{constructor(t,e){this.count=t,this.unchangedNames=e}}var Fe,Qt;function FO(n){switch(n){case rt.OK:return xt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return xt(15467,{code:n})}}function Kw(n){if(n===void 0)return Gs("GRPC error has no .code"),rt.UNKNOWN;switch(n){case Fe.OK:return rt.OK;case Fe.CANCELLED:return rt.CANCELLED;case Fe.UNKNOWN:return rt.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return rt.INTERNAL;case Fe.UNAVAILABLE:return rt.UNAVAILABLE;case Fe.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Fe.NOT_FOUND:return rt.NOT_FOUND;case Fe.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Fe.ABORTED:return rt.ABORTED;case Fe.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Fe.DATA_LOSS:return rt.DATA_LOSS;default:return xt(39323,{code:n})}}(Qt=Fe||(Fe={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";function HO(){return new TextEncoder}const qO=new Lr([4294967295,4294967295],0);function QT(n){const t=HO().encode(n),e=new cw;return e.update(t),new Uint8Array(e.digest())}function $T(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Lr([e,i],0),new Lr([a,o],0)]}class Iy{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new kc(`Invalid padding: ${e}`);if(i<0)throw new kc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new kc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new kc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Lr.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(Lr.fromNumber(i)));return a.compare(qO)===1&&(a=new Lr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=QT(t),[i,a]=$T(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Iy(o,a,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=QT(t),[i,a]=$T(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _d{constructor(t,e,i,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,yu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new _d(Ct.min(),a,new Te(Ht),Ys(),qt())}}class yu{constructor(t,e,i,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new yu(i,e,qt(),qt(),qt())}}class wf{constructor(t,e,i,a){this.be=t,this.removedTargetIds=e,this.key=i,this.De=a}}class Qw{constructor(t,e){this.targetId=t,this.Ce=e}}class $w{constructor(t,e,i=cn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class XT{constructor(){this.ve=0,this.Fe=WT(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),e=qt(),i=qt();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:xt(38017,{changeType:o})}})),new yu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=WT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GO{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ys(),this.Je=tf(),this.He=tf(),this.Ye=new Te(Ht)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:xt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(Mp(o))if(i===0){const c=new Et(o.path);this.et(e,c,gn.newNoDocument(c,Ct.min()))}else te(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=e;let c,h;try{c=qr(i).toUint8Array()}catch(f){if(f instanceof Tw)return il("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Iy(c,a,o)}catch(f){return il(f instanceof kc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Mp(h.target)){const f=new Et(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,gn.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=qt();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const g=this.ot(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const a=new _d(t,e,this.Ye,this.je,i);return this.je=Ys(),this.Je=tf(),this.He=tf(),this.Ye=new Te(Ht),a}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new XT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Qe(Ht),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Qe(Ht),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new XT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function tf(){return new Te(Et.comparator)}function WT(){return new Te(Et.comparator)}const YO={asc:"ASCENDING",desc:"DESCENDING"},KO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QO={and:"AND",or:"OR"};class $O{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Op(n,t){return n.useProto3Json||hd(t)?t:{value:t}}function Gf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function XO(n,t){return Gf(n,t.toTimestamp())}function cs(n){return te(!!n,49232),Ct.fromTimestamp((function(e){const i=Hr(e);return new ye(i.seconds,i.nanos)})(n))}function Dy(n,t){return kp(n,t).canonicalString()}function kp(n,t){const e=(function(a){return new pe(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function Ww(n){const t=pe.fromString(n);return te(nx(t),10190,{key:t.toString()}),t}function Pp(n,t){return Dy(n.databaseId,t.path)}function Xm(n,t){const e=Ww(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Et(Jw(e))}function Zw(n,t){return Dy(n.databaseId,t)}function WO(n){const t=Ww(n);return t.length===4?pe.emptyPath():Jw(t)}function Vp(n){return new pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Jw(n){return te(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ZT(n,t,e){return{name:Pp(n,t),fields:e.value.mapValue.fields}}function ZO(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(g,y){return g.useProto3Json?(te(y===void 0||typeof y=="string",58123),cn.fromBase64String(y||"")):(te(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),cn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(g){const y=g.code===void 0?rt.UNKNOWN:Kw(g.code);return new mt(y,g.message||"")})(c);e=new $w(i,a,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Xm(n,i.document.name),o=cs(i.document.updateTime),c=i.document.createTime?cs(i.document.createTime):Ct.min(),h=new On({mapValue:{fields:i.document.fields}}),f=gn.newFoundDocument(a,o,c,h),g=i.targetIds||[],y=i.removedTargetIds||[];e=new wf(g,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Xm(n,i.document),o=i.readTime?cs(i.readTime):Ct.min(),c=gn.newNoDocument(a,o),h=i.removedTargetIds||[];e=new wf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Xm(n,i.document),o=i.removedTargetIds||[];e=new wf([],o,a,null)}else{if(!("filter"in t))return xt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,c=new BO(a,o),h=i.targetId;e=new Qw(h,c)}}return e}function JO(n,t){let e;if(t instanceof pu)e={update:ZT(n,t.key,t.value)};else if(t instanceof Cy)e={delete:Pp(n,t.key)};else if(t instanceof Wr)e={update:ZT(n,t.key,t.data),updateMask:lk(t.fieldMask)};else{if(!(t instanceof zO))return xt(16599,{Vt:t.type});e={verify:Pp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof Hf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof nu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof iu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof qf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw xt(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:XO(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xt(27497)})(n,t.precondition)),e}function tk(n,t){return n&&n.length>0?(te(t!==void 0,14353),n.map((e=>(function(a,o){let c=a.updateTime?cs(a.updateTime):cs(o);return c.isEqual(Ct.min())&&(c=cs(o)),new PO(c,a.transformResults||[])})(e,t)))):[]}function ek(n,t){return{documents:[Zw(n,t.path)]}}function nk(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Zw(n,a);const o=(function(g){if(g.length!==0)return ex(gs.create(g,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(g){if(g.length!==0)return g.map((y=>(function(E){return{field:Go(E.field),direction:rk(E.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=Op(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:a}}function ik(n){let t=WO(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){te(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(v){const E=tx(v);return E instanceof gs&&Mw(E)?E.getFilters():[E]})(e.where));let c=[];e.orderBy&&(c=(function(v){return v.map((E=>(function(M){return new Ff(Yo(M.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(E)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,hd(E)?null:E})(e.limit));let f=null;e.startAt&&(f=(function(v){const E=!!v.before,w=v.values||[];return new Bf(w,E)})(e.startAt));let g=null;return e.endAt&&(g=(function(v){const E=!v.before,w=v.values||[];return new Bf(w,E)})(e.endAt)),TO(t,a,c,o,h,"F",f,g)}function sk(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function tx(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Yo(e.unaryFilter.field);return Ge.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Yo(e.unaryFilter.field);return Ge.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Yo(e.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Yo(e.unaryFilter.field);return Ge.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ge.create(Yo(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return gs.create(e.compositeFilter.filters.map((i=>tx(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xt(1026)}})(e.compositeFilter.op))})(n):xt(30097,{filter:n})}function rk(n){return YO[n]}function ak(n){return KO[n]}function ok(n){return QO[n]}function Go(n){return{fieldPath:n.canonicalString()}}function Yo(n){return ln.fromServerFormat(n.fieldPath)}function ex(n){return n instanceof Ge?(function(e){if(e.op==="=="){if(UT(e.value))return{unaryFilter:{field:Go(e.field),op:"IS_NAN"}};if(zT(e.value))return{unaryFilter:{field:Go(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(UT(e.value))return{unaryFilter:{field:Go(e.field),op:"IS_NOT_NAN"}};if(zT(e.value))return{unaryFilter:{field:Go(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(e.field),op:ak(e.op),value:e.value}}})(n):n instanceof gs?(function(e){const i=e.getFilters().map((a=>ex(a)));return i.length===1?i[0]:{compositeFilter:{op:ok(e.op),filters:i}}})(n):xt(54877,{filter:n})}function lk(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function nx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Nr{constructor(t,e,i,a,o=Ct.min(),c=Ct.min(),h=cn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new Nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ck{constructor(t){this.yt=t}}function uk(n){const t=ik({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Np(t,t.limit,"L"):t}class hk{constructor(){this.Cn=new fk}addToCollectionParentIndex(t,e){return this.Cn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(Fr.min())}updateCollectionGroup(t,e,i){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class fk{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new Qe(pe.comparator),o=!a.has(i);return this.index[e]=a.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new Qe(pe.comparator)).toArray()}}const JT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ix=41943040;class Mn{static withCacheSize(t){return new Mn(t,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(ix,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class ol{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ol(0)}static cr(){return new ol(-1)}}const tE="LruGarbageCollector",dk=1048576;function eE([n,t],[e,i]){const a=Ht(n,e);return a===0?Ht(t,i):a}class gk{constructor(t){this.Ir=t,this.buffer=new Qe(eE),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();eE(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class mk{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(tE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){_l(e)?ht(tE,"Ignoring IndexedDB error during garbage collection: ",e):await yl(e)}await this.Vr(3e5)}))}}class pk{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return it.resolve(ud.ce);const i=new gk(e);return this.mr.forEachTarget(t,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(JT)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,a,o,c,h,f,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(t,i,e)))).next((v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(g=Date.now(),Ho()<=Ft.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(g-f)+`ms
Total Duration: ${g-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v}))))}}function yk(n,t){return new pk(n,t)}class _k{constructor(){this.changes=new $a((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,gn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?it.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class vk{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class bk{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&qc(i.mutation,a,Gn.empty(),ye.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,qt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=qt()){const a=Pa();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((o=>{let c=Oc();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Pa();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,qt())))}populateOverlays(t,e,i){const a=[];return i.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,a){let o=Ys();const c=Hc(),h=(function(){return Hc()})();return e.forEach(((f,g)=>{const y=i.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Wr)?o=o.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),qc(y.mutation,g,y.mutation.getFieldMask(),ye.now())):c.set(g.key,Gn.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((g,y)=>c.set(g,y))),e.forEach(((g,y)=>h.set(g,new vk(y,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Hc();let a=new Te(((c,h)=>c-h)),o=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const g=e.get(f);if(g===null)return;let y=i.get(f)||Gn.empty();y=h.applyToLocalView(g,y),i.set(f,y);const v=(a.get(h.batchId)||qt()).add(f);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,y=f.value,v=Uw();y.forEach((E=>{if(!o.has(E)){const w=Gw(e.get(E),i.get(E));w!==null&&v.set(E,w),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,v))}return it.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return(function(c){return Et.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):EO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-o.size):it.resolve(Pa());let h=Zc,f=o;return c.next((g=>it.forEach(g,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(t,g,o))).next((()=>this.computeViews(t,f,g,qt()))).next((y=>({batchId:h,changes:zw(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Et(e)).next((i=>{let a=Oc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const o=e.collectionGroup;let c=Oc();return this.indexManager.getCollectionParents(t,o).next((h=>it.forEach(h,(f=>{const g=(function(v,E){return new dd(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,i,a).next((y=>{y.forEach(((v,E)=>{c=c.insert(v,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,a)))).next((c=>{o.forEach(((f,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,gn.newInvalidDocument(y)))}));let h=Oc();return c.forEach(((f,g)=>{const y=o.get(f);y!==void 0&&qc(y.mutation,g,Gn.empty(),ye.now()),md(e,g)&&(h=h.insert(f,g))})),h}))}}class Tk{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return it.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:cs(a.createTime)}})(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:uk(a.bundledQuery),readTime:cs(a.readTime)}})(e)),it.resolve()}}class Ek{constructor(){this.overlays=new Te(Et.comparator),this.qr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Pa();return it.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,o)=>{this.St(t,e,o)})),it.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),it.resolve()}getOverlaysForCollection(t,e,i){const a=Pa(),o=e.length+1,c=new Et(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&a.set(f.getKey(),f)}return it.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let o=new Te(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let y=o.get(g.largestBatchId);y===null&&(y=Pa(),o=o.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const h=Pa(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((g,y)=>h.set(g,y))),!(h.size()>=a)););return it.resolve(h)}St(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new jO(e,i));let o=this.qr.get(e);o===void 0&&(o=qt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class Sk{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}class My{constructor(){this.Qr=new Qe(Ze.$r),this.Ur=new Qe(Ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Ze(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Ze(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new Et(new pe([])),i=new Ze(e,t),a=new Ze(e,t+1),o=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Et(new pe([])),i=new Ze(e,t),a=new Ze(e,t+1);let o=qt();return this.Ur.forEachInRange([i,a],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Ze(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ze{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Et.comparator(t.key,e.key)||Ht(t.Yr,e.Yr)}static Kr(t,e){return Ht(t.Yr,e.Yr)||Et.comparator(t.key,e.key)}}class wk{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Qe(Ze.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new UO(o,e,i,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new Ze(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,e){return it.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.ei(i),o=a<0?0:a;return it.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?by:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ze(e,0),a=new Ze(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),it.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Qe(Ht);return e.forEach((a=>{const o=new Ze(a,0),c=new Ze(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),it.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let o=i;Et.isDocumentKey(o)||(o=o.child(""));const c=new Ze(new Et(o),0);let h=new Qe(Ht);return this.Zr.forEachWhile((f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(h=h.add(f.Yr)),!0)}),c),it.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const a=this.Xr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){te(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return it.forEach(e.mutations,(a=>{const o=new Ze(a.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Ze(e,0),a=this.Zr.firstAfterOrEqual(i);return it.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class xk{constructor(t){this.ri=t,this.docs=(function(){return new Te(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),o=a?a.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return it.resolve(i?i.document.mutableCopy():gn.newInvalidDocument(e))}getEntries(t,e){let i=Ys();return e.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():gn.newInvalidDocument(a))})),it.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let o=Ys();const c=e.path,h=new Et(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:y}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||JN(ZN(y),i)<=0||(a.has(y.key)||md(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return it.resolve(o)}getAllFromCollectionGroup(t,e,i,a){xt(9500)}ii(t,e){return it.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new Ak(this)}getSize(t){return it.resolve(this.size)}}class Ak extends _k{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)})),it.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class Ck{constructor(t){this.persistence=t,this.si=new $a((e=>Sy(e)),wy),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new My,this.targetCount=0,this.ai=ol.ur()}forEachTarget(t,e){return this.si.forEach(((i,a)=>e(a))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),it.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new ol(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.Pr(e),it.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,i){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),it.waitFor(o).next((()=>a))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return it.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),it.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((c=>{o.push(a.markPotentiallyOrphaned(t,c))})),it.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return it.resolve(i)}containsKey(t,e){return it.resolve(this._i.containsKey(e))}}class sx{constructor(t,e){this.ui={},this.overlays={},this.ci=new ud(0),this.li=!1,this.li=!0,this.hi=new Sk,this.referenceDelegate=t(this),this.Pi=new Ck(this),this.indexManager=new hk,this.remoteDocumentCache=(function(a){return new xk(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new ck(e),this.Ii=new Tk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Ek,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new wk(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ht("MemoryPersistence","Starting transaction:",t);const a=new Rk(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(t,e){return it.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class Rk extends eO{constructor(t){super(),this.currentSequenceNumber=t}}class Ny{constructor(t){this.persistence=t,this.Ri=new My,this.Vi=null}static mi(t){return new Ny(t)}get fi(){if(this.Vi)return this.Vi;throw xt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),it.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),it.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(i=>{const a=Et.fromPath(i);return this.gi(t,a).next((o=>{o||e.removeEntry(a,Ct.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return it.or([()=>it.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Yf{constructor(t,e){this.persistence=t,this.pi=new $a((i=>sO(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=yk(this,e)}static mi(t,e){return new Yf(t,e)}Ei(){}di(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return it.forEach(this.pi,((i,a)=>this.br(t,i,a).next((o=>o?it.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,Ct.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Tf(t.data.value)),e}br(t,e,i){return it.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return it.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Oy{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=a}static As(t,e){let i=qt(),a=qt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Oy(t,e.fromCache,i,a)}}class Ik{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Dk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return OC()?8:nO(pn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,a,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new Ik;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,a){return i.documentReadCount<this.fs?(Ho()<=Ft.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",qo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(Ho()<=Ft.DEBUG&&ht("QueryEngine","Query:",qo(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Ho()<=Ft.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",qo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ls(e))):it.resolve())}ys(t,e){if(HT(e))return it.resolve(null);let i=ls(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Np(e,null,"F"),i=ls(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=qt(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const g=this.Ds(e,h);return this.Cs(e,g,c,f.readTime)?this.ys(t,Np(e,null,"F")):this.vs(t,g,e,f)}))))})))))}ws(t,e,i,a){return HT(e)||a.isEqual(Ct.min())?it.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,a)?it.resolve(null):(Ho()<=Ft.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),qo(e)),this.vs(t,c,e,WN(a,Zc)).next((h=>h)))}))}Ds(t,e){let i=new Qe(Vw(t));return e.forEach(((a,o)=>{md(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(t,e,i){return Ho()<=Ft.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",qo(e)),this.ps.getDocumentsMatchingQuery(t,e,Fr.min(),i)}vs(t,e,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const ky="LocalStore",Mk=3e8;class Nk{constructor(t,e,i,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new Te(Ht),this.xs=new $a((o=>Sy(o)),wy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new bk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function Ok(n,t,e,i){return new Nk(n,t,e,i)}async function rx(n,t){const e=It(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=qt();for(const g of a){c.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}for(const g of o){h.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function kk(n,t){const e=It(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,g,y){const v=g.batch,E=v.keys();let w=it.resolve();return E.forEach((M=>{w=w.next((()=>y.getEntry(f,M))).next((N=>{const D=g.docVersions.get(M);te(D!==null,48541),N.version.compareTo(D)<0&&(v.applyToRemoteDocument(N,g),N.isValidDocument()&&(N.setReadTime(g.commitVersion),y.addEntry(N)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=qt();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function ax(n){const t=It(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function Pk(n,t){const e=It(n),i=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const h=[];t.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;h.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,v).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,v))));let w=E.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?w=w.withResumeToken(cn.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,i)),a=a.insert(v,w),(function(N,D,B){return N.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=Mk?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(E,w,y)&&h.push(e.Pi.updateTargetData(o,w))}));let f=Ys(),g=qt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(Vk(o,c,t.documentUpdates).next((y=>{f=y.ks,g=y.qs}))),!i.isEqual(Ct.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((v=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return it.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,g))).next((()=>f))})).then((o=>(e.Ms=a,o)))}function Vk(n,t,e){let i=qt(),a=qt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=Ys();return e.forEach(((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Ct.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ht(ky,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function Lk(n,t){const e=It(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=by),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function zk(n,t){const e=It(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.Pi.getTargetData(i,t).next((o=>o?(a=o,it.resolve(a)):e.Pi.allocateTargetId(i).next((c=>(a=new Nr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function Lp(n,t,e){const i=It(n),a=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!_l(c))throw c;ht(ky,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function nE(n,t,e){const i=It(n);let a=Ct.min(),o=qt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,g,y){const v=It(f),E=v.xs.get(y);return E!==void 0?it.resolve(v.Ms.get(E)):v.Pi.getTargetData(g,y)})(i,c,ls(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?a:Ct.min(),e?o:qt()))).next((h=>(Uk(i,wO(t),h),{documents:h,Qs:o})))))}function Uk(n,t,e){let i=n.Os.get(t)||Ct.min();e.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class iE{constructor(){this.activeTargetIds=DO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jk{constructor(){this.Mo=new iE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new iE,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Bk{Oo(t){}shutdown(){}}const sE="ConnectivityMonitor";class rE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(sE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(sE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ef=null;function zp(){return ef===null?ef=(function(){return 268435456+Math.round(2147483648*Math.random())})():ef++,"0x"+ef.toString(16)}const Wm="RestConnection",Fk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hk{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Uf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,e,i,a,o){const c=zp(),h=this.zo(t,e.toUriEncodedString());ht(Wm,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,o);const{host:g}=new URL(h),y=dl(g);return this.Jo(t,h,f,i,y).then((v=>(ht(Wm,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw il(Wm,`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(t,e,i,a,o,c){return this.Go(t,e,i,a,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),i&&i.headers.forEach(((a,o)=>t[o]=a))}zo(t,e){const i=Fk[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class qk{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const hn="WebChannelConnection";class Gk extends Hk{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,a,o){const c=zp();return new Promise(((h,f)=>{const g=new uw;g.setWithCredentials(!0),g.listenOnce(hw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case bf.NO_ERROR:const v=g.getResponseJson();ht(hn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),h(v);break;case bf.TIMEOUT:ht(hn,`RPC '${t}' ${c} timed out`),f(new mt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case bf.HTTP_ERROR:const E=g.getStatus();if(ht(hn,`RPC '${t}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const M=w?.error;if(M&&M.status&&M.message){const N=(function(B){const tt=B.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(tt)>=0?tt:rt.UNKNOWN})(M.status);f(new mt(N,M.message))}else f(new mt(rt.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new mt(rt.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(hn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ht(hn,`RPC '${t}' ${c} sending request:`,a),g.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=zp(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=gw(),h=dw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");ht(hn,`Creating RPC '${t}' stream ${a}: ${y}`,f);const v=c.createWebChannel(y,f);this.I_(v);let E=!1,w=!1;const M=new qk({Yo:D=>{w?ht(hn,`Not sending because RPC '${t}' stream ${a} is closed:`,D):(E||(ht(hn,`Opening RPC '${t}' stream ${a} transport.`),v.open(),E=!0),ht(hn,`RPC '${t}' stream ${a} sending:`,D),v.send(D))},Zo:()=>v.close()}),N=(D,B,tt)=>{D.listen(B,(J=>{try{tt(J)}catch(at){setTimeout((()=>{throw at}),0)}}))};return N(v,Nc.EventType.OPEN,(()=>{w||(ht(hn,`RPC '${t}' stream ${a} transport opened.`),M.o_())})),N(v,Nc.EventType.CLOSE,(()=>{w||(w=!0,ht(hn,`RPC '${t}' stream ${a} transport closed`),M.a_(),this.E_(v))})),N(v,Nc.EventType.ERROR,(D=>{w||(w=!0,il(hn,`RPC '${t}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),M.a_(new mt(rt.UNAVAILABLE,"The operation could not be completed")))})),N(v,Nc.EventType.MESSAGE,(D=>{if(!w){const B=D.data[0];te(!!B,16349);const tt=B,J=tt?.error||tt[0]?.error;if(J){ht(hn,`RPC '${t}' stream ${a} received error:`,J);const at=J.status;let et=(function(A){const I=Fe[A];if(I!==void 0)return Kw(I)})(at),nt=J.message;et===void 0&&(et=rt.INTERNAL,nt="Unknown error status: "+at+" with message "+J.message),w=!0,M.a_(new mt(et,nt)),v.close()}else ht(hn,`RPC '${t}' stream ${a} received:`,B),M.u_(B)}})),N(h,fw.STAT_EVENT,(D=>{D.stat===Ap.PROXY?ht(hn,`RPC '${t}' stream ${a} detected buffering proxy`):D.stat===Ap.NOPROXY&&ht(hn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Zm(){return typeof document<"u"?document:null}function vd(n){return new $O(n,!0)}class ox{constructor(t,e,i=1e3,a=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const aE="PersistentStream";class lx{constructor(t,e,i,a,o,c,h,f){this.Mi=t,this.S_=i,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ox(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(Gs(e.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new mt(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(aE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ht(aE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Yk extends lx{constructor(t,e,i,a,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=ZO(this.serializer,t),i=(function(o){if(!("targetChange"in o))return Ct.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ct.min():c.readTime?cs(c.readTime):Ct.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Vp(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=Mp(f)?{documents:ek(o,f)}:{query:nk(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=Xw(o,c.resumeToken);const g=Op(o,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ct.min())>0){h.readTime=Gf(o,c.snapshotVersion.toTimestamp());const g=Op(o,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,t);const i=sk(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Vp(this.serializer),e.removeTarget=t,this.q_(e)}}class Kk extends lx{constructor(t,e,i,a,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return te(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,te(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){te(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=tk(t.writeResults,t.commitTime),i=cs(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Vp(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>JO(this.serializer,i)))};this.q_(e)}}class Qk{}class $k extends Qk{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new mt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,kp(e,i),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new mt(rt.UNKNOWN,o.toString())}))}Ho(t,e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,kp(e,i),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(rt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Xk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gs(e),this.aa=!1):ht("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ga="RemoteStore";class Wk{constructor(t,e,i,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Xa(this)&&(ht(Ga,"Restarting streams for network reachability change."),await(async function(f){const g=It(f);g.Ea.add(4),await _u(g),g.Ra.set("Unknown"),g.Ea.delete(4),await bd(g)})(this))}))})),this.Ra=new Xk(i,a)}}async function bd(n){if(Xa(n))for(const t of n.da)await t(!0)}async function _u(n){for(const t of n.da)await t(!1)}function cx(n,t){const e=It(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),zy(e)?Ly(e):vl(e).O_()&&Vy(e,t))}function Py(n,t){const e=It(n),i=vl(e);e.Ia.delete(t),i.O_()&&ux(e,t),e.Ia.size===0&&(i.O_()?i.L_():Xa(e)&&e.Ra.set("Unknown"))}function Vy(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}vl(n).Y_(t)}function ux(n,t){n.Va.Ue(t),vl(n).Z_(t)}function Ly(n){n.Va=new GO({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),vl(n).start(),n.Ra.ua()}function zy(n){return Xa(n)&&!vl(n).x_()&&n.Ia.size>0}function Xa(n){return It(n).Ea.size===0}function hx(n){n.Va=void 0}async function Zk(n){n.Ra.set("Online")}async function Jk(n){n.Ia.forEach(((t,e)=>{Vy(n,t)}))}async function t4(n,t){hx(n),zy(n)?(n.Ra.ha(t),Ly(n)):n.Ra.set("Unknown")}async function e4(n,t,e){if(n.Ra.set("Online"),t instanceof $w&&t.state===2&&t.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,t)}catch(i){ht(Ga,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Kf(n,i)}else if(t instanceof wf?n.Va.Ze(t):t instanceof Qw?n.Va.st(t):n.Va.tt(t),!e.isEqual(Ct.min()))try{const i=await ax(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(g);y&&o.Ia.set(g,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,g)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(cn.EMPTY_BYTE_STRING,y.snapshotVersion)),ux(o,f);const v=new Nr(y.target,f,g,y.sequenceNumber);Vy(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ht(Ga,"Failed to raise snapshot:",i),await Kf(n,i)}}async function Kf(n,t,e){if(!_l(t))throw t;n.Ea.add(1),await _u(n),n.Ra.set("Offline"),e||(e=()=>ax(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ht(Ga,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await bd(n)}))}function fx(n,t){return t().catch((e=>Kf(n,e,t)))}async function Td(n){const t=It(n),e=Yr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:by;for(;n4(t);)try{const a=await Lk(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,i4(t,a)}catch(a){await Kf(t,a)}dx(t)&&gx(t)}function n4(n){return Xa(n)&&n.Ta.length<10}function i4(n,t){n.Ta.push(t);const e=Yr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function dx(n){return Xa(n)&&!Yr(n).x_()&&n.Ta.length>0}function gx(n){Yr(n).start()}async function s4(n){Yr(n).ra()}async function r4(n){const t=Yr(n);for(const e of n.Ta)t.ea(e.mutations)}async function a4(n,t,e){const i=n.Ta.shift(),a=Ry.from(i,t,e);await fx(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Td(n)}async function o4(n,t){t&&Yr(n).X_&&await(async function(i,a){if((function(c){return FO(c)&&c!==rt.ABORTED})(a.code)){const o=i.Ta.shift();Yr(i).B_(),await fx(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Td(i)}})(n,t),dx(n)&&gx(n)}async function oE(n,t){const e=It(n);e.asyncQueue.verifyOperationInProgress(),ht(Ga,"RemoteStore received new credentials");const i=Xa(e);e.Ea.add(3),await _u(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await bd(e)}async function l4(n,t){const e=It(n);t?(e.Ea.delete(2),await bd(e)):t||(e.Ea.add(2),await _u(e),e.Ra.set("Unknown"))}function vl(n){return n.ma||(n.ma=(function(e,i,a){const o=It(e);return o.sa(),new Yk(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:Zk.bind(null,n),t_:Jk.bind(null,n),r_:t4.bind(null,n),H_:e4.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),zy(n)?Ly(n):n.Ra.set("Unknown")):(await n.ma.stop(),hx(n))}))),n.ma}function Yr(n){return n.fa||(n.fa=(function(e,i,a){const o=It(e);return o.sa(),new Kk(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:s4.bind(null,n),r_:o4.bind(null,n),ta:r4.bind(null,n),na:a4.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Td(n)):(await n.fa.stop(),n.Ta.length>0&&(ht(Ga,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Uy{constructor(t,e,i,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,o){const c=Date.now()+i,h=new Uy(t,e,c,a,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jy(n,t){if(Gs("AsyncQueue",`${t}: ${n}`),_l(n))return new mt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}class Jo{static emptySet(t){return new Jo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Et.comparator(e.key,i.key):(e,i)=>Et.comparator(e.key,i.key),this.keyedMap=Oc(),this.sortedSet=new Te(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Jo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Jo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class lE{constructor(){this.ga=new Te(Et.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):xt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class ll{constructor(t,e,i,a,o,c,h,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,a,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new ll(t,e,Jo.emptySet(e),c,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class c4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class u4{constructor(){this.queries=cE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=It(e),o=a.queries;a.queries=cE(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new mt(rt.ABORTED,"Firestore shutting down"))}}function cE(){return new $a((n=>Pw(n)),gd)}async function h4(n,t){const e=It(n);let i=3;const a=t.query;let o=e.queries.get(a);o?!o.ba()&&t.Da()&&(i=2):(o=new c4,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const h=jy(c,`Initialization of query '${qo(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&By(e)}async function f4(n,t){const e=It(n),i=t.query;let a=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=t.Da()?0:1:!o.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function d4(n,t){const e=It(n);let i=!1;for(const a of t){const o=a.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(i=!0);c.wa=a}}i&&By(e)}function g4(n,t,e){const i=It(n),a=i.queries.get(t);if(a)for(const o of a.Sa)o.onError(e);i.queries.delete(t)}function By(n){n.Ca.forEach((t=>{t.next()}))}var Up,uE;(uE=Up||(Up={})).Ma="default",uE.Cache="cache";class m4{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new ll(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=ll.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Up.Cache}}class mx{constructor(t){this.key=t}}class px{constructor(t){this.key=t}}class p4{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=Vw(t),this.tu=new Jo(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new lE,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const E=a.get(y),w=md(this.query,v)?v:null,M=!!E&&this.mutatedKeys.has(E.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let D=!1;E&&w?E.data.isEqual(w.data)?M!==N&&(i.track({type:3,doc:w}),D=!0):this.su(E,w)||(i.track({type:2,doc:w}),D=!0,(f&&this.eu(w,f)>0||g&&this.eu(w,g)<0)&&(h=!0)):!E&&w?(i.track({type:0,doc:w}),D=!0):E&&!w&&(i.track({type:1,doc:E}),D=!0,(f||g)&&(h=!0)),D&&(w?(c=c.add(w),o=N?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(w,M){const N=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Rt:D})}};return N(w)-N(M)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,g=f!==this.Za;return this.Za=f,c.length!==0||g?{snapshot:new ll(this.query,t.tu,o,c,t.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new px(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new mx(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=qt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fy="SyncEngine";class y4{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class _4{constructor(t){this.key=t,this.hu=!1}}class v4{constructor(t,e,i,a,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new $a((h=>Pw(h)),gd),this.Iu=new Map,this.Eu=new Set,this.du=new Te(Et.comparator),this.Au=new Map,this.Ru=new My,this.Vu={},this.mu=new Map,this.fu=ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function b4(n,t,e=!0){const i=Ex(n);let a;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await yx(i,t,e,!0),a}async function T4(n,t){const e=Ex(n);await yx(e,t,!0,!1)}async function yx(n,t,e,i){const a=await zk(n.localStore,ls(t)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await E4(n,t,o,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&cx(n.remoteStore,a),h}async function E4(n,t,e,i,a){n.pu=(v,E,w)=>(async function(N,D,B,tt){let J=D.view.ru(B);J.Cs&&(J=await nE(N.localStore,D.query,!1).then((({documents:C})=>D.view.ru(C,J))));const at=tt&&tt.targetChanges.get(D.targetId),et=tt&&tt.targetMismatches.get(D.targetId)!=null,nt=D.view.applyChanges(J,N.isPrimaryClient,at,et);return fE(N,D.targetId,nt.au),nt.snapshot})(n,v,E,w);const o=await nE(n.localStore,t,!0),c=new p4(t,o.Qs),h=c.ru(o.documents),f=yu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),g=c.applyChanges(h,n.isPrimaryClient,f);fE(n,e,g.au);const y=new y4(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function S4(n,t,e){const i=It(n),a=i.Tu.get(t),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((c=>!gd(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Lp(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&Py(i.remoteStore,a.targetId),jp(i,a.targetId)})).catch(yl)):(jp(i,a.targetId),await Lp(i.localStore,a.targetId,!0))}async function w4(n,t){const e=It(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Py(e.remoteStore,i.targetId))}async function x4(n,t,e){const i=N4(n);try{const a=await(function(c,h){const f=It(c),g=ye.now(),y=h.reduce(((w,M)=>w.add(M.key)),qt());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let M=Ys(),N=qt();return f.Ns.getEntries(w,y).next((D=>{M=D,M.forEach(((B,tt)=>{tt.isValidDocument()||(N=N.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,M))).next((D=>{v=D;const B=[];for(const tt of h){const J=LO(tt,v.get(tt.key).overlayedDocument);J!=null&&B.push(new Wr(tt.key,J,Rw(J.value.mapValue),Ri.exists(!0)))}return f.mutationQueue.addMutationBatch(w,g,B,h)})).next((D=>{E=D;const B=D.applyToLocalDocumentSet(v,N);return f.documentOverlayCache.saveOverlays(w,D.batchId,B)}))})).then((()=>({batchId:E.batchId,changes:zw(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let g=c.Vu[c.currentUser.toKey()];g||(g=new Te(Ht)),g=g.insert(h,f),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,e),await vu(i,a.changes),await Td(i.remoteStore)}catch(a){const o=jy(a,"Failed to persist write");e.reject(o)}}async function _x(n,t){const e=It(n);try{const i=await Pk(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const c=e.Au.get(o);c&&(te(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?te(c.hu,14607):a.removedDocuments.size>0&&(te(c.hu,42227),c.hu=!1))})),await vu(e,i,t)}catch(i){await yl(i)}}function hE(n,t,e){const i=It(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=It(c);f.onlineState=h;let g=!1;f.queries.forEach(((y,v)=>{for(const E of v.Sa)E.va(h)&&(g=!0)})),g&&By(f)})(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function A4(n,t,e){const i=It(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),o=a&&a.key;if(o){let c=new Te(Et.comparator);c=c.insert(o,gn.newNoDocument(o,Ct.min()));const h=qt().add(o),f=new _d(Ct.min(),new Map,new Te(Ht),c,h);await _x(i,f),i.du=i.du.remove(o),i.Au.delete(t),Hy(i)}else await Lp(i.localStore,t,!1).then((()=>jp(i,t,e))).catch(yl)}async function C4(n,t){const e=It(n),i=t.batch.batchId;try{const a=await kk(e.localStore,t);bx(e,i,null),vx(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await vu(e,a)}catch(a){await yl(a)}}async function R4(n,t,e){const i=It(n);try{const a=await(function(c,h){const f=It(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return f.mutationQueue.lookupMutationBatch(g,h).next((v=>(te(v!==null,37113),y=v.keys(),f.mutationQueue.removeMutationBatch(g,v)))).next((()=>f.mutationQueue.performConsistencyCheck(g))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>f.localDocuments.getDocuments(g,y)))}))})(i.localStore,t);bx(i,t,e),vx(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await vu(i,a)}catch(a){await yl(a)}}function vx(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function bx(n,t,e){const i=It(n);let a=i.Vu[i.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),i.Vu[i.currentUser.toKey()]=a}}function jp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||Tx(n,i)}))}function Tx(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Py(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Hy(n))}function fE(n,t,e){for(const i of e)i instanceof mx?(n.Ru.addReference(i.key,t),I4(n,i)):i instanceof px?(ht(Fy,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||Tx(n,i.key)):xt(19791,{wu:i})}function I4(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ht(Fy,"New document in limbo: "+e),n.Eu.add(i),Hy(n))}function Hy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Et(pe.fromString(t)),i=n.fu.next();n.Au.set(i,new _4(e)),n.du=n.du.insert(e,i),cx(n.remoteStore,new Nr(ls(xy(e.path)),i,"TargetPurposeLimboResolution",ud.ce))}}async function vu(n,t,e){const i=It(n),a=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((g=>{if((g||e)&&i.isPrimaryClient){const y=g?!g.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(g){a.push(g);const y=Oy.As(f.targetId,g);o.push(y)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(f,g){const y=It(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>it.forEach(g,(E=>it.forEach(E.Es,(w=>y.persistence.referenceDelegate.addReference(v,E.targetId,w))).next((()=>it.forEach(E.ds,(w=>y.persistence.referenceDelegate.removeReference(v,E.targetId,w)))))))))}catch(v){if(!_l(v))throw v;ht(ky,"Failed to update sequence numbers: "+v)}for(const v of g){const E=v.targetId;if(!v.fromCache){const w=y.Ms.get(E),M=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(M);y.Ms=y.Ms.insert(E,N)}}})(i.localStore,o))}async function D4(n,t){const e=It(n);if(!e.currentUser.isEqual(t)){ht(Fy,"User change. New user:",t.toKey());const i=await rx(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new mt(rt.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await vu(e,i.Ls)}}function M4(n,t){const e=It(n),i=e.Au.get(t);if(i&&i.hu)return qt().add(i.key);{let a=qt();const o=e.Iu.get(t);if(!o)return a;for(const c of o){const h=e.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function Ex(n){const t=It(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=_x.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=M4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=A4.bind(null,t),t.Pu.H_=d4.bind(null,t.eventManager),t.Pu.yu=g4.bind(null,t.eventManager),t}function N4(n){const t=It(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=C4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=R4.bind(null,t),t}class Qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return Ok(this.persistence,new Dk,t.initialUser,this.serializer)}Cu(t){return new sx(Ny.mi,this.serializer)}Du(t){return new jk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qf.provider={build:()=>new Qf};class O4 extends Qf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){te(this.persistence.referenceDelegate instanceof Yf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new mk(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new sx((i=>Yf.mi(i,e)),this.serializer)}}class Bp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=D4.bind(null,this.syncEngine),await l4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new u4})()}createDatastore(t){const e=vd(t.databaseInfo.databaseId),i=(function(o){return new Gk(o)})(t.databaseInfo);return(function(o,c,h,f){return new $k(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,o,c,h){return new Wk(i,a,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>hE(this.syncEngine,e,0)),(function(){return rE.v()?new rE:new Bk})())}createSyncEngine(t,e){return(function(a,o,c,h,f,g,y){const v=new v4(a,o,c,h,f,g);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=It(e);ht(Ga,"RemoteStore shutting down."),i.Ea.add(5),await _u(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bp.provider={build:()=>new Bp};class k4{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Gs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Kr="FirestoreClient";class P4{constructor(t,e,i,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=_y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ht(Kr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ht(Kr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=jy(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Jm(n,t){n.asyncQueue.verifyOperationInProgress(),ht(Kr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await rx(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function dE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await V4(n);ht(Kr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>oE(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>oE(t.remoteStore,a))),n._onlineComponents=t}async function V4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(Kr,"Using user provided OfflineComponentProvider");try{await Jm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===rt.FAILED_PRECONDITION||a.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;il("Error using user provided cache. Falling back to memory cache: "+e),await Jm(n,new Qf)}}else ht(Kr,"Using default OfflineComponentProvider"),await Jm(n,new O4(void 0));return n._offlineComponents}async function Sx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(Kr,"Using user provided OnlineComponentProvider"),await dE(n,n._uninitializedComponentsProvider._online)):(ht(Kr,"Using default OnlineComponentProvider"),await dE(n,new Bp))),n._onlineComponents}function L4(n){return Sx(n).then((t=>t.syncEngine))}async function gE(n){const t=await Sx(n),e=t.eventManager;return e.onListen=b4.bind(null,t.syncEngine),e.onUnlisten=S4.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=T4.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=w4.bind(null,t.syncEngine),e}function wx(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const mE=new Map;const xx="firestore.googleapis.com",pE=!0;class yE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xx,this.ssl=pE}else this.host=t.host,this.ssl=t.ssl??pE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ix;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dk)throw new mt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}XN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wx(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ed{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new jN;switch(i.type){case"firstParty":return new qN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new mt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=mE.get(e);i&&(ht("ComponentProvider","Removing Datastore"),mE.delete(e),i.terminate())})(this),Promise.resolve()}}function z4(n,t,e,i={}){n=zr(n,Ed);const a=dl(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(WS(`https://${h}`),ZS("Firestore",!0)),o.host!==xx&&o.host!==h&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:a,emulatorOptions:i};if(!Br(f,c)&&(n._setSettings(f),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=dn.MOCK_USER;else{g=xC(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new mt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new dn(v)}n._authCredentials=new BN(new pw(g,y))}}class Sd{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Sd(this.firestore,t,this._query)}}class Ke{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ke(this.firestore,t,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(mu(e,Ke._jsonSchema))return new Ke(t,i||null,new Et(pe.fromString(e.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:He("string",Ke._jsonSchemaVersion),referencePath:He("string")};class Ur extends Sd{constructor(t,e,i){super(t,e,xy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ke(this.firestore,null,new Et(t))}withConverter(t){return new Ur(this.firestore,t,this._path)}}function wc(n,t,...e){if(n=xe(n),yw("collection","path",t),n instanceof Ed){const i=pe.fromString(t,...e);return DT(i),new Ur(n,null,i)}{if(!(n instanceof Ke||n instanceof Ur))throw new mt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pe.fromString(t,...e));return DT(i),new Ur(n.firestore,null,i)}}function Ko(n,t,...e){if(n=xe(n),arguments.length===1&&(t=_y.newId()),yw("doc","path",t),n instanceof Ed){const i=pe.fromString(t,...e);return IT(i),new Ke(n,null,new Et(i))}{if(!(n instanceof Ke||n instanceof Ur))throw new mt(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pe.fromString(t,...e));return IT(i),new Ke(n.firestore,n instanceof Ur?n.converter:null,new Et(i))}}const _E="AsyncQueue";class vE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ox(this,"async_queue_retry"),this._c=()=>{const i=Zm();i&&ht(_E,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Zm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Zm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new za;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!_l(t))throw t;ht(_E,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Gs("INTERNAL UNHANDLED ERROR: ",bE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=Uy.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&xt(47125,{Pc:bE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function bE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function TE(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class cl extends Ed{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new vE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new vE(t),this._firestoreClient=void 0,await t}}}function U4(n,t){const e=typeof n=="object"?n:ty(),i=typeof n=="string"?n:Uf,a=Qa(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=SC("firestore");o&&z4(a,...o)}return a}function Ax(n){if(n._terminated)throw new mt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||j4(n),n._firestoreClient}function j4(n){const t=n._freezeSettings(),e=(function(a,o,c,h){return new oO(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,wx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new P4(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class oi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new oi(cn.fromBase64String(t))}catch(e){throw new mt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new oi(cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(mu(t,oi._jsonSchema))return oi.fromBase64String(t.bytes)}}oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:He("string",oi._jsonSchemaVersion),bytes:He("string")};class wd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class qy{constructor(t){this._methodName=t}}class us{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:us._jsonSchemaVersion}}static fromJSON(t){if(mu(t,us._jsonSchema))return new us(t.latitude,t.longitude)}}us._jsonSchemaVersion="firestore/geoPoint/1.0",us._jsonSchema={type:He("string",us._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};class hs{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(mu(t,hs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new hs(t.vectorValues);throw new mt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hs._jsonSchemaVersion="firestore/vectorValue/1.0",hs._jsonSchema={type:He("string",hs._jsonSchemaVersion),vectorValues:He("object")};const B4=/^__.*__$/;class F4{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Wr(t,this.data,this.fieldMask,e,this.fieldTransforms):new pu(t,this.data,e,this.fieldTransforms)}}class Cx{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Wr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Rx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ac:n})}}class Gy{constructor(t,e,i,a,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Gy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return $f(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Rx(this.Ac)&&B4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class H4{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||vd(t)}Cc(t,e,i,a=!1){return new Gy({Ac:t,methodName:e,Dc:i,path:ln.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ix(n){const t=n._freezeSettings(),e=vd(n._databaseId);return new H4(n._databaseId,!!t.ignoreUndefinedProperties,e)}function q4(n,t,e,i,a,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,a);Yy("Data must be an object, but it was:",c,i);const h=Dx(i,c);let f,g;if(o.merge)f=new Gn(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const E=Fp(t,v,e);if(!c.contains(E))throw new mt(rt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Nx(y,E)||y.push(E)}f=new Gn(y),g=c.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,g=c.fieldTransforms;return new F4(new On(h),f,g)}class xd extends qy{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xd}}function G4(n,t,e,i){const a=n.Cc(1,t,e);Yy("Data must be an object, but it was:",a,i);const o=[],c=On.empty();Xr(i,((f,g)=>{const y=Ky(t,f,e);g=xe(g);const v=a.yc(y);if(g instanceof xd)o.push(y);else{const E=Ad(g,v);E!=null&&(o.push(y),c.set(y,E))}}));const h=new Gn(o);return new Cx(c,h,a.fieldTransforms)}function Y4(n,t,e,i,a,o){const c=n.Cc(1,t,e),h=[Fp(t,i,e)],f=[a];if(o.length%2!=0)throw new mt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(Fp(t,o[E])),f.push(o[E+1]);const g=[],y=On.empty();for(let E=h.length-1;E>=0;--E)if(!Nx(g,h[E])){const w=h[E];let M=f[E];M=xe(M);const N=c.yc(w);if(M instanceof xd)g.push(w);else{const D=Ad(M,N);D!=null&&(g.push(w),y.set(w,D))}}const v=new Gn(g);return new Cx(y,v,c.fieldTransforms)}function Ad(n,t){if(Mx(n=xe(n)))return Yy("Unsupported field value:",t,n),Dx(n,t);if(n instanceof qy)return(function(i,a){if(!Rx(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,a){const o=[];let c=0;for(const h of i){let f=Ad(h,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,a){if((i=xe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return MO(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ye.fromDate(i);return{timestampValue:Gf(a.serializer,o)}}if(i instanceof ye){const o=new ye(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gf(a.serializer,o)}}if(i instanceof us)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof oi)return{bytesValue:Xw(a.serializer,i._byteString)};if(i instanceof Ke){const o=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Dy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof hs)return(function(c,h){return{mapValue:{fields:{[Aw]:{stringValue:Cw},[jf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return Ay(h.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${vy(i)}`)})(n,t)}function Dx(n,t){const e={};return bw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xr(n,((i,a)=>{const o=Ad(a,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function Mx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ye||n instanceof us||n instanceof oi||n instanceof Ke||n instanceof qy||n instanceof hs)}function Yy(n,t,e){if(!Mx(e)||!_w(e)){const i=vy(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function Fp(n,t,e){if((t=xe(t))instanceof wd)return t._internalPath;if(typeof t=="string")return Ky(n,t);throw $f("Field path arguments must be of type string or ",n,!1,void 0,e)}const K4=new RegExp("[~\\*/\\[\\]]");function Ky(n,t,e){if(t.search(K4)>=0)throw $f(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new wd(...t.split("."))._internalPath}catch{throw $f(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function $f(n,t,e,i,a){const o=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new mt(rt.INVALID_ARGUMENT,h+n+f)}function Nx(n,t){return n.some((e=>e.isEqual(t)))}class Ox{constructor(t,e,i,a,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(kx("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Q4 extends Ox{data(){return super.data()}}function kx(n,t){return typeof t=="string"?Ky(n,t):t instanceof wd?t._internalPath:t._delegate._internalPath}function $4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X4{convertValue(t,e="none"){switch(Gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw xt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Xr(t,((a,o)=>{i[a]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[jf].arrayValue?.values?.map((i=>Ne(i.doubleValue)));return new hs(e)}convertGeoPoint(t){return new us(Ne(t.latitude),Ne(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=fd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Jc(t));default:return null}}convertTimestamp(t){const e=Hr(t);return new ye(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=pe.fromString(t);te(nx(i),9688,{name:t});const a=new tu(i.get(1),i.get(3)),o=new Et(i.popFirst(5));return a.isEqual(e)||Gs(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function W4(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Pc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ua extends Ox{constructor(t,e,i,a,o,c){super(t,e,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(kx("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ua._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ua._jsonSchema={type:He("string",Ua._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class xf extends Ua{data(t={}){return super.data(t)}}class tl{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Pc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new xf(this._firestore,this._userDataWriter,i.key,i,new Pc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new xf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Pc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new xf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Pc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:Z4(h.type),doc:f,oldIndex:g,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=tl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=_y.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Z4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:n})}}tl._jsonSchemaVersion="firestore/querySnapshot/1.0",tl._jsonSchema={type:He("string",tl._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};class Px extends X4{constructor(t){super(),this.firestore=t}convertBytes(t){return new oi(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ke(this.firestore,null,e)}}function EE(n,t,e,...i){n=zr(n,Ke);const a=zr(n.firestore,cl),o=Ix(a);let c;return c=typeof(t=xe(t))=="string"||t instanceof wd?Y4(o,"updateDoc",n._key,t,e,i):G4(o,"updateDoc",n._key,t),Qy(a,[c.toMutation(n._key,Ri.exists(!0))])}function tp(n){return Qy(zr(n.firestore,cl),[new Cy(n._key,Ri.none())])}function ep(n,t){const e=zr(n.firestore,cl),i=Ko(n),a=W4(n.converter,t);return Qy(e,[q4(Ix(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Ri.exists(!1))]).then((()=>i))}function SE(n,...t){n=xe(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||TE(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(TE(t[i])){const f=t[i];t[i]=f.next?.bind(f),t[i+1]=f.error?.bind(f),t[i+2]=f.complete?.bind(f)}let o,c,h;if(n instanceof Ke)c=zr(n.firestore,cl),h=xy(n._key.path),o={next:f=>{t[i]&&t[i](J4(c,n,f))},error:t[i+1],complete:t[i+2]};else{const f=zr(n,Sd);c=zr(f.firestore,cl),h=f._query;const g=new Px(c);o={next:y=>{t[i]&&t[i](new tl(c,g,f,y))},error:t[i+1],complete:t[i+2]},$4(n._query)}return(function(g,y,v,E){const w=new k4(E),M=new m4(y,w,v);return g.asyncQueue.enqueueAndForget((async()=>h4(await gE(g),M))),()=>{w.Nu(),g.asyncQueue.enqueueAndForget((async()=>f4(await gE(g),M)))}})(Ax(c),h,a,o)}function Qy(n,t){return(function(i,a){const o=new za;return i.asyncQueue.enqueueAndForget((async()=>x4(await L4(i),a,o))),o.promise})(Ax(n),t)}function J4(n,t,e){const i=e.docs.get(t._key),a=new Px(n);return new Ua(n,a,t._key,i,new Pc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){pl=a})(gl),fs(new Di("firestore",((i,{instanceIdentifier:a,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new cl(new FN(i.getProvider("auth-internal")),new GN(c,i.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new mt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(g.options.projectId,y)})(c,a),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),ui(xT,AT,t),ui(xT,AT,"esm2020")})();const tP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),wE=n=>{const t=eP(n);return t.charAt(0).toUpperCase()+t.slice(1)},Vx=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),nP=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var iP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sP=Yt.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...h},f)=>Yt.createElement("svg",{ref:f,...iP,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:Vx("lucide",a),...!o&&!nP(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,y])=>Yt.createElement(g,y)),...Array.isArray(o)?o:[o]]));const _n=(n,t)=>{const e=Yt.forwardRef(({className:i,...a},o)=>Yt.createElement(sP,{ref:o,iconNode:t,className:Vx(`lucide-${tP(wE(n))}`,`lucide-${n}`,i),...a}));return e.displayName=wE(n),e};const rP=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],aP=_n("car",rP);const oP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lP=_n("check",oP);const cP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],uP=_n("chevron-down",cP);const hP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fP=_n("circle-question-mark",hP);const dP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],xE=_n("download",dP);const gP=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],mP=_n("droplet",gP);const pP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],yP=_n("file-spreadsheet",pP);const _P=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],np=_n("fuel",_P);const vP=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],bP=_n("history",vP);const TP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],EP=_n("log-out",TP);const SP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],wP=_n("pen",SP);const xP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],AE=_n("plus",xP);const AP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],CP=_n("trash-2",AP);const RP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],IP=_n("triangle-alert",RP);const DP=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],MP=_n("wallet",DP);const NP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ip=_n("x",NP);function bu(n){return n+.5|0}const Or=(n,t,e)=>Math.max(Math.min(n,e),t);function Vc(n){return Or(bu(n*2.55),0,255)}function jr(n){return Or(bu(n*255),0,255)}function zs(n){return Or(bu(n/2.55)/100,0,1)}function CE(n){return Or(bu(n*100),0,100)}const ai={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Hp=[..."0123456789ABCDEF"],OP=n=>Hp[n&15],kP=n=>Hp[(n&240)>>4]+Hp[n&15],nf=n=>(n&240)>>4===(n&15),PP=n=>nf(n.r)&&nf(n.g)&&nf(n.b)&&nf(n.a);function VP(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ai[n[1]]*17,g:255&ai[n[2]]*17,b:255&ai[n[3]]*17,a:t===5?ai[n[4]]*17:255}:(t===7||t===9)&&(e={r:ai[n[1]]<<4|ai[n[2]],g:ai[n[3]]<<4|ai[n[4]],b:ai[n[5]]<<4|ai[n[6]],a:t===9?ai[n[7]]<<4|ai[n[8]]:255})),e}const LP=(n,t)=>n<255?t(n):"";function zP(n){var t=PP(n)?OP:kP;return n?"#"+t(n.r)+t(n.g)+t(n.b)+LP(n.a,t):void 0}const UP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Lx(n,t,e){const i=t*Math.min(e,1-e),a=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function jP(n,t,e){const i=(a,o=(a+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function BP(n,t,e){const i=Lx(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)i[a]*=1-t-e,i[a]+=t;return i}function FP(n,t,e,i,a){return n===a?(t-e)/i+(t<e?6:0):t===a?(e-n)/i+2:(n-t)/i+4}function $y(n){const e=n.r/255,i=n.g/255,a=n.b/255,o=Math.max(e,i,a),c=Math.min(e,i,a),h=(o+c)/2;let f,g,y;return o!==c&&(y=o-c,g=h>.5?y/(2-o-c):y/(o+c),f=FP(e,i,a,y,o),f=f*60+.5),[f|0,g||0,h]}function Xy(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(jr)}function Wy(n,t,e){return Xy(Lx,n,t,e)}function HP(n,t,e){return Xy(BP,n,t,e)}function qP(n,t,e){return Xy(jP,n,t,e)}function zx(n){return(n%360+360)%360}function GP(n){const t=UP.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Vc(+t[5]):jr(+t[5]));const a=zx(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=HP(a,o,c):t[1]==="hsv"?i=qP(a,o,c):i=Wy(a,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function YP(n,t){var e=$y(n);e[0]=zx(e[0]+t),e=Wy(e),n.r=e[0],n.g=e[1],n.b=e[2]}function KP(n){if(!n)return;const t=$y(n),e=t[0],i=CE(t[1]),a=CE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${a}%, ${zs(n.a)})`:`hsl(${e}, ${i}%, ${a}%)`}const RE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},IE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function QP(){const n={},t=Object.keys(IE),e=Object.keys(RE);let i,a,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],a=0;a<e.length;a++)o=e[a],h=h.replace(o,RE[o]);o=parseInt(IE[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let sf;function $P(n){sf||(sf=QP(),sf.transparent=[0,0,0,0]);const t=sf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const XP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function WP(n){const t=XP.exec(n);let e=255,i,a,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Vc(c):Or(c*255,0,255)}return i=+t[1],a=+t[3],o=+t[5],i=255&(t[2]?Vc(i):Or(i,0,255)),a=255&(t[4]?Vc(a):Or(a,0,255)),o=255&(t[6]?Vc(o):Or(o,0,255)),{r:i,g:a,b:o,a:e}}}function ZP(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${zs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const sp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Bo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function JP(n,t,e){const i=Bo(zs(n.r)),a=Bo(zs(n.g)),o=Bo(zs(n.b));return{r:jr(sp(i+e*(Bo(zs(t.r))-i))),g:jr(sp(a+e*(Bo(zs(t.g))-a))),b:jr(sp(o+e*(Bo(zs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function rf(n,t,e){if(n){let i=$y(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Wy(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Ux(n,t){return n&&Object.assign(t||{},n)}function DE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=jr(n[3]))):(t=Ux(n,{r:0,g:0,b:0,a:1}),t.a=jr(t.a)),t}function tV(n){return n.charAt(0)==="r"?WP(n):GP(n)}class su{constructor(t){if(t instanceof su)return t;const e=typeof t;let i;e==="object"?i=DE(t):e==="string"&&(i=VP(t)||$P(t)||tV(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Ux(this._rgb);return t&&(t.a=zs(t.a)),t}set rgb(t){this._rgb=DE(t)}rgbString(){return this._valid?ZP(this._rgb):void 0}hexString(){return this._valid?zP(this._rgb):void 0}hslString(){return this._valid?KP(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,a=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-a.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*a.r+.5,i.g=255&g*i.g+o*a.g+.5,i.b=255&g*i.b+o*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=JP(this._rgb,t._rgb,e)),this}clone(){return new su(this.rgb)}alpha(t){return this._rgb.a=jr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=bu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return rf(this._rgb,2,t),this}darken(t){return rf(this._rgb,2,-t),this}saturate(t){return rf(this._rgb,1,t),this}desaturate(t){return rf(this._rgb,1,-t),this}rotate(t){return YP(this._rgb,t),this}}function Ps(){}const eV=(()=>{let n=0;return()=>n++})();function he(n){return n==null}function Ye(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function $t(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function yn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ji(n,t){return yn(n)?n:t}function Kt(n,t){return typeof n>"u"?t:n}const nV=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function me(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function re(n,t,e,i){let a,o,c;if(Ye(n))for(o=n.length,a=0;a<o;a++)t.call(e,n[a],a);else if($t(n))for(c=Object.keys(n),o=c.length,a=0;a<o;a++)t.call(e,n[c[a]],c[a])}function Xf(n,t){let e,i,a,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(a=n[e],o=t[e],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Wf(n){if(Ye(n))return n.map(Wf);if($t(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let a=0;for(;a<i;++a)t[e[a]]=Wf(n[e[a]]);return t}return n}function jx(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function iV(n,t,e,i){if(!jx(n))return;const a=t[n],o=e[n];$t(a)&&$t(o)?ru(a,o,i):t[n]=Wf(o)}function ru(n,t,e){const i=Ye(t)?t:[t],a=i.length;if(!$t(n))return n;e=e||{};const o=e.merger||iV;let c;for(let h=0;h<a;++h){if(c=i[h],!$t(c))continue;const f=Object.keys(c);for(let g=0,y=f.length;g<y;++g)o(f[g],n,c,e)}return n}function Gc(n,t){return ru(n,t,{merger:sV})}function sV(n,t,e){if(!jx(n))return;const i=t[n],a=e[n];$t(i)&&$t(a)?Gc(i,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Wf(a))}const ME={"":n=>n,x:n=>n.x,y:n=>n.y};function rV(n){const t=n.split("."),e=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function aV(n){const t=rV(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Zf(n,t){return(ME[t]||(ME[t]=aV(t)))(n)}function Zy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Jf=n=>typeof n<"u",Qr=n=>typeof n=="function",NE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function oV(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Je=Math.PI,Ii=2*Je,lV=Ii+Je,td=Number.POSITIVE_INFINITY,cV=Je/180,Ai=Je/2,Ca=Je/4,OE=Je*2/3,Bx=Math.log10,ul=Math.sign;function Yc(n,t,e){return Math.abs(n-t)<e}function kE(n){const t=Math.round(n);n=Yc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Bx(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function uV(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((a,o)=>a-o).pop(),t}function hV(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function au(n){return!hV(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function fV(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function dV(n,t,e){let i,a,o;for(i=0,a=n.length;i<a;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Va(n){return n*(Je/180)}function gV(n){return n*(180/Je)}function PE(n){if(!yn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function mV(n,t){const e=t.x-n.x,i=t.y-n.y,a=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Je&&(o+=Ii),{angle:o,distance:a}}function qp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function pV(n,t){return(n-t+lV)%Ii-Je}function rs(n){return(n%Ii+Ii)%Ii}function Fx(n,t,e,i){const a=rs(n),o=rs(t),c=rs(e),h=rs(o-a),f=rs(c-a),g=rs(a-o),y=rs(a-c);return a===o||a===c||i&&o===c||h>f&&g<y}function li(n,t,e){return Math.max(t,Math.min(e,n))}function yV(n){return li(n,-32768,32767)}function Qo(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Jy(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,e(o)?a=o:i=o;return{lo:a,hi:i}}const La=(n,t,e,i)=>Jy(n,e,i?a=>{const o=n[a][t];return o<e||o===e&&n[a+1][t]===e}:a=>n[a][t]<e),_V=(n,t,e)=>Jy(n,e,i=>n[i][t]>=e);function vV(n,t,e){let i=0,a=n.length;for(;i<a&&n[i]<t;)i++;for(;a>i&&n[a-1]>e;)a--;return i>0||a<n.length?n.slice(i,a):n}const Hx=["push","pop","shift","splice","unshift"];function bV(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Hx.forEach(e=>{const i="_onData"+Zy(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function VE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,a=i.indexOf(t);a!==-1&&i.splice(a,1),!(i.length>0)&&(Hx.forEach(o=>{delete n[o]}),delete n._chartjs)}function TV(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const qx=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function Gx(n,t){let e=[],i=!1;return function(...a){e=a,i||(i=!0,qx.call(window,()=>{i=!1,n.apply(t,e)}))}}function EV(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const t_=n=>n==="start"?"left":n==="end"?"right":"center",fn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,SV=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function wV(n,t,e){const i=t.length;let a=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=c.axis,{min:v,max:E,minDefined:w,maxDefined:M}=c.getUserBounds();if(w){if(a=Math.min(La(f,y,v).lo,e?i:La(t,y,c.getPixelForValue(v)).lo),g){const N=f.slice(0,a+1).reverse().findIndex(D=>!he(D[h.axis]));a-=Math.max(0,N)}a=li(a,0,i-1)}if(M){let N=Math.max(La(f,c.axis,E,!0).hi+1,e?0:La(t,y,c.getPixelForValue(E),!0).hi+1);if(g){const D=f.slice(N-1).findIndex(B=>!he(B[h.axis]));N+=Math.max(0,D)}o=li(N,a,i)-a}else o=i-a}return{start:a,count:o}}function xV(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=a,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,a),o}const af=n=>n===0||n===1,LE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ii/e)),zE=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ii/e)+1,Kc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ai)+1,easeOutSine:n=>Math.sin(n*Ai),easeInOutSine:n=>-.5*(Math.cos(Je*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>af(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>af(n)?n:LE(n,.075,.3),easeOutElastic:n=>af(n)?n:zE(n,.075,.3),easeInOutElastic(n){return af(n)?n:n<.5?.5*LE(n*2,.1125,.45):.5+.5*zE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Kc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Kc.easeInBounce(n*2)*.5:Kc.easeOutBounce(n*2-1)*.5+.5};function e_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function UE(n){return e_(n)?n:new su(n)}function rp(n){return e_(n)?n:new su(n).saturate(.5).darken(.1).hexString()}const AV=["x","y","borderWidth","radius","tension"],CV=["color","borderColor","backgroundColor"];function RV(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:CV},numbers:{type:"number",properties:AV}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function IV(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const jE=new Map;function DV(n,t){t=t||{};const e=n+JSON.stringify(t);let i=jE.get(e);return i||(i=new Intl.NumberFormat(n,t),jE.set(e,i)),i}function Yx(n,t,e){return DV(t,e).format(n)}const MV={values(n){return Ye(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let a,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(a="scientific"),o=NV(n,e)}const c=Bx(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Yx(n,i,f)}};function NV(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Kx={formatters:MV};function OV(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Kx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ya=Object.create(null),Gp=Object.create(null);function Qc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,a=e.length;i<a;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function ap(n,t,e){return typeof t=="string"?ru(Qc(n,t),e):ru(Qc(n,""),t)}class kV{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>rp(a.backgroundColor),this.hoverBorderColor=(i,a)=>rp(a.borderColor),this.hoverColor=(i,a)=>rp(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ap(this,t,e)}get(t){return Qc(this,t)}describe(t,e){return ap(Gp,t,e)}override(t,e){return ap(Ya,t,e)}route(t,e,i,a){const o=Qc(this,t),c=Qc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=c[a];return $t(f)?Object.assign({},g,f):Kt(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Oe=new kV({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[RV,IV,OV]);function PV(n){return!n||he(n.size)||he(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function BE(n,t,e,i,a){let o=t[a];return o||(o=t[a]=n.measureText(a).width,e.push(a)),o>i&&(i=o),i}function Ra(n,t,e){const i=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*i)/i+a}function FE(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Yp(n,t,e,i){Qx(n,t,e,i,null)}function Qx(n,t,e,i,a){let o,c,h,f,g,y,v,E;const w=t.pointStyle,M=t.rotation,N=t.radius;let D=(M||0)*cV;if(w&&typeof w=="object"&&(o=w.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(D),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(N)||N<=0)){switch(n.beginPath(),w){default:a?n.ellipse(e,i,a/2,N,0,0,Ii):n.arc(e,i,N,0,Ii),n.closePath();break;case"triangle":y=a?a/2:N,n.moveTo(e+Math.sin(D)*y,i-Math.cos(D)*N),D+=OE,n.lineTo(e+Math.sin(D)*y,i-Math.cos(D)*N),D+=OE,n.lineTo(e+Math.sin(D)*y,i-Math.cos(D)*N),n.closePath();break;case"rectRounded":g=N*.516,f=N-g,c=Math.cos(D+Ca)*f,v=Math.cos(D+Ca)*(a?a/2-g:f),h=Math.sin(D+Ca)*f,E=Math.sin(D+Ca)*(a?a/2-g:f),n.arc(e-v,i-h,g,D-Je,D-Ai),n.arc(e+E,i-c,g,D-Ai,D),n.arc(e+v,i+h,g,D,D+Ai),n.arc(e-E,i+c,g,D+Ai,D+Je),n.closePath();break;case"rect":if(!M){f=Math.SQRT1_2*N,y=a?a/2:f,n.rect(e-y,i-f,2*y,2*f);break}D+=Ca;case"rectRot":v=Math.cos(D)*(a?a/2:N),c=Math.cos(D)*N,h=Math.sin(D)*N,E=Math.sin(D)*(a?a/2:N),n.moveTo(e-v,i-h),n.lineTo(e+E,i-c),n.lineTo(e+v,i+h),n.lineTo(e-E,i+c),n.closePath();break;case"crossRot":D+=Ca;case"cross":v=Math.cos(D)*(a?a/2:N),c=Math.cos(D)*N,h=Math.sin(D)*N,E=Math.sin(D)*(a?a/2:N),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"star":v=Math.cos(D)*(a?a/2:N),c=Math.cos(D)*N,h=Math.sin(D)*N,E=Math.sin(D)*(a?a/2:N),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c),D+=Ca,v=Math.cos(D)*(a?a/2:N),c=Math.cos(D)*N,h=Math.sin(D)*N,E=Math.sin(D)*(a?a/2:N),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"line":c=a?a/2:Math.cos(D)*N,h=Math.sin(D)*N,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(D)*(a?a/2:N),i+Math.sin(D)*N);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function ou(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Cd(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Rd(n){n.restore()}function VV(n,t,e,i,a){if(!t)return n.lineTo(e.x,e.y);if(a==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else a==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function LV(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function zV(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),he(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function UV(n,t,e,i,a){if(a.strikethrough||a.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,y=a.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function jV(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function lu(n,t,e,i,a,o={}){const c=Ye(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=a.string,zV(n,o),f=0;f<c.length;++f)g=c[f],o.backdrop&&jV(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),he(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),UV(n,e,i,g,o),i+=Number(a.lineHeight);n.restore()}function Kp(n,t){const{x:e,y:i,w:a,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*Je,Je,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Je,Ai,!0),n.lineTo(e+a-c.bottomRight,i+o),n.arc(e+a-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Ai,0,!0),n.lineTo(e+a,i+c.topRight),n.arc(e+a-c.topRight,i+c.topRight,c.topRight,0,-Ai,!0),n.lineTo(e+c.topLeft,i)}const BV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function HV(n,t){const e=(""+n).match(BV);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const qV=n=>+n||0;function $x(n,t){const e={},i=$t(t),a=i?Object.keys(t):t,o=$t(n)?i?c=>Kt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of a)e[c]=qV(o(c));return e}function GV(n){return $x(n,{top:"y",right:"x",bottom:"y",left:"x"})}function $c(n){return $x(n,["topLeft","topRight","bottomLeft","bottomRight"])}function fi(n){const t=GV(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function mn(n,t){n=n||{},t=t||Oe.font;let e=Kt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Kt(n.style,t.style);i&&!(""+i).match(FV)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:Kt(n.family,t.family),lineHeight:HV(Kt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Kt(n.weight,t.weight),string:""};return a.string=PV(a),a}function of(n,t,e,i){let a,o,c;for(a=0,o=n.length;a<o;++a)if(c=n[a],c!==void 0&&c!==void 0)return c}function YV(n,t,e){const{min:i,max:a}=n,o=nV(t,(a-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(a,o)}}function Wa(n,t){return Object.assign(Object.create(n),t)}function n_(n,t=[""],e,i,a=()=>n[0]){const o=e||n;typeof i>"u"&&(i=Jx("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:a,override:h=>n_([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return Wx(h,f,()=>tL(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return qE(h).includes(f)},ownKeys(h){return qE(h)},set(h,f,g){const y=h._storage||(h._storage=a());return h[f]=y[f]=g,delete h._keys,!0}})}function hl(n,t,e,i){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Xx(n,i),setContext:o=>hl(n,o,e,i),override:o=>hl(n.override(o),t,e,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return Wx(o,c,()=>QV(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function Xx(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:i,isScriptable:Qr(e)?e:()=>e,isIndexable:Qr(i)?i:()=>i}}const KV=(n,t)=>n?n+Zy(t):t,i_=(n,t)=>$t(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Wx(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function QV(n,t,e){const{_proxy:i,_context:a,_subProxy:o,_descriptors:c}=n;let h=i[t];return Qr(h)&&c.isScriptable(t)&&(h=$V(t,h,n,e)),Ye(h)&&h.length&&(h=XV(t,h,n,c.isIndexable)),i_(t,h)&&(h=hl(h,a,o&&o[t],c)),h}function $V(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),i_(n,f)&&(f=s_(a._scopes,a,n,f)),f}function XV(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if($t(t[0])){const f=t,g=a._scopes.filter(y=>y!==f);t=[];for(const y of f){const v=s_(g,a,n,y);t.push(hl(v,o,c&&c[n],h))}}return t}function Zx(n,t,e){return Qr(n)?n(t,e):n}const WV=(n,t)=>n===!0?t:typeof n=="string"?Zf(t,n):void 0;function ZV(n,t,e,i,a){for(const o of t){const c=WV(e,o);if(c){n.add(c);const h=Zx(c._fallback,e,a);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function s_(n,t,e,i){const a=t._rootScopes,o=Zx(t._fallback,e,i),c=[...n,...a],h=new Set;h.add(i);let f=HE(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=HE(h,c,o,f,i),f===null)?!1:n_(Array.from(h),[""],a,o,()=>JV(t,e,i))}function HE(n,t,e,i,a){for(;e;)e=ZV(n,t,e,i,a);return e}function JV(n,t,e){const i=n._getTarget();t in i||(i[t]={});const a=i[t];return Ye(a)&&$t(e)?e:a||{}}function tL(n,t,e,i){let a;for(const o of t)if(a=Jx(KV(o,n),e),typeof a<"u")return i_(n,a)?s_(e,i,n,a):a}function Jx(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function qE(n){let t=n._keys;return t||(t=n._keys=eL(n._scopes)),t}function eL(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(i);return Array.from(t)}const nL=Number.EPSILON||1e-14,fl=(n,t)=>t<n.length&&!n[t].skip&&n[t],tA=n=>n==="x"?"y":"x";function iL(n,t,e,i){const a=n.skip?t:n,o=t,c=e.skip?t:e,h=qp(o,a),f=qp(c,o);let g=h/(h+f),y=f/(h+f);g=isNaN(g)?0:g,y=isNaN(y)?0:y;const v=i*g,E=i*y;return{previous:{x:o.x-v*(c.x-a.x),y:o.y-v*(c.y-a.y)},next:{x:o.x+E*(c.x-a.x),y:o.y+E*(c.y-a.y)}}}function sL(n,t,e){const i=n.length;let a,o,c,h,f,g=fl(n,0);for(let y=0;y<i-1;++y)if(f=g,g=fl(n,y+1),!(!f||!g)){if(Yc(t[y],0,nL)){e[y]=e[y+1]=0;continue}a=e[y]/t[y],o=e[y+1]/t[y],h=Math.pow(a,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[y]=a*c*t[y],e[y+1]=o*c*t[y])}}function rL(n,t,e="x"){const i=tA(e),a=n.length;let o,c,h,f=fl(n,0);for(let g=0;g<a;++g){if(c=h,h=f,f=fl(n,g+1),!h)continue;const y=h[e],v=h[i];c&&(o=(y-c[e])/3,h[`cp1${e}`]=y-o,h[`cp1${i}`]=v-o*t[g]),f&&(o=(f[e]-y)/3,h[`cp2${e}`]=y+o,h[`cp2${i}`]=v+o*t[g])}}function aL(n,t="x"){const e=tA(t),i=n.length,a=Array(i).fill(0),o=Array(i);let c,h,f,g=fl(n,0);for(c=0;c<i;++c)if(h=f,f=g,g=fl(n,c+1),!!f){if(g){const y=g[t]-f[t];a[c]=y!==0?(g[e]-f[e])/y:0}o[c]=h?g?ul(a[c-1])!==ul(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}sL(n,a,o),rL(n,o,t)}function lf(n,t,e){return Math.max(Math.min(n,e),t)}function oL(n,t){let e,i,a,o,c,h=ou(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&ou(n[e+1],t),o&&(a=n[e],c&&(a.cp1x=lf(a.cp1x,t.left,t.right),a.cp1y=lf(a.cp1y,t.top,t.bottom)),h&&(a.cp2x=lf(a.cp2x,t.left,t.right),a.cp2y=lf(a.cp2y,t.top,t.bottom)))}function lL(n,t,e,i,a){let o,c,h,f;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")aL(n,a);else{let g=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=iL(g,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,g=h}t.capBezierPoints&&oL(n,e)}function r_(){return typeof window<"u"&&typeof document<"u"}function a_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ed(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Id=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function cL(n,t){return Id(n).getPropertyValue(t)}const uL=["top","right","bottom","left"];function ja(n,t,e){const i={};e=e?"-"+e:"";for(let a=0;a<4;a++){const o=uL[a];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const hL=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function fL(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:a,offsetY:o}=i;let c=!1,h,f;if(hL(a,o,n.target))h=a,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,c=!0}return{x:h,y:f,box:c}}function Ma(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,a=Id(e),o=a.boxSizing==="border-box",c=ja(a,"padding"),h=ja(a,"border","width"),{x:f,y:g,box:y}=fL(n,e),v=c.left+(y&&h.left),E=c.top+(y&&h.top);let{width:w,height:M}=t;return o&&(w-=c.width+h.width,M-=c.height+h.height),{x:Math.round((f-v)/w*e.width/i),y:Math.round((g-E)/M*e.height/i)}}function dL(n,t,e){let i,a;if(t===void 0||e===void 0){const o=n&&a_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=Id(o),f=ja(h,"border","width"),g=ja(h,"padding");t=c.width-g.width-f.width,e=c.height-g.height-f.height,i=ed(h.maxWidth,o,"clientWidth"),a=ed(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||td,maxHeight:a||td}}const kr=n=>Math.round(n*10)/10;function gL(n,t,e,i){const a=Id(n),o=ja(a,"margin"),c=ed(a.maxWidth,n,"clientWidth")||td,h=ed(a.maxHeight,n,"clientHeight")||td,f=dL(n,t,e);let{width:g,height:y}=f;if(a.boxSizing==="content-box"){const E=ja(a,"border","width"),w=ja(a,"padding");g-=w.width+E.width,y-=w.height+E.height}return g=Math.max(0,g-o.width),y=Math.max(0,i?g/i:y-o.height),g=kr(Math.min(g,c,f.maxWidth)),y=kr(Math.min(y,h,f.maxHeight)),g&&!y&&(y=kr(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,g=kr(Math.floor(y*i))),{width:g,height:y}}function GE(n,t,e){const i=t||1,a=kr(n.height*i),o=kr(n.width*i);n.height=kr(n.height),n.width=kr(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==a||c.width!==o?(n.currentDevicePixelRatio=i,c.height=a,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const mL=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};r_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function YE(n,t){const e=cL(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Na(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function pL(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function yL(n,t,e,i){const a={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=Na(n,a,e),h=Na(a,o,e),f=Na(o,t,e),g=Na(c,h,e),y=Na(h,f,e);return Na(g,y,e)}const _L=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},vL=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function el(n,t,e){return n?_L(t,e):vL()}function eA(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function nA(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function iA(n){return n==="angle"?{between:Fx,compare:pV,normalize:rs}:{between:Qo,compare:(t,e)=>t-e,normalize:t=>t}}function KE({start:n,end:t,count:e,loop:i,style:a}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:a}}function bL(n,t,e){const{property:i,start:a,end:o}=e,{between:c,normalize:h}=iA(i),f=t.length;let{start:g,end:y,loop:v}=n,E,w;if(v){for(g+=f,y+=f,E=0,w=f;E<w&&c(h(t[g%f][i]),a,o);++E)g--,y--;g%=f,y%=f}return y<g&&(y+=f),{start:g,end:y,loop:v,style:n.style}}function sA(n,t,e){if(!e)return[n];const{property:i,start:a,end:o}=e,c=t.length,{compare:h,between:f,normalize:g}=iA(i),{start:y,end:v,loop:E,style:w}=bL(n,t,e),M=[];let N=!1,D=null,B,tt,J;const at=()=>f(a,J,B)&&h(a,J)!==0,et=()=>h(o,B)===0||f(o,J,B),nt=()=>N||at(),C=()=>!N||et();for(let A=y,I=y;A<=v;++A)tt=t[A%c],!tt.skip&&(B=g(tt[i]),B!==J&&(N=f(B,a,o),D===null&&nt()&&(D=h(B,a)===0?A:I),D!==null&&C()&&(M.push(KE({start:D,end:A,loop:E,count:c,style:w})),D=null),I=A,J=B));return D!==null&&M.push(KE({start:D,end:v,loop:E,count:c,style:w})),M}function rA(n,t){const e=[],i=n.segments;for(let a=0;a<i.length;a++){const o=sA(i[a],n.points,t);o.length&&e.push(...o)}return e}function TL(n,t,e,i){let a=0,o=t-1;if(e&&!i)for(;a<t&&!n[a].skip;)a++;for(;a<t&&n[a].skip;)a++;for(a%=t,e&&(o+=a);o>a&&n[o%t].skip;)o--;return o%=t,{start:a,end:o}}function EL(n,t,e,i){const a=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const g=n[f%a];g.skip||g.stop?h.skip||(i=!1,o.push({start:t%a,end:(f-1)%a,loop:i}),t=c=g.stop?f:null):(c=f,h.skip&&(t=f)),h=g}return c!==null&&o.push({start:t%a,end:c%a,loop:i}),o}function SL(n,t){const e=n.points,i=n.options.spanGaps,a=e.length;if(!a)return[];const o=!!n._loop,{start:c,end:h}=TL(e,a,o,i);if(i===!0)return QE(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+a:h,g=!!n._fullLoop&&c===0&&h===a-1;return QE(n,EL(e,c,f,g),e,t)}function QE(n,t,e,i){return!i||!i.setContext||!e?t:wL(n,t,e,i)}function wL(n,t,e,i){const a=n._chart.getContext(),o=$E(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,g=[];let y=o,v=t[0].start,E=v;function w(M,N,D,B){const tt=h?-1:1;if(M!==N){for(M+=f;e[M%f].skip;)M-=tt;for(;e[N%f].skip;)N+=tt;M%f!==N%f&&(g.push({start:M%f,end:N%f,loop:D,style:B}),y=B,v=N%f)}}for(const M of t){v=h?v:M.start;let N=e[v%f],D;for(E=v+1;E<=M.end;E++){const B=e[E%f];D=$E(i.setContext(Wa(a,{type:"segment",p0:N,p1:B,p0DataIndex:(E-1)%f,p1DataIndex:E%f,datasetIndex:c}))),xL(D,y)&&w(v,E-1,M.loop,y),N=B,y=D}v<E-1&&w(v,E-1,M.loop,y)}return g}function $E(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function xL(n,t){if(!t)return!1;const e=[],i=function(a,o){return e_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function cf(n,t,e){return n.options.clip?n[e]:t[e]}function AL(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:cf(e,t,"left"),right:cf(e,t,"right"),top:cf(i,t,"top"),bottom:cf(i,t,"bottom")}:t}function aA(n,t){const e=t._clip;if(e.disabled)return!1;const i=AL(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class CL{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,a){const o=e.listeners[a],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=qx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(a.draw(),this._notify(a,i,t,"progress")),o.length||(i.running=!1,this._notify(a,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Vs=new CL;const XE="transparent",RL={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=UE(n||XE),a=i.valid&&UE(t||XE);return a&&a.valid?a.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class IL{constructor(t,e,i,a){const o=e[i];a=of([t.to,a,o,t.from]);const c=of([t.from,o,a]);this._active=!0,this._fn=t.fn||RL[t.type||typeof c],this._easing=Kc[t.easing]||Kc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=of([t.to,e,a,t.from]),this._from=of([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,a=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[a]=h,this._notify(!0);return}if(e<0){this._target[a]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][e]()}}class oA{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!$t(t))return;const e=Object.keys(Oe.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!$t(o))return;const c={};for(const h of e)c[h]=o[h];(Ye(o.properties)&&o.properties||[a]).forEach(h=>{(h===a||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,a=ML(t,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&DL(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,a=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const g=c[f];if(g.charAt(0)==="$")continue;if(g==="options"){a.push(...this._animateOptions(t,e));continue}const y=e[g];let v=o[g];const E=i.get(g);if(v)if(E&&v.active()){v.update(E,y,h);continue}else v.cancel();if(!E||!E.duration){t[g]=y;continue}o[g]=v=new IL(E,t,g,y),a.push(v)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Vs.add(this._chart,i),!0}}function DL(n,t){const e=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const o=n[i[a]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function ML(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function WE(n,t){const e=n&&n.options||{},i=e.reverse,a=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:a,end:i?a:o}}function NL(n,t,e){if(e===!1)return!1;const i=WE(n,e),a=WE(t,e);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function OL(n){let t,e,i,a;return $t(n)?(t=n.top,e=n.right,i=n.bottom,a=n.left):t=e=i=a=n,{top:t,right:e,bottom:i,left:a,disabled:n===!1}}function lA(n,t){const e=[],i=n._getSortedDatasetMetas(t);let a,o;for(a=0,o=i.length;a<o;++a)e.push(i[a].index);return e}function ZE(n,t,e,i={}){const a=n.keys,o=i.mode==="single";let c,h,f,g;if(t===null)return;let y=!1;for(c=0,h=a.length;c<h;++c){if(f=+a[c],f===e){if(y=!0,i.all)continue;break}g=n.values[f],yn(g)&&(o||t===0||ul(t)===ul(g))&&(t+=g)}return!y&&!i.all?0:t}function kL(n,t){const{iScale:e,vScale:i}=t,a=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,g,y;for(f=0,g=c.length;f<g;++f)y=c[f],h[f]={[a]:y,[o]:n[y]};return h}function op(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function PL(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function VL(n){const{min:t,max:e,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function LL(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function JE(n,t,e,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const o=n[a.index];if(e&&o>0||!e&&o<0)return a.index}return null}function tS(n,t){const{chart:e,_cachedMeta:i}=n,a=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,g=c.axis,y=PL(o,c,i),v=t.length;let E;for(let w=0;w<v;++w){const M=t[w],{[f]:N,[g]:D}=M,B=M._stacks||(M._stacks={});E=B[g]=LL(a,y,N),E[h]=D,E._top=JE(E,c,!0,i.type),E._bottom=JE(E,c,!1,i.type);const tt=E._visualValues||(E._visualValues={});tt[h]=D}}function lp(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function zL(n,t){return Wa(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function UL(n,t,e){return Wa(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function xc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const a of t){const o=a._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const cp=n=>n==="reset"||n==="none",eS=(n,t)=>t?n:Object.assign({},n),jL=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:lA(e,!0),values:null};class cA{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=op(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&xc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=(v,E,w,M)=>v==="x"?E:v==="r"?M:w,o=e.xAxisID=Kt(i.xAxisID,lp(t,"x")),c=e.yAxisID=Kt(i.yAxisID,lp(t,"y")),h=e.rAxisID=Kt(i.rAxisID,lp(t,"r")),f=e.indexAxis,g=e.iAxisID=a(f,o,c,h),y=e.vAxisID=a(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&VE(this._data,this),t._stacked&&xc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if($t(e)){const a=this._cachedMeta;this._data=kL(e,a)}else if(i!==e){if(i){VE(i,this);const a=this._cachedMeta;xc(a),a._parsed=[]}e&&Object.isExtensible(e)&&bV(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=e._stacked;e._stacked=op(e.vScale,e),e.stack!==i.stack&&(a=!0,xc(e),e.stack=i.stack),this._resyncElements(t),(a||o!==e._stacked)&&(tS(this,e._parsed),e._stacked=op(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===a.length?!0:i._sorted,g=t>0&&i._parsed[t-1],y,v,E;if(this._parsing===!1)i._parsed=a,i._sorted=!0,E=a;else{Ye(a[t])?E=this.parseArrayData(i,a,t,e):$t(a[t])?E=this.parseObjectData(i,a,t,e):E=this.parsePrimitiveData(i,a,t,e);const w=()=>v[h]===null||g&&v[h]<g[h];for(y=0;y<e;++y)i._parsed[y+t]=v=E[y],f&&(w()&&(f=!1),g=v);i._sorted=f}c&&tS(this,E)}parsePrimitiveData(t,e,i,a){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,g=o.getLabels(),y=o===c,v=new Array(a);let E,w,M;for(E=0,w=a;E<w;++E)M=E+i,v[E]={[h]:y||o.parse(g[M],M),[f]:c.parse(e[M],M)};return v}parseArrayData(t,e,i,a){const{xScale:o,yScale:c}=t,h=new Array(a);let f,g,y,v;for(f=0,g=a;f<g;++f)y=f+i,v=e[y],h[f]={x:o.parse(v[0],y),y:c.parse(v[1],y)};return h}parseObjectData(t,e,i,a){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(a);let y,v,E,w;for(y=0,v=a;y<v;++y)E=y+i,w=e[E],g[y]={x:o.parse(Zf(w,h),E),y:c.parse(Zf(w,f),E)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const a=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:lA(a,!0),values:e._stacks[t.axis]._visualValues};return ZE(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,a){const o=i[e.axis];let c=o===null?NaN:o;const h=a&&i._stacks[e.axis];a&&h&&(a.values=h,c=ZE(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&t===i.iScale,c=a.length,h=this._getOtherScale(t),f=jL(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:v}=VL(h);let E,w;function M(){w=a[E];const N=w[h.axis];return!yn(w[t.axis])||y>N||v<N}for(E=0;E<c&&!(!M()&&(this.updateRangeFromParsed(g,t,w,f),o));++E);if(o){for(E=c-1;E>=0;--E)if(!M()){this.updateRangeFromParsed(g,t,w,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let a,o,c;for(a=0,o=e.length;a<o;++a)c=e[a][t.axis],yn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,a=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=OL(Kt(this.options.clip,NL(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,a=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||a.length-h,g=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const v=a[y];v.hidden||(v.active&&g?c.push(v):v.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=UL(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=zL(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const a=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&Jf(i);if(h)return eS(h,f);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,t),v=a?[`${t}Hover`,"hover",t,""]:[t,""],E=g.getOptionScopes(this.getDataset(),y),w=Object.keys(Oe.elements[t]),M=()=>this.getContext(i,a,e),N=g.resolveNamedOptions(E,w,M,v);return N.$shared&&(N.$shared=f,o[c]=Object.freeze(eS(N,f))),N}_resolveAnimations(t,e,i){const a=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(a.options.animation!==!1){const y=this.chart.config,v=y.datasetAnimationScopeKeys(this._type,e),E=y.getOptionScopes(this.getDataset(),v);f=y.createResolver(E,this.getContext(t,i,e))}const g=new oA(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||cp(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),a=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==a;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,a){cp(a)?Object.assign(t,i):this._resolveAnimations(e,a).update(t,i)}updateSharedOptions(t,e,i){t&&!cp(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,a){t.active=a;const o=this.getStyle(e,a);this._resolveAnimations(e,i,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const a=i.length,o=e.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,e,i=!0){const a=this._cachedMeta,o=a.data,c=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,a){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(t,e);i._stacked&&xc(i,a)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,a]=t;this[e](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class BL extends cA{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:a=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=wV(e,a,c);this._drawStart=h,this._drawCount=f,xV(e)&&(h=0,f=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=a;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:g},t),this.updateElements(a,h,f,t)}updateElements(t,e,i,a){const o=a==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(e,a),E=c.axis,w=h.axis,{spanGaps:M,segment:N}=this.options,D=au(M)?M:Number.POSITIVE_INFINITY,B=this.chart._animationsDisabled||o||a==="none",tt=e+i,J=t.length;let at=e>0&&this.getParsed(e-1);for(let et=0;et<J;++et){const nt=t[et],C=B?nt:{};if(et<e||et>=tt){C.skip=!0;continue}const A=this.getParsed(et),I=he(A[w]),P=C[E]=c.getPixelForValue(A[E],et),k=C[w]=o||I?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,A,f):A[w],et);C.skip=isNaN(P)||isNaN(k)||I,C.stop=et>0&&Math.abs(A[E]-at[E])>D,N&&(C.parsed=A,C.raw=g.data[et]),v&&(C.options=y||this.resolveDataElementOptions(et,nt.active?"active":a)),B||this.updateElement(nt,et,C,a),at=A}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return i;const o=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Ia(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class o_{static override(t){Object.assign(o_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ia()}parse(){return Ia()}format(){return Ia()}add(){return Ia()}diff(){return Ia()}startOf(){return Ia()}endOf(){return Ia()}}var FL={_date:o_};function HL(n,t,e,i){const{controller:a,data:o,_sorted:c}=n,h=a._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?_V:La;if(i){if(a._sharedOptions){const y=o[0],v=typeof y.getRange=="function"&&y.getRange(t);if(v){const E=g(o,t,e-v),w=g(o,t,e+v);return{lo:E.lo,hi:w.hi}}}}else{const y=g(o,t,e);if(f){const{vScale:v}=a._cachedMeta,{_parsed:E}=n,w=E.slice(0,y.lo+1).reverse().findIndex(N=>!he(N[v.axis]));y.lo-=Math.max(0,w);const M=E.slice(y.hi).findIndex(N=>!he(N[v.axis]));y.hi+=Math.max(0,M)}return y}}return{lo:0,hi:o.length-1}}function Dd(n,t,e,i,a){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:y}=o[h],{lo:v,hi:E}=HL(o[h],t,c,a);for(let w=v;w<=E;++w){const M=y[w];M.skip||i(M,g,w)}}}function qL(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,a){const o=t?Math.abs(i.x-a.x):0,c=e?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function up(n,t,e,i,a){const o=[];return!a&&!n.isPointInArea(t)||Dd(n,e,t,function(h,f,g){!a&&!ou(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function GL(n,t,e,i){let a=[];function o(c,h,f){const{startAngle:g,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:v}=mV(c,{x:t.x,y:t.y});Fx(v,g,y)&&a.push({element:c,datasetIndex:h,index:f})}return Dd(n,e,t,o),a}function YL(n,t,e,i,a,o){let c=[];const h=qL(e);let f=Number.POSITIVE_INFINITY;function g(y,v,E){const w=y.inRange(t.x,t.y,a);if(i&&!w)return;const M=y.getCenterPoint(a);if(!(!!o||n.isPointInArea(M))&&!w)return;const D=h(t,M);D<f?(c=[{element:y,datasetIndex:v,index:E}],f=D):D===f&&c.push({element:y,datasetIndex:v,index:E})}return Dd(n,e,t,g),c}function hp(n,t,e,i,a,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?GL(n,t,e,a):YL(n,t,e,i,a,o)}function nS(n,t,e,i,a){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return Dd(n,e,t,(f,g,y)=>{f[c]&&f[c](t[e],a)&&(o.push({element:f,datasetIndex:g,index:y}),h=h||f.inRange(t.x,t.y,a))}),i&&!h?[]:o}var KL={modes:{index(n,t,e,i){const a=Ma(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?up(n,a,o,i,c):hp(n,a,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const y=h[0].index,v=g.data[y];v&&!v.skip&&f.push({element:v,datasetIndex:g.index,index:y})}),f):[]},dataset(n,t,e,i){const a=Ma(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?up(n,a,o,i,c):hp(n,a,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let y=0;y<g.length;++y)h.push({element:g[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const a=Ma(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return up(n,a,o,i,c)},nearest(n,t,e,i){const a=Ma(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return hp(n,a,o,e.intersect,i,c)},x(n,t,e,i){const a=Ma(t,n);return nS(n,a,"x",e.intersect,i)},y(n,t,e,i){const a=Ma(t,n);return nS(n,a,"y",e.intersect,i)}}};const uA=["left","top","right","bottom"];function Ac(n,t){return n.filter(e=>e.pos===t)}function iS(n,t){return n.filter(e=>uA.indexOf(e.pos)===-1&&e.box.axis===t)}function Cc(n,t){return n.sort((e,i)=>{const a=t?i:e,o=t?e:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function QL(n){const t=[];let e,i,a,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)a=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=a,t.push({index:e,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:h});return t}function $L(n){const t={};for(const e of n){const{stack:i,pos:a,stackWeight:o}=e;if(!i||!uA.includes(a))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function XL(n,t){const e=$L(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],y=g&&h.stackWeight/g.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=a):(h.width=i,h.height=y?y*a:f&&t.availableHeight)}return e}function WL(n){const t=QL(n),e=Cc(t.filter(g=>g.box.fullSize),!0),i=Cc(Ac(t,"left"),!0),a=Cc(Ac(t,"right")),o=Cc(Ac(t,"top"),!0),c=Cc(Ac(t,"bottom")),h=iS(t,"x"),f=iS(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:a.concat(f).concat(c).concat(h),chartArea:Ac(t,"chartArea"),vertical:i.concat(a).concat(f),horizontal:o.concat(c).concat(h)}}function sS(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function hA(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function ZL(n,t,e,i){const{pos:a,box:o}=e,c=n.maxPadding;if(!$t(a)){e.size&&(n[a]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[a]+=e.size}o.getPadding&&hA(c,o.getPadding());const h=Math.max(0,t.outerWidth-sS(c,n,"left","right")),f=Math.max(0,t.outerHeight-sS(c,n,"top","bottom")),g=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:y}:{same:y,other:g}}function JL(n){const t=n.maxPadding;function e(i){const a=Math.max(t[i]-n[i],0);return n[i]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function t5(n,t){const e=t.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Lc(n,t,e,i){const a=[];let o,c,h,f,g,y;for(o=0,c=n.length,g=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,t5(h.horizontal,t));const{same:v,other:E}=ZL(t,e,h,i);g|=v&&a.length,y=y||E,f.fullSize||a.push(h)}return g&&Lc(a,t,e,i)||y}function uf(n,t,e,i,a){n.top=e,n.left=t,n.right=t+i,n.bottom=e+a,n.width=i,n.height=a}function rS(n,t,e,i){const a=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/g.weight||1;if(h.horizontal){const v=t.w*y,E=g.size||f.height;Jf(g.start)&&(c=g.start),f.fullSize?uf(f,a.left,c,e.outerWidth-a.right-a.left,E):uf(f,t.left+g.placed,c,v,E),g.start=c,g.placed+=v,c=f.bottom}else{const v=t.h*y,E=g.size||f.width;Jf(g.start)&&(o=g.start),f.fullSize?uf(f,o,a.top,E,e.outerHeight-a.bottom-a.top):uf(f,o,t.top+g.placed,E,v),g.start=o,g.placed+=v,o=f.right}}t.x=o,t.y=c}var ci={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const a=fi(n.options.layout.padding),o=Math.max(t-a.width,0),c=Math.max(e-a.height,0),h=WL(n.boxes),f=h.vertical,g=h.horizontal;re(n.boxes,N=>{typeof N.beforeLayout=="function"&&N.beforeLayout()});const y=f.reduce((N,D)=>D.box.options&&D.box.options.display===!1?N:N+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),E=Object.assign({},a);hA(E,fi(i));const w=Object.assign({maxPadding:E,w:o,h:c,x:a.left,y:a.top},a),M=XL(f.concat(g),v);Lc(h.fullSize,w,v,M),Lc(f,w,v,M),Lc(g,w,v,M)&&Lc(f,w,v,M),JL(w),rS(h.leftAndTop,w,v,M),w.x+=w.w,w.y+=w.h,rS(h.rightAndBottom,w,v,M),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},re(h.chartArea,N=>{const D=N.box;Object.assign(D,n.chartArea),D.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class fA{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,a){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):i)}}isAttached(t){return!0}updateConfig(t){}}class e5 extends fA{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Af="$chartjs",n5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},aS=n=>n===null||n==="";function i5(n,t){const e=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[Af]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",aS(a)){const o=YE(n,"width");o!==void 0&&(n.width=o)}if(aS(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=YE(n,"height");o!==void 0&&(n.height=o)}return n}const dA=mL?{passive:!0}:!1;function s5(n,t,e){n&&n.addEventListener(t,e,dA)}function r5(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,dA)}function a5(n,t){const e=n5[n.type]||n.type,{x:i,y:a}=Ma(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:a!==void 0?a:null}}function nd(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function o5(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||nd(h.addedNodes,i),c=c&&!nd(h.removedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function l5(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||nd(h.removedNodes,i),c=c&&!nd(h.addedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const cu=new Map;let oS=0;function gA(){const n=window.devicePixelRatio;n!==oS&&(oS=n,cu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function c5(n,t){cu.size||window.addEventListener("resize",gA),cu.set(n,t)}function u5(n){cu.delete(n),cu.size||window.removeEventListener("resize",gA)}function h5(n,t,e){const i=n.canvas,a=i&&a_(i);if(!a)return;const o=Gx((h,f)=>{const g=a.clientWidth;e(h,f),g<a.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,y=f.contentRect.height;g===0&&y===0||o(g,y)});return c.observe(a),c5(n,o),c}function fp(n,t,e){e&&e.disconnect(),t==="resize"&&u5(n)}function f5(n,t,e){const i=n.canvas,a=Gx(o=>{n.ctx!==null&&e(a5(o,n))},n);return s5(i,t,a),a}class d5 extends fA{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(i5(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Af])return!1;const i=e[Af].initial;["height","width"].forEach(o=>{const c=i[o];he(c)?e.removeAttribute(o):e.setAttribute(o,c)});const a=i.style||{};return Object.keys(a).forEach(o=>{e.style[o]=a[o]}),e.width=e.width,delete e[Af],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),c={attach:o5,detach:l5,resize:h5}[e]||f5;a[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),a=i[e];if(!a)return;({attach:fp,detach:fp,resize:fp}[e]||r5)(t,e,a),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,a){return gL(t,e,i,a)}isAttached(t){const e=t&&a_(t);return!!(e&&e.isConnected)}}function g5(n){return!r_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?e5:d5}class Za{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return au(this.x)&&au(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const a={};return t.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}function m5(n,t){const e=n.options.ticks,i=p5(n),a=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?_5(t):[],c=o.length,h=o[0],f=o[c-1],g=[];if(c>a)return v5(t,g,o,c/a),g;const y=y5(o,t,a);if(c>0){let v,E;const w=c>1?Math.round((f-h)/(c-1)):null;for(hf(t,g,y,he(w)?0:h-w,h),v=0,E=c-1;v<E;v++)hf(t,g,y,o[v],o[v+1]);return hf(t,g,y,f,he(w)?t.length:f+w),g}return hf(t,g,y),g}function p5(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(i,a))}function y5(n,t,e){const i=b5(n),a=t.length/e;if(!i)return Math.max(a,1);const o=uV(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function _5(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function v5(n,t,e,i){let a=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),a++,o=e[a*i])}function hf(n,t,e,i,a){const o=Kt(i,0),c=Math.min(Kt(a,n.length),n.length);let h=0,f,g,y;for(e=Math.ceil(e),a&&(f=a-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(g=Math.max(o,0);g<c;g++)g===y&&(t.push(n[g]),h++,y=Math.round(o+h*e))}function b5(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const T5=n=>n==="left"?"right":n==="right"?"left":n,lS=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,cS=(n,t)=>Math.min(t||n,n);function uS(n,t){const e=[],i=n.length/t,a=n.length;let o=0;for(;o<a;o+=i)e.push(n[Math.floor(o)]);return e}function E5(n,t,e){const i=n.ticks.length,a=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(a),g;if(!(e&&(i===1?g=Math.max(f-o,c-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(a-1))/2,f+=a<t?g:-g,f<o-h||f>c+h)))return f}function S5(n,t){re(n,e=>{const i=e.gc,a=i.length/2;let o;if(a>t){for(o=0;o<a;++o)delete e.data[i[o]];i.splice(0,a)}})}function Rc(n){return n.drawTicks?n.tickLength:0}function hS(n,t){if(!n.display)return 0;const e=mn(n.font,t),i=fi(n.padding);return(Ye(n.text)?n.text.length:1)*e.lineHeight+i.height}function w5(n,t){return Wa(n,{scale:t,type:"scale"})}function x5(n,t,e){return Wa(n,{tick:e,index:t,type:"tick"})}function A5(n,t,e){let i=t_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=T5(i)),i}function C5(n,t,e,i){const{top:a,left:o,bottom:c,right:h,chart:f}=n,{chartArea:g,scales:y}=f;let v=0,E,w,M;const N=c-a,D=h-o;if(n.isHorizontal()){if(w=fn(i,o,h),$t(e)){const B=Object.keys(e)[0],tt=e[B];M=y[B].getPixelForValue(tt)+N-t}else e==="center"?M=(g.bottom+g.top)/2+N-t:M=lS(n,e,t);E=h-o}else{if($t(e)){const B=Object.keys(e)[0],tt=e[B];w=y[B].getPixelForValue(tt)-D+t}else e==="center"?w=(g.left+g.right)/2-D+t:w=lS(n,e,t);M=fn(i,c,a),v=e==="left"?-Ai:Ai}return{titleX:w,titleY:M,maxWidth:E,rotation:v}}class bl extends Za{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:a}=this;return t=Ji(t,Number.POSITIVE_INFINITY),e=Ji(e,Number.NEGATIVE_INFINITY),i=Ji(i,Number.POSITIVE_INFINITY),a=Ji(a,Number.NEGATIVE_INFINITY),{min:Ji(t,i),max:Ji(e,a),minDefined:yn(t),maxDefined:yn(e)}}getMinMax(t){let{min:e,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)c=h[f].controller.getMinMax(this,t),a||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=a&&e>i?e:i,{min:Ji(e,Ji(i,e)),max:Ji(i,Ji(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){me(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:a,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=YV(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?uS(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=m5(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){me(this.options.afterUpdate,[this])}beforeSetDimensions(){me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){me(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),me(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i],o.label=me(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=cS(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,o=e.maxRotation;let c=a,h,f,g;if(!this._isVisible()||!e.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const y=this._getLabelSizes(),v=y.widest.width,E=y.highest.height,w=li(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:w/(i-1),v+6>h&&(h=w/(i-(t.offset?.5:1)),f=this.maxHeight-Rc(t.grid)-e.padding-hS(t.title,this.chart.options.font),g=Math.sqrt(v*v+E*E),c=gV(Math.min(Math.asin(li((y.highest.height+6)/h,-1,1)),Math.asin(li(f/g,-1,1))-Math.asin(li(E/g,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){me(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:a,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=hS(a,e.options.font);if(h?(t.width=this.maxWidth,t.height=Rc(o)+f):(t.height=this.maxHeight,t.width=Rc(o)+f),i.display&&this.ticks.length){const{first:g,last:y,widest:v,highest:E}=this._getLabelSizes(),w=i.padding*2,M=Va(this.labelRotation),N=Math.cos(M),D=Math.sin(M);if(h){const B=i.mirror?0:D*v.width+N*E.height;t.height=Math.min(this.maxHeight,t.height+B+w)}else{const B=i.mirror?0:N*v.width+D*E.height;t.width=Math.min(this.maxWidth,t.width+B+w)}this._calculatePadding(g,y,D,N)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,a){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,w=0;f?g?(E=a*t.width,w=i*e.height):(E=i*t.height,w=a*e.width):o==="start"?w=e.width:o==="end"?E=t.width:o!=="inner"&&(E=t.width/2,w=e.width/2),this.paddingLeft=Math.max((E-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((w-v+c)*this.width/(this.width-v),0)}else{let y=e.height/2,v=t.height/2;o==="start"?(y=0,v=t.height):o==="end"&&(y=e.height,v=0),this.paddingTop=y+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){me(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)he(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=uS(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:a,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/cS(e,i));let g=0,y=0,v,E,w,M,N,D,B,tt,J,at,et;for(v=0;v<e;v+=f){if(M=t[v].label,N=this._resolveTickFontOptions(v),a.font=D=N.string,B=o[D]=o[D]||{data:{},gc:[]},tt=N.lineHeight,J=at=0,!he(M)&&!Ye(M))J=BE(a,B.data,B.gc,J,M),at=tt;else if(Ye(M))for(E=0,w=M.length;E<w;++E)et=M[E],!he(et)&&!Ye(et)&&(J=BE(a,B.data,B.gc,J,et),at+=tt);c.push(J),h.push(at),g=Math.max(J,g),y=Math.max(at,y)}S5(o,e);const nt=c.indexOf(g),C=h.indexOf(y),A=I=>({width:c[I]||0,height:h[I]||0});return{first:A(0),last:A(e-1),widest:A(nt),highest:A(C),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return yV(this._alignToPixels?Ra(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=x5(this.getContext(),t,i))}return this.$context||(this.$context=w5(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Va(this.labelRotation),i=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*a?h/i:f/a:f*a<h*i?f/i:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,a=this.options,{grid:o,position:c,border:h}=a,f=o.offset,g=this.isHorizontal(),v=this.ticks.length+(f?1:0),E=Rc(o),w=[],M=h.setContext(this.getContext()),N=M.display?M.width:0,D=N/2,B=function(Y){return Ra(i,Y,N)};let tt,J,at,et,nt,C,A,I,P,k,L,O;if(c==="top")tt=B(this.bottom),C=this.bottom-E,I=tt-D,k=B(t.top)+D,O=t.bottom;else if(c==="bottom")tt=B(this.top),k=t.top,O=B(t.bottom)-D,C=tt+D,I=this.top+E;else if(c==="left")tt=B(this.right),nt=this.right-E,A=tt-D,P=B(t.left)+D,L=t.right;else if(c==="right")tt=B(this.left),P=t.left,L=B(t.right)-D,nt=tt+D,A=this.left+E;else if(e==="x"){if(c==="center")tt=B((t.top+t.bottom)/2+.5);else if($t(c)){const Y=Object.keys(c)[0],ot=c[Y];tt=B(this.chart.scales[Y].getPixelForValue(ot))}k=t.top,O=t.bottom,C=tt+D,I=C+E}else if(e==="y"){if(c==="center")tt=B((t.left+t.right)/2);else if($t(c)){const Y=Object.keys(c)[0],ot=c[Y];tt=B(this.chart.scales[Y].getPixelForValue(ot))}nt=tt-D,A=nt-E,P=t.left,L=t.right}const Vt=Kt(a.ticks.maxTicksLimit,v),Dt=Math.max(1,Math.ceil(v/Vt));for(J=0;J<v;J+=Dt){const Y=this.getContext(J),ot=o.setContext(Y),dt=h.setContext(Y),kt=ot.lineWidth,Pt=ot.color,z=dt.dash||[],X=dt.dashOffset,lt=ot.tickWidth,ut=ot.tickColor,vt=ot.tickBorderDash||[],bt=ot.tickBorderDashOffset;at=E5(this,J,f),at!==void 0&&(et=Ra(i,at,kt),g?nt=A=P=L=et:C=I=k=O=et,w.push({tx1:nt,ty1:C,tx2:A,ty2:I,x1:P,y1:k,x2:L,y2:O,width:kt,color:Pt,borderDash:z,borderDashOffset:X,tickWidth:lt,tickColor:ut,tickBorderDash:vt,tickBorderDashOffset:bt}))}return this._ticksLength=v,this._borderValue=tt,w}_computeLabelItems(t){const e=this.axis,i=this.options,{position:a,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:y,mirror:v}=o,E=Rc(i.grid),w=E+y,M=v?-y:w,N=-Va(this.labelRotation),D=[];let B,tt,J,at,et,nt,C,A,I,P,k,L,O="middle";if(a==="top")nt=this.bottom-M,C=this._getXAxisLabelAlignment();else if(a==="bottom")nt=this.top+M,C=this._getXAxisLabelAlignment();else if(a==="left"){const Dt=this._getYAxisLabelAlignment(E);C=Dt.textAlign,et=Dt.x}else if(a==="right"){const Dt=this._getYAxisLabelAlignment(E);C=Dt.textAlign,et=Dt.x}else if(e==="x"){if(a==="center")nt=(t.top+t.bottom)/2+w;else if($t(a)){const Dt=Object.keys(a)[0],Y=a[Dt];nt=this.chart.scales[Dt].getPixelForValue(Y)+w}C=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")et=(t.left+t.right)/2-w;else if($t(a)){const Dt=Object.keys(a)[0],Y=a[Dt];et=this.chart.scales[Dt].getPixelForValue(Y)}C=this._getYAxisLabelAlignment(E).textAlign}e==="y"&&(f==="start"?O="top":f==="end"&&(O="bottom"));const Vt=this._getLabelSizes();for(B=0,tt=h.length;B<tt;++B){J=h[B],at=J.label;const Dt=o.setContext(this.getContext(B));A=this.getPixelForTick(B)+o.labelOffset,I=this._resolveTickFontOptions(B),P=I.lineHeight,k=Ye(at)?at.length:1;const Y=k/2,ot=Dt.color,dt=Dt.textStrokeColor,kt=Dt.textStrokeWidth;let Pt=C;c?(et=A,C==="inner"&&(B===tt-1?Pt=this.options.reverse?"left":"right":B===0?Pt=this.options.reverse?"right":"left":Pt="center"),a==="top"?g==="near"||N!==0?L=-k*P+P/2:g==="center"?L=-Vt.highest.height/2-Y*P+P:L=-Vt.highest.height+P/2:g==="near"||N!==0?L=P/2:g==="center"?L=Vt.highest.height/2-Y*P:L=Vt.highest.height-k*P,v&&(L*=-1),N!==0&&!Dt.showLabelBackdrop&&(et+=P/2*Math.sin(N))):(nt=A,L=(1-k)*P/2);let z;if(Dt.showLabelBackdrop){const X=fi(Dt.backdropPadding),lt=Vt.heights[B],ut=Vt.widths[B];let vt=L-X.top,bt=0-X.left;switch(O){case"middle":vt-=lt/2;break;case"bottom":vt-=lt;break}switch(C){case"center":bt-=ut/2;break;case"right":bt-=ut;break;case"inner":B===tt-1?bt-=ut:B>0&&(bt-=ut/2);break}z={left:bt,top:vt,width:ut+X.width,height:lt+X.height,color:Dt.backdropColor}}D.push({label:at,font:I,textOffset:L,options:{rotation:N,color:ot,strokeColor:dt,strokeWidth:kt,textAlign:Pt,textBaseline:O,translation:[et,nt],backdrop:z}})}return D}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Va(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let g,y;return e==="left"?a?(y=this.right+o,i==="near"?g="left":i==="center"?(g="center",y+=f/2):(g="right",y+=f)):(y=this.right-h,i==="near"?g="right":i==="center"?(g="center",y-=f/2):(g="left",y=this.left)):e==="right"?a?(y=this.left+o,i==="near"?g="right":i==="center"?(g="center",y-=f/2):(g="left",y-=f)):(y=this.left+h,i==="near"?g="left":i==="center"?(g="center",y+=f/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:a,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,a,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,g,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=a.length;o<c;++o){const f=a[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,y,v,E;this.isHorizontal()?(g=Ra(t,this.left,c)-c/2,y=Ra(t,this.right,h)+h/2,v=E=f):(v=Ra(t,this.top,c)-c/2,E=Ra(t,this.bottom,h)+h/2,g=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,v),e.lineTo(y,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&Cd(i,a);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,g=c.label,y=c.textOffset;lu(i,g,0,y,f,h)}a&&Rd(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:a}}=this;if(!i.display)return;const o=mn(i.font),c=fi(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||$t(e)?(f+=c.bottom,Ye(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:g,titleY:y,maxWidth:v,rotation:E}=C5(this,f,e,h);lu(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:E,textAlign:A5(h,e,a),textBaseline:"middle",translation:[g,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Kt(t.grid&&t.grid.z,-1),a=Kt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==bl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return mn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ff{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;D5(e)&&(i=this.register(e));const a=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,R5(t,c,i),this.override&&Oe.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,a=this.scope;i in e&&delete e[i],a&&i in Oe[a]&&(delete Oe[a][i],this.override&&delete Ya[i])}}function R5(n,t,e){const i=ru(Object.create(null),[e?Oe.get(e):{},Oe.get(t),n.defaults]);Oe.set(t,i),n.defaultRoutes&&I5(t,n.defaultRoutes),n.descriptors&&Oe.describe(t,n.descriptors)}function I5(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),a=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Oe.route(o,a,f,h)})}function D5(n){return"id"in n&&"defaults"in n}class M5{constructor(){this.controllers=new ff(cA,"datasets",!0),this.elements=new ff(Za,"elements"),this.plugins=new ff(Object,"plugins"),this.scales=new ff(bl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):re(a,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const a=Zy(t);me(i["before"+a],[],i),e[t](i),me(i["after"+a],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return a}}var is=new M5;class N5{constructor(){this._init=void 0}notify(t,e,i,a){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,a){a=a||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,a,o.options];if(me(h,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){he(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,a=Kt(i.options&&i.options.plugins,{}),o=O5(i);return a===!1&&!e?[]:P5(t,o,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,a=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(a(e,i),t,"stop"),this._notify(a(i,e),t,"start")}}function O5(n){const t={},e=[],i=Object.keys(is.plugins.items);for(let o=0;o<i.length;o++)e.push(is.getPlugin(i[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function k5(n,t){return!t&&n===!1?null:n===!0?{}:n}function P5(n,{plugins:t,localIds:e},i,a){const o=[],c=n.getContext();for(const h of t){const f=h.id,g=k5(i[f],a);g!==null&&o.push({plugin:h,options:V5(n.config,{plugin:h,local:e[f]},g,c)})}return o}function V5(n,{plugin:t,local:e},i,a){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qp(n,t){const e=Oe.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function L5(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function z5(n,t){return n===t?"_index_":"_value_"}function fS(n){if(n==="x"||n==="y"||n==="r")return n}function U5(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function $p(n,...t){if(fS(n))return n;for(const e of t){const i=e.axis||U5(e.position)||n.length>1&&fS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function dS(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function j5(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return dS(n,"x",e[0])||dS(n,"y",e[0])}return{}}function B5(n,t){const e=Ya[n.type]||{scales:{}},i=t.scales||{},a=Qp(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!$t(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=$p(c,h,j5(c,n),Oe.scales[h.type]),g=z5(f,a),y=e.scales||{};o[c]=Gc(Object.create(null),[{axis:f},h,y[f],y[g]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Qp(h,t),y=(Ya[h]||{}).scales||{};Object.keys(y).forEach(v=>{const E=L5(v,f),w=c[E+"AxisID"]||E;o[w]=o[w]||Object.create(null),Gc(o[w],[{axis:E},i[w],y[v]])})}),Object.keys(o).forEach(c=>{const h=o[c];Gc(h,[Oe.scales[h.type],Oe.scale])}),o}function mA(n){const t=n.options||(n.options={});t.plugins=Kt(t.plugins,{}),t.scales=B5(n,t)}function pA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function F5(n){return n=n||{},n.data=pA(n.data),mA(n),n}const gS=new Map,yA=new Set;function df(n,t){let e=gS.get(n);return e||(e=t(),gS.set(n,e),yA.add(e)),e}const Ic=(n,t,e)=>{const i=Zf(t,e);i!==void 0&&n.add(i)};class H5{constructor(t){this._config=F5(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=pA(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),mA(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return df(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return df(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return df(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return df(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let a=i.get(t);return(!a||e)&&(a=new Map,i.set(t,a)),a}getOptionScopes(t,e,i){const{options:a,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(v=>Ic(f,t,v))),y.forEach(v=>Ic(f,a,v)),y.forEach(v=>Ic(f,Ya[o]||{},v)),y.forEach(v=>Ic(f,Oe,v)),y.forEach(v=>Ic(f,Gp,v))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),yA.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ya[e]||{},Oe.datasets[e]||{},{type:e},Oe,Gp]}resolveNamedOptions(t,e,i,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=mS(this._resolverCache,t,a);let f=c;if(G5(c,e)){o.$shared=!1,i=Qr(i)?i():i;const g=this.createResolver(t,i,h);f=hl(c,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],a){const{resolver:o}=mS(this._resolverCache,t,i);return $t(e)?hl(o,e,void 0,a):o}}function mS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const a=e.join();let o=i.get(a);return o||(o={resolver:n_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(a,o)),o}const q5=n=>$t(n)&&Object.getOwnPropertyNames(n).some(t=>Qr(n[t]));function G5(n,t){const{isScriptable:e,isIndexable:i}=Xx(n);for(const a of t){const o=e(a),c=i(a),h=(c||o)&&n[a];if(o&&(Qr(h)||q5(h))||c&&Ye(h))return!0}return!1}var Y5="4.5.1";const K5=["top","bottom","left","right","chartArea"];function pS(n,t){return n==="top"||n==="bottom"||K5.indexOf(n)===-1&&t==="x"}function yS(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function _S(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),me(e&&e.onComplete,[n],t)}function Q5(n){const t=n.chart,e=t.options.animation;me(e&&e.onProgress,[n],t)}function _A(n){return r_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Cf={},vS=n=>{const t=_A(n);return Object.values(Cf).filter(e=>e.canvas===t).pop()};function $5(n,t,e){const i=Object.keys(n);for(const a of i){const o=+a;if(o>=t){const c=n[a];delete n[a],(e>0||o>t)&&(n[o+e]=c)}}}function X5(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Md=class{static defaults=Oe;static instances=Cf;static overrides=Ya;static registry=is;static version=Y5;static getChart=vS;static register(...t){is.add(...t),bS()}static unregister(...t){is.remove(...t),bS()}constructor(t,e){const i=this.config=new H5(e),a=_A(t),o=vS(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||g5(a)),this.platform.updateConfig(i);const h=this.platform.acquireContext(a,c.aspectRatio),f=h&&h.canvas,g=f&&f.height,y=f&&f.width;if(this.id=eV(),this.ctx=h,this.canvas=f,this.width=y,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new N5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=EV(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],Cf[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Vs.listen(this,"complete",_S),Vs.listen(this,"progress",Q5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:a,_aspectRatio:o}=this;return he(t)?e&&o?o:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return is}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():GE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return FE(this.canvas,this.ctx),this}stop(){return Vs.stop(this),this}resize(t,e){Vs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,GE(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),me(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};re(e,(i,a)=>{i.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,a=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=$p(c,h),g=f==="r",y=f==="x";return{options:h,dposition:g?"chartArea":y?"bottom":"left",dtype:g?"radialLinear":y?"category":"linear"}}))),re(o,c=>{const h=c.options,f=h.id,g=$p(f,h),y=Kt(h.type,c.dtype);(h.position===void 0||pS(h.position,g)!==pS(c.dposition))&&(h.position=c.dposition),a[f]=!0;let v=null;if(f in i&&i[f].type===y)v=i[f];else{const E=is.getScale(y);v=new E({id:f,type:y,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),re(a,(c,h)=>{c||delete i[h]}),re(i,c=>{ci.configure(this,c,c.options),ci.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((a,o)=>a.index-o.index),i>e){for(let a=e;a<i;++a)this._destroyDatasetMeta(a);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(yS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,a)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=e.length;i<a;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Qp(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=is.getController(h),{datasetElementType:g,dataElementType:y}=Oe.datasets[h];Object.assign(f,{dataElementType:is.getElement(y),datasetElementType:g&&is.getElement(g)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){re(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,y=this.data.datasets.length;g<y;g++){const{controller:v}=this.getDatasetMeta(g),E=!a&&o.indexOf(v)===-1;v.buildOrUpdateElements(E),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||re(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(yS("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){re(this.scales,t=>{ci.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!NE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of e){const c=i==="_removeElements"?-o:o;$5(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),a=i(0);for(let o=1;o<e;o++)if(!NE(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ci.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],re(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Qr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),a={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vs.has(this)?this.attached&&!Vs.running(this)&&Vs.start(this):(this.draw(),_S({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let a,o;for(a=0,o=e.length;a<o;++a){const c=e[a];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=aA(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&Cd(e,a),t.controller.draw(),a&&Rd(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return ou(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,a){const o=KL.modes[e];return typeof o=="function"?o(this,t,i,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let a=i.filter(o=>o&&o._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=Wa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const a=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,a);Jf(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Vs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),FE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Cf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},a=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};re(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},a=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let c;const h=()=>{a("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){re(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},re(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const a=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Xf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const a=this.options.hover,o=(f,g)=>f.filter(y=>!g.some(v=>y.datasetIndex===v.datasetIndex&&y.index===v.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:a=[],options:o}=this,c=e,h=this._getActiveElements(t,a,i,c),f=oV(t),g=X5(t,this._lastEvent,i,f);i&&(this._lastEvent=null,me(o.onHover,[t,h,this],this),f&&me(o.onClick,[t,h,this],this));const y=!Xf(h,a);return(y||e)&&(this._active=h,this._updateHoverStyles(h,a,e)),this._lastEvent=g,y}_getActiveElements(t,e,i,a){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}};function bS(){return re(Md.instances,n=>n._plugins.invalidate())}function vA(n,t,e=t){n.lineCap=Kt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Kt(e.borderDash,t.borderDash)),n.lineDashOffset=Kt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Kt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Kt(e.borderWidth,t.borderWidth),n.strokeStyle=Kt(e.borderColor,t.borderColor)}function W5(n,t,e){n.lineTo(e.x,e.y)}function Z5(n){return n.stepped?VV:n.tension||n.cubicInterpolationMode==="monotone"?LV:W5}function bA(n,t,e={}){const i=n.length,{start:a=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(a,c),g=Math.min(o,h),y=a<c&&o<c||a>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:g<f&&!y?i+g-f:g-f}}function J5(n,t,e,i){const{points:a,options:o}=t,{count:c,start:h,loop:f,ilen:g}=bA(a,e,i),y=Z5(o);let{move:v=!0,reverse:E}=i||{},w,M,N;for(w=0;w<=g;++w)M=a[(h+(E?g-w:w))%c],!M.skip&&(v?(n.moveTo(M.x,M.y),v=!1):y(n,N,M,E,o.stepped),N=M);return f&&(M=a[(h+(E?g:0))%c],y(n,N,M,E,o.stepped)),!!f}function t6(n,t,e,i){const a=t.points,{count:o,start:c,ilen:h}=bA(a,e,i),{move:f=!0,reverse:g}=i||{};let y=0,v=0,E,w,M,N,D,B;const tt=at=>(c+(g?h-at:at))%o,J=()=>{N!==D&&(n.lineTo(y,D),n.lineTo(y,N),n.lineTo(y,B))};for(f&&(w=a[tt(0)],n.moveTo(w.x,w.y)),E=0;E<=h;++E){if(w=a[tt(E)],w.skip)continue;const at=w.x,et=w.y,nt=at|0;nt===M?(et<N?N=et:et>D&&(D=et),y=(v*y+at)/++v):(J(),n.lineTo(at,et),M=nt,v=0,N=D=et),B=et}J()}function Xp(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?t6:J5}function e6(n){return n.stepped?pL:n.tension||n.cubicInterpolationMode==="monotone"?yL:Na}function n6(n,t,e,i){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,i)&&a.closePath()),vA(n,t.options),n.stroke(a)}function i6(n,t,e,i){const{segments:a,options:o}=t,c=Xp(t);for(const h of a)vA(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const s6=typeof Path2D=="function";function r6(n,t,e,i){s6&&!t.options.segment?n6(n,t,e,i):i6(n,t,e,i)}class Nd extends Za{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const a=i.spanGaps?this._loop:this._fullLoop;lL(this._points,i,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=SL(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,a=t[e],o=this.points,c=rA(this,{property:e,start:a,end:a});if(!c.length)return;const h=[],f=e6(i);let g,y;for(g=0,y=c.length;g<y;++g){const{start:v,end:E}=c[g],w=o[v],M=o[E];if(w===M){h.push(w);continue}const N=Math.abs((a-w[e])/(M[e]-w[e])),D=f(w,M,N,i.stepped);D[e]=t[e],h.push(D)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Xp(this)(t,this,e,i)}path(t,e,i){const a=this.segments,o=Xp(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of a)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),r6(t,this,i,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function TS(n,t,e,i){const a=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<a.radius+a.hitRadius}class a6 extends Za{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const a=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,e){return TS(this,t,"x",e)}inYRange(t,e){return TS(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!ou(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Yp(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function o6(n,t,e){const i=n.segments,a=n.points,o=t.points,c=[];for(const h of i){let{start:f,end:g}=h;g=Od(f,g,a);const y=Wp(e,a[f],a[g],h.loop);if(!t.segments){c.push({source:h,target:y,start:a[f],end:a[g]});continue}const v=rA(t,y);for(const E of v){const w=Wp(e,o[E.start],o[E.end],E.loop),M=sA(h,a,w);for(const N of M)c.push({source:N,target:E,start:{[e]:ES(y,w,"start",Math.max)},end:{[e]:ES(y,w,"end",Math.min)}})}}return c}function Wp(n,t,e,i){if(i)return;let a=t[n],o=e[n];return n==="angle"&&(a=rs(a),o=rs(o)),{property:n,start:a,end:o}}function l6(n,t){const{x:e=null,y:i=null}=n||{},a=t.points,o=[];return t.segments.forEach(({start:c,end:h})=>{h=Od(c,h,a);const f=a[c],g=a[h];i!==null?(o.push({x:f.x,y:i}),o.push({x:g.x,y:i})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:g.y}))}),o}function Od(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function ES(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function TA(n,t){let e=[],i=!1;return Ye(n)?(i=!0,e=n):e=l6(n,t),e.length?new Nd({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function SS(n){return n&&n.fill!==!1}function c6(n,t,e){let a=n[t].fill;const o=[t];let c;if(!e)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!yn(a))return a;if(c=n[a],!c)return!1;if(c.visible)return a;o.push(a),a=c.fill}return!1}function u6(n,t,e){const i=g6(n);if($t(i))return isNaN(i.value)?!1:i;let a=parseFloat(i);return yn(a)&&Math.floor(a)===a?h6(i[0],t,a,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function h6(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function f6(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:$t(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function d6(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:$t(n)?i=n.value:i=t.getBaseValue(),i}function g6(n){const t=n.options,e=t.fill;let i=Kt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function m6(n){const{scale:t,index:e,line:i}=n,a=[],o=i.segments,c=i.points,h=p6(t,e);h.push(TA({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const g=o[f];for(let y=g.start;y<=g.end;y++)y6(a,c[y],h)}return new Nd({points:a,options:{}})}function p6(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let a=0;a<i.length;a++){const o=i[a];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function y6(n,t,e){const i=[];for(let a=0;a<e.length;a++){const o=e[a],{first:c,last:h,point:f}=_6(o,t,"x");if(!(!f||c&&h)){if(c)i.unshift(f);else if(n.push(f),!h)break}}n.push(...i)}function _6(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const a=i[e],o=n.segments,c=n.points;let h=!1,f=!1;for(let g=0;g<o.length;g++){const y=o[g],v=c[y.start][e],E=c[y.end][e];if(Qo(a,v,E)){h=a===v,f=a===E;break}}return{first:h,last:f,point:i}}class EA{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:a,y:o,radius:c}=this;return e=e||{start:0,end:Ii},t.arc(a,o,c,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:a}=this,o=t.angle;return{x:e+Math.cos(o)*a,y:i+Math.sin(o)*a,angle:o}}}function v6(n){const{chart:t,fill:e,line:i}=n;if(yn(e))return b6(t,e);if(e==="stack")return m6(n);if(e==="shape")return!0;const a=T6(n);return a instanceof EA?a:TA(a,i)}function b6(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function T6(n){return(n.scale||{}).getPointPositionForValue?S6(n):E6(n)}function E6(n){const{scale:t={},fill:e}=n,i=f6(e,t);if(yn(i)){const a=t.isHorizontal();return{x:a?i:null,y:a?null:i}}return null}function S6(n){const{scale:t,fill:e}=n,i=t.options,a=t.getLabels().length,o=i.reverse?t.max:t.min,c=d6(e,t,o),h=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new EA({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(c)})}for(let f=0;f<a;++f)h.push(t.getPointPositionForValue(f,c));return h}function dp(n,t,e){const i=v6(t),{chart:a,index:o,line:c,scale:h,axis:f}=t,g=c.options,y=g.fill,v=g.backgroundColor,{above:E=v,below:w=v}=y||{},M=a.getDatasetMeta(o),N=aA(a,M);i&&c.points.length&&(Cd(n,e),w6(n,{line:c,target:i,above:E,below:w,area:e,scale:h,axis:f,clip:N}),Rd(n))}function w6(n,t){const{line:e,target:i,above:a,below:o,area:c,scale:h,clip:f}=t,g=e._loop?"angle":t.axis;n.save();let y=o;o!==a&&(g==="x"?(wS(n,i,c.top),gp(n,{line:e,target:i,color:a,scale:h,property:g,clip:f}),n.restore(),n.save(),wS(n,i,c.bottom)):g==="y"&&(xS(n,i,c.left),gp(n,{line:e,target:i,color:o,scale:h,property:g,clip:f}),n.restore(),n.save(),xS(n,i,c.right),y=a)),gp(n,{line:e,target:i,color:y,scale:h,property:g,clip:f}),n.restore()}function wS(n,t,e){const{segments:i,points:a}=t;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:f,end:g}=h,y=a[f],v=a[Od(f,g,a)];o?(n.moveTo(y.x,y.y),o=!1):(n.lineTo(y.x,e),n.lineTo(y.x,y.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(v.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function xS(n,t,e){const{segments:i,points:a}=t;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:f,end:g}=h,y=a[f],v=a[Od(f,g,a)];o?(n.moveTo(y.x,y.y),o=!1):(n.lineTo(e,y.y),n.lineTo(y.x,y.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(e,v.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function gp(n,t){const{line:e,target:i,property:a,color:o,scale:c,clip:h}=t,f=o6(e,i,a);for(const{source:g,target:y,start:v,end:E}of f){const{style:{backgroundColor:w=o}={}}=g,M=i!==!0;n.save(),n.fillStyle=w,x6(n,c,h,M&&Wp(a,v,E)),n.beginPath();const N=!!e.pathSegment(n,g);let D;if(M){N?n.closePath():AS(n,i,E,a);const B=!!i.pathSegment(n,y,{move:N,reverse:!0});D=N&&B,D||AS(n,i,v,a)}n.closePath(),n.fill(D?"evenodd":"nonzero"),n.restore()}}function x6(n,t,e,i){const a=t.chart.chartArea,{property:o,start:c,end:h}=i||{};if(o==="x"||o==="y"){let f,g,y,v;o==="x"?(f=c,g=a.top,y=h,v=a.bottom):(f=a.left,g=c,y=a.right,v=h),n.beginPath(),e&&(f=Math.max(f,e.left),y=Math.min(y,e.right),g=Math.max(g,e.top),v=Math.min(v,e.bottom)),n.rect(f,g,y-f,v-g),n.clip()}}function AS(n,t,e,i){const a=t.interpolate(e,i);a&&n.lineTo(a.x,a.y)}var A6={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,a=[];let o,c,h,f;for(c=0;c<i;++c)o=n.getDatasetMeta(c),h=o.dataset,f=null,h&&h.options&&h instanceof Nd&&(f={visible:n.isDatasetVisible(c),index:c,fill:u6(h,c,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=f,a.push(f);for(c=0;c<i;++c)f=a[c],!(!f||f.fill===!1)&&(f.fill=c6(a,c,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",a=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let c=a.length-1;c>=0;--c){const h=a[c].$filler;h&&(h.line.updateControlPoints(o,h.axis),i&&h.fill&&dp(n.ctx,h,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;SS(o)&&dp(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!SS(i)||e.drawTime!=="beforeDatasetDraw"||dp(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const CS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},C6=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class RS extends Za{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=me(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,a)=>t.sort(i,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,a=mn(i.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=CS(i,o);let g,y;e.font=a.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(c,o,h,f)+10):(y=this.maxHeight,g=this._fitCols(c,a,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,a){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],y=a+h;let v=t;o.textAlign="left",o.textBaseline="middle";let E=-1,w=-y;return this.legendItems.forEach((M,N)=>{const D=i+e/2+o.measureText(M.text).width;(N===0||g[g.length-1]+D+2*h>c)&&(v+=y,g[g.length-(N>0?0:1)]=0,w+=y,E++),f[N]={left:0,top:w,row:E,width:D,height:a},g[g.length-1]+=D+h}),v}_fitCols(t,e,i,a){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],y=c-t;let v=h,E=0,w=0,M=0,N=0;return this.legendItems.forEach((D,B)=>{const{itemWidth:tt,itemHeight:J}=R6(i,e,o,D,a);B>0&&w+J+2*h>y&&(v+=E+h,g.push({width:E,height:w}),M+=E+h,N++,E=w=0),f[B]={left:M,top:w,col:N,width:tt,height:J},E=Math.max(E,tt),w+=J+h}),v+=E,g.push({width:E,height:w}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:a},rtl:o}}=this,c=el(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=fn(i,this.left+a,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=fn(i,this.left+a,this.right-this.lineWidths[h])),g.top+=this.top+t+a,g.left=c.leftForLtr(c.x(f),g.width),f+=g.width+a}else{let h=0,f=fn(i,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=fn(i,this.top+t+a,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+a,g.left=c.leftForLtr(c.x(g.left),g.width),f+=g.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Cd(t,this),this._draw(),Rd(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:a}=this,{align:o,labels:c}=t,h=Oe.color,f=el(t.rtl,this.left,this.width),g=mn(c.font),{padding:y}=c,v=g.size,E=v/2;let w;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=g.string;const{boxWidth:M,boxHeight:N,itemHeight:D}=CS(c,v),B=function(nt,C,A){if(isNaN(M)||M<=0||isNaN(N)||N<0)return;a.save();const I=Kt(A.lineWidth,1);if(a.fillStyle=Kt(A.fillStyle,h),a.lineCap=Kt(A.lineCap,"butt"),a.lineDashOffset=Kt(A.lineDashOffset,0),a.lineJoin=Kt(A.lineJoin,"miter"),a.lineWidth=I,a.strokeStyle=Kt(A.strokeStyle,h),a.setLineDash(Kt(A.lineDash,[])),c.usePointStyle){const P={radius:N*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:I},k=f.xPlus(nt,M/2),L=C+E;Qx(a,P,k,L,c.pointStyleWidth&&M)}else{const P=C+Math.max((v-N)/2,0),k=f.leftForLtr(nt,M),L=$c(A.borderRadius);a.beginPath(),Object.values(L).some(O=>O!==0)?Kp(a,{x:k,y:P,w:M,h:N,radius:L}):a.rect(k,P,M,N),a.fill(),I!==0&&a.stroke()}a.restore()},tt=function(nt,C,A){lu(a,A.text,nt,C+D/2,g,{strikethrough:A.hidden,textAlign:f.textAlign(A.textAlign)})},J=this.isHorizontal(),at=this._computeTitleHeight();J?w={x:fn(o,this.left+y,this.right-i[0]),y:this.top+y+at,line:0}:w={x:this.left+y,y:fn(o,this.top+at+y,this.bottom-e[0].height),line:0},eA(this.ctx,t.textDirection);const et=D+y;this.legendItems.forEach((nt,C)=>{a.strokeStyle=nt.fontColor,a.fillStyle=nt.fontColor;const A=a.measureText(nt.text).width,I=f.textAlign(nt.textAlign||(nt.textAlign=c.textAlign)),P=M+E+A;let k=w.x,L=w.y;f.setWidth(this.width),J?C>0&&k+P+y>this.right&&(L=w.y+=et,w.line++,k=w.x=fn(o,this.left+y,this.right-i[w.line])):C>0&&L+et>this.bottom&&(k=w.x=k+e[w.line].width+y,w.line++,L=w.y=fn(o,this.top+at+y,this.bottom-e[w.line].height));const O=f.x(k);if(B(O,L,nt),k=SV(I,k+M+E,J?k+P:this.right,t.rtl),tt(f.x(k),L,nt),J)w.x+=P+y;else if(typeof nt.text!="string"){const Vt=g.lineHeight;w.y+=SA(nt,Vt)+y}else w.y+=et}),nA(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=mn(e.font),a=fi(e.padding);if(!e.display)return;const o=el(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,g=a.top+f;let y,v=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),y=this.top+g,v=fn(t.align,v,this.right-E);else{const M=this.columnSizes.reduce((N,D)=>Math.max(N,D.height),0);y=g+fn(t.align,this.top,this.bottom-M-t.labels.padding-this._computeTitleHeight())}const w=fn(h,v,v+E);c.textAlign=o.textAlign(t_(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,lu(c,e.text,w,y,i)}_computeTitleHeight(){const t=this.options.title,e=mn(t.font),i=fi(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,a,o;if(Qo(t,this.left,this.right)&&Qo(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],Qo(t,a.left,a.left+a.width)&&Qo(e,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!M6(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=C6(a,i);a&&!o&&me(e.onLeave,[t,a,this],this),this._hoveredItem=i,i&&!o&&me(e.onHover,[t,i,this],this)}else i&&me(e.onClick,[t,i,this],this)}}function R6(n,t,e,i,a){const o=I6(i,n,t,e),c=D6(a,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function I6(n,t,e,i){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(a).width}function D6(n,t,e){let i=n;return typeof t.text!="string"&&(i=SA(t,e)),i}function SA(n,t){const e=n.text?n.text.length:0;return t*e}function M6(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var N6={id:"legend",_element:RS,start(n,t,e){const i=n.legend=new RS({ctx:n.ctx,options:e,chart:n});ci.configure(n,i,e),ci.addBox(n,i)},stop(n){ci.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ci.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),y=fi(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:a||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class wA extends Za{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=Ye(i.text)?i.text.length:1;this._padding=fi(i.padding);const o=a*mn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:a,right:o,options:c}=this,h=c.align;let f=0,g,y,v;return this.isHorizontal()?(y=fn(h,i,o),v=e+t,g=o-i):(c.position==="left"?(y=i+t,v=fn(h,a,e),f=Je*-.5):(y=o-t,v=fn(h,e,a),f=Je*.5),g=a-e),{titleX:y,titleY:v,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=mn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(o);lu(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:g,textAlign:t_(e.align),textBaseline:"middle",translation:[c,h]})}}function O6(n,t){const e=new wA({ctx:n.ctx,options:t,chart:n});ci.configure(n,e,t),ci.addBox(n,e),n.titleBlock=e}var k6={id:"title",_element:wA,start(n,t,e){O6(n,e)},stop(n){const t=n.titleBlock;ci.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ci.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zc={average(n){if(!n.length)return!1;let t,e,i=new Set,a=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),a+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:a/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,a=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),y=qp(t,g);y<a&&(a=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function ns(n,t){return t&&(Ye(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ls(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function P6(n,t){const{element:e,datasetIndex:i,index:a}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(a);return{chart:n,label:c,parsed:o.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:h,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:e}}function IS(n,t){const e=n.chart.ctx,{body:i,footer:a,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=mn(t.bodyFont),g=mn(t.titleFont),y=mn(t.footerFont),v=o.length,E=a.length,w=i.length,M=fi(t.padding);let N=M.height,D=0,B=i.reduce((at,et)=>at+et.before.length+et.lines.length+et.after.length,0);if(B+=n.beforeBody.length+n.afterBody.length,v&&(N+=v*g.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),B){const at=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;N+=w*at+(B-w)*f.lineHeight+(B-1)*t.bodySpacing}E&&(N+=t.footerMarginTop+E*y.lineHeight+(E-1)*t.footerSpacing);let tt=0;const J=function(at){D=Math.max(D,e.measureText(at).width+tt)};return e.save(),e.font=g.string,re(n.title,J),e.font=f.string,re(n.beforeBody.concat(n.afterBody),J),tt=t.displayColors?c+2+t.boxPadding:0,re(i,at=>{re(at.before,J),re(at.lines,J),re(at.after,J)}),tt=0,e.font=y.string,re(n.footer,J),e.restore(),D+=M.width,{width:D,height:N}}function V6(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function L6(n,t,e,i){const{x:a,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&a+o+c>t.width||n==="right"&&a-o-c<0)return!0}function z6(n,t,e,i){const{x:a,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=a<=(h+f)/2?"left":"right":a<=o/2?g="left":a>=c-o/2&&(g="right"),L6(g,n,t,e)&&(g="center"),g}function DS(n,t,e){const i=e.yAlign||t.yAlign||V6(n,e);return{xAlign:e.xAlign||t.xAlign||z6(n,t,e,i),yAlign:i}}function U6(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function j6(n,t,e){let{y:i,height:a}=n;return t==="top"?i+=e:t==="bottom"?i-=a+e:i-=a/2,i}function MS(n,t,e,i){const{caretSize:a,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,g=a+o,{topLeft:y,topRight:v,bottomLeft:E,bottomRight:w}=$c(c);let M=U6(t,h);const N=j6(t,f,g);return f==="center"?h==="left"?M+=g:h==="right"&&(M-=g):h==="left"?M-=Math.max(y,E)+a:h==="right"&&(M+=Math.max(v,w)+a),{x:li(M,0,i.width-t.width),y:li(N,0,i.height-t.height)}}function gf(n,t,e){const i=fi(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function NS(n){return ns([],Ls(n))}function B6(n,t,e){return Wa(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function OS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const xA={beforeTitle:Ps,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ps,beforeBody:Ps,beforeLabel:Ps,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return he(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ps,afterBody:Ps,beforeFooter:Ps,footer:Ps,afterFooter:Ps};function Dn(n,t,e,i){const a=n[t].call(e,i);return typeof a>"u"?xA[t].call(e,i):a}class kS extends Za{static positioners=zc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&e.options.animation&&i.animations,o=new oA(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=B6(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,a=Dn(i,"beforeTitle",this,t),o=Dn(i,"title",this,t),c=Dn(i,"afterTitle",this,t);let h=[];return h=ns(h,Ls(a)),h=ns(h,Ls(o)),h=ns(h,Ls(c)),h}getBeforeBody(t,e){return NS(Dn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,a=[];return re(t,o=>{const c={before:[],lines:[],after:[]},h=OS(i,o);ns(c.before,Ls(Dn(h,"beforeLabel",this,o))),ns(c.lines,Dn(h,"label",this,o)),ns(c.after,Ls(Dn(h,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(t,e){return NS(Dn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,a=Dn(i,"beforeFooter",this,t),o=Dn(i,"footer",this,t),c=Dn(i,"afterFooter",this,t);let h=[];return h=ns(h,Ls(a)),h=ns(h,Ls(o)),h=ns(h,Ls(c)),h}_createItems(t){const e=this._active,i=this.chart.data,a=[],o=[],c=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(P6(this.chart,e[f]));return t.filter&&(h=h.filter((y,v,E)=>t.filter(y,v,E,i))),t.itemSort&&(h=h.sort((y,v)=>t.itemSort(y,v,i))),re(h,y=>{const v=OS(t.callbacks,y);a.push(Dn(v,"labelColor",this,y)),o.push(Dn(v,"labelPointStyle",this,y)),c.push(Dn(v,"labelTextColor",this,y))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const h=zc[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=IS(this,i),g=Object.assign({},h,f),y=DS(this.chart,i,g),v=MS(i,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,a){const o=this.getCaretPosition(t,i,a);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:y,bottomRight:v}=$c(h),{x:E,y:w}=t,{width:M,height:N}=e;let D,B,tt,J,at,et;return o==="center"?(at=w+N/2,a==="left"?(D=E,B=D-c,J=at+c,et=at-c):(D=E+M,B=D+c,J=at-c,et=at+c),tt=D):(a==="left"?B=E+Math.max(f,y)+c:a==="right"?B=E+M-Math.max(g,v)-c:B=this.caretX,o==="top"?(J=w,at=J-c,D=B-c,tt=B+c):(J=w+N,at=J+c,D=B+c,tt=B-c),et=J),{x1:D,x2:B,x3:tt,y1:J,y2:at,y3:et}}drawTitle(t,e,i){const a=this.title,o=a.length;let c,h,f;if(o){const g=el(i.rtl,this.x,this.width);for(t.x=gf(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",c=mn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(a[f],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,a,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,y=mn(o.bodyFont),v=gf(this,"left",o),E=a.x(v),w=f<y.lineHeight?(y.lineHeight-f)/2:0,M=e.y+w;if(o.usePointStyle){const N={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},D=a.leftForLtr(E,g)+g/2,B=M+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Yp(t,N,D,B),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Yp(t,N,D,B)}else{t.lineWidth=$t(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const N=a.leftForLtr(E,g),D=a.leftForLtr(a.xPlus(E,1),g-2),B=$c(c.borderRadius);Object.values(B).some(tt=>tt!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Kp(t,{x:N,y:M,w:g,h:f,radius:B}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Kp(t,{x:D,y:M+1,w:g-2,h:f-2,radius:B}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(N,M,g,f),t.strokeRect(N,M,g,f),t.fillStyle=c.backgroundColor,t.fillRect(D,M+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:y}=i,v=mn(i.bodyFont);let E=v.lineHeight,w=0;const M=el(i.rtl,this.x,this.width),N=function(A){e.fillText(A,M.x(t.x+w),t.y+E/2),t.y+=E+o},D=M.textAlign(c);let B,tt,J,at,et,nt,C;for(e.textAlign=c,e.textBaseline="middle",e.font=v.string,t.x=gf(this,D,i),e.fillStyle=i.bodyColor,re(this.beforeBody,N),w=h&&D!=="right"?c==="center"?g/2+y:g+2+y:0,at=0,nt=a.length;at<nt;++at){for(B=a[at],tt=this.labelTextColors[at],e.fillStyle=tt,re(B.before,N),J=B.lines,h&&J.length&&(this._drawColorBox(e,t,at,M,i),E=Math.max(v.lineHeight,f)),et=0,C=J.length;et<C;++et)N(J[et]),E=v.lineHeight;re(B.after,N)}w=0,E=v.lineHeight,re(this.afterBody,N),t.y-=o}drawFooter(t,e,i){const a=this.footer,o=a.length;let c,h;if(o){const f=el(i.rtl,this.x,this.width);for(t.x=gf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=mn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(a[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,a){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:g,height:y}=i,{topLeft:v,topRight:E,bottomLeft:w,bottomRight:M}=$c(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(h+v,f),c==="top"&&this.drawCaret(t,e,i,a),e.lineTo(h+g-E,f),e.quadraticCurveTo(h+g,f,h+g,f+E),c==="center"&&o==="right"&&this.drawCaret(t,e,i,a),e.lineTo(h+g,f+y-M),e.quadraticCurveTo(h+g,f+y,h+g-M,f+y),c==="bottom"&&this.drawCaret(t,e,i,a),e.lineTo(h+w,f+y),e.quadraticCurveTo(h,f+y,h,f+y-w),c==="center"&&o==="left"&&this.drawCaret(t,e,i,a),e.lineTo(h,f+v),e.quadraticCurveTo(h,f,h+v,f),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const c=zc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=IS(this,t),f=Object.assign({},c,this._size),g=DS(e,t,f),y=MS(t,f,g,e);(a._to!==y.x||o._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=fi(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,a,e),eA(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),nA(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,a=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!Xf(i,a),c=this._positionChanged(a,e);(o||c)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!Xf(c,o)||h;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:a,options:o}=this,c=zc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||a!==c.y)}}var F6={id:"tooltip",_element:kS,positioners:zc,afterInit(n,t,e){e&&(n.tooltip=new kS({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const H6=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function q6(n,t,e,i){const a=n.indexOf(t);if(a===-1)return H6(n,t,e,i);const o=n.lastIndexOf(t);return a!==o?e:a}const G6=(n,t)=>n===null?null:li(Math.round(n),0,t);function PS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Y6 extends bl{static id="category";static defaults={ticks:{callback:PS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:a,label:o}of e)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(he(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:q6(i,t,Kt(e,t),this._addedLabels),G6(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)a.push({value:c});return a}getLabelForValue(t){return PS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function K6(n,t){const e=[],{bounds:a,step:o,min:c,max:h,precision:f,count:g,maxTicks:y,maxDigits:v,includeBounds:E}=n,w=o||1,M=y-1,{min:N,max:D}=t,B=!he(c),tt=!he(h),J=!he(g),at=(D-N)/(v+1);let et=kE((D-N)/M/w)*w,nt,C,A,I;if(et<1e-14&&!B&&!tt)return[{value:N},{value:D}];I=Math.ceil(D/et)-Math.floor(N/et),I>M&&(et=kE(I*et/M/w)*w),he(f)||(nt=Math.pow(10,f),et=Math.ceil(et*nt)/nt),a==="ticks"?(C=Math.floor(N/et)*et,A=Math.ceil(D/et)*et):(C=N,A=D),B&&tt&&o&&fV((h-c)/o,et/1e3)?(I=Math.round(Math.min((h-c)/et,y)),et=(h-c)/I,C=c,A=h):J?(C=B?c:C,A=tt?h:A,I=g-1,et=(A-C)/I):(I=(A-C)/et,Yc(I,Math.round(I),et/1e3)?I=Math.round(I):I=Math.ceil(I));const P=Math.max(PE(et),PE(C));nt=Math.pow(10,he(f)?P:f),C=Math.round(C*nt)/nt,A=Math.round(A*nt)/nt;let k=0;for(B&&(E&&C!==c?(e.push({value:c}),C<c&&k++,Yc(Math.round((C+k*et)*nt)/nt,c,VS(c,at,n))&&k++):C<c&&k++);k<I;++k){const L=Math.round((C+k*et)*nt)/nt;if(tt&&L>h)break;e.push({value:L})}return tt&&E&&A!==h?e.length&&Yc(e[e.length-1].value,h,VS(h,at,n))?e[e.length-1].value=h:e.push({value:h}):(!tt||A===h)&&e.push({value:A}),e}function VS(n,t,{horizontal:e,minRotation:i}){const a=Va(i),o=(e?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class Q6 extends bl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return he(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=e?a:f,h=f=>o=i?o:f;if(t){const f=ul(a),g=ul(o);f<0&&g<0?h(0):f>0&&g>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=K6(a,o);return t.bounds==="ticks"&&dV(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const a=(i-e)/Math.max(t.length-1,1)/2;e-=a,i+=a}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Yx(t,this.chart.options.locale,this.options.ticks.format)}}class $6 extends Q6{static id="linear";static defaults={ticks:{callback:Kx.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=yn(t)?t:0,this.max=yn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Va(this.options.ticks.minRotation),a=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const kd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kn=Object.keys(kd);function LS(n,t){return n-t}function zS(n,t){if(he(t))return null;const e=n._adapter,{parser:i,round:a,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),yn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(a&&(c=a==="week"&&(au(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,a)),+c)}function US(n,t,e,i){const a=kn.length;for(let o=kn.indexOf(n);o<a-1;++o){const c=kd[kn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return kn[o]}return kn[a-1]}function X6(n,t,e,i,a){for(let o=kn.length-1;o>=kn.indexOf(e);o--){const c=kn[o];if(kd[c].common&&n._adapter.diff(a,i,c)>=t-1)return c}return kn[e?kn.indexOf(e):0]}function W6(n){for(let t=kn.indexOf(n)+1,e=kn.length;t<e;++t)if(kd[kn[t]].common)return kn[t]}function jS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:a}=Jy(e,t),o=e[i]>=t?e[i]:e[a];n[o]=!0}}function Z6(n,t,e,i){const a=n._adapter,o=+a.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+a.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function BS(n,t,e){const i=[],a={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],a[h]=c,i.push({value:h,major:!1});return o===0||!e?i:Z6(n,i,a,e)}class FS extends bl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),a=this._adapter=new FL._date(t.adapters.date);a.init(e),Gc(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:zS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(g){!c&&!isNaN(g.min)&&(a=Math.min(a,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=yn(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),o=yn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,h=vV(a,o,c);return this._unit=e.unit||(i.autoSkip?US(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):X6(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:W6(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),BS(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=li(e,0,c),i=li(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,a=this.options,o=a.time,c=o.unit||US(o.minUnit,e,i,this._getLabelCapacity(e)),h=Kt(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,g=au(f)||f===!0,y={};let v=e,E,w;if(g&&(v=+t.startOf(v,"isoWeek",f)),v=+t.startOf(v,g?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const M=a.ticks.source==="data"&&this.getDataTimestamps();for(E=v,w=0;E<i;E=+t.add(E,h,c),w++)jS(y,E,M);return(E===i||a.bounds==="ticks"||w===1)&&jS(y,E,M),Object.keys(y).sort(LS).map(N=>+N)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,o=this._unit,c=e||a[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,a){const o=this.options,c=o.ticks.callback;if(c)return me(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,y=f&&h[f],v=g&&h[g],E=i[e],w=g&&v&&E&&E.major;return this._adapter.format(t,a||(w?v:y))}generateTickLabels(t){let e,i,a;for(e=0,i=t.length;e<i;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,a=Va(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(a),c=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,a=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,BS(this,[t],this._majorUnit),a),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,i=a.length;e<i;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const a=this.getLabels();for(e=0,i=a.length;e<i;++e)t.push(zS(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return TV(t.sort(LS))}}function mf(n,t,e){let i=0,a=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[a].pos&&({lo:i,hi:a}=La(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[a]):(t>=n[i].time&&t<=n[a].time&&({lo:i,hi:a}=La(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[a]);const g=c-o;return g?h+(f-h)*(t-o)/g:h}class c3 extends FS{static id="timeseries";static defaults=FS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=mf(e,this.min),this._tableRange=mf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,a=[],o=[];let c,h,f,g,y;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=i&&a.push(g);if(a.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=a.length;c<h;++c)y=a[c+1],f=a[c-1],g=a[c],Math.round((y+f)/2)!==g&&o.push({time:g,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(mf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return mf(this._table,i*this._tableRange+this._minPos,!0)}}const AA="label";function HS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function J6(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function CA(n,t){n.labels=t}function RA(n,t,e=AA){const i=[];n.datasets=t.map(a=>{const o=n.datasets.find(c=>c[e]===a[e]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function t3(n,t=AA){const e={labels:[],datasets:[]};return CA(e,n.labels),RA(e,n.datasets,t),e}function e3(n,t){const{height:e=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:g=[],fallbackContent:y,updateMode:v,...E}=n,w=Yt.useRef(null),M=Yt.useRef(null),N=()=>{w.current&&(M.current=new Md(w.current,{type:c,data:t3(h,o),options:f&&{...f},plugins:g}),HS(t,M.current))},D=()=>{HS(t,null),M.current&&(M.current.destroy(),M.current=null)};return Yt.useEffect(()=>{!a&&M.current&&f&&J6(M.current,f)},[a,f]),Yt.useEffect(()=>{!a&&M.current&&CA(M.current.config.data,h.labels)},[a,h.labels]),Yt.useEffect(()=>{!a&&M.current&&h.datasets&&RA(M.current.config.data,h.datasets,o)},[a,h.datasets]),Yt.useEffect(()=>{M.current&&(a?(D(),setTimeout(N)):M.current.update(v))},[a,f,h.labels,h.datasets,v]),Yt.useEffect(()=>{M.current&&(D(),setTimeout(N))},[c]),Yt.useEffect(()=>(N(),()=>D()),[]),R.jsx("canvas",{ref:w,role:"img",height:e,width:i,...E,children:y})}const n3=Yt.forwardRef(e3);function i3(n,t){return Md.register(t),Yt.forwardRef((e,i)=>R.jsx(n3,{...e,ref:i,type:n}))}const s3=i3("line",BL);Md.register(Y6,$6,a6,Nd,k6,F6,N6,A6);const r3={apiKey:"AIzaSyA8uPFsPH1VZZdipFPzt7UP0HLr8v2UwXk",authDomain:"mileage-tracker-295dd.firebaseapp.com",projectId:"mileage-tracker-295dd",storageBucket:"mileage-tracker-295dd.firebasestorage.app",messagingSenderId:"588006597070",appId:"1:588006597070:web:5401f79a85029ebdadcb9f",measurementId:"G-CDLJS02BC7"},l_=r1(r3);yD(l_);const Fo=zN(l_),ts=U4(l_),es=typeof __app_id<"u"?__app_id:"default-app-id",qS="https://script.google.com/macros/s/AKfycbwL-wlnEAmx530VZJEpS-uHQKwkir1TtxvuTZoPT8AQbCW6D63u3qoXtDMRicG1HYsCVA/exec";function a3(){const[n,t]=Yt.useState(null),[e,i]=Yt.useState(!0),[a,o]=Yt.useState([]),[c,h]=Yt.useState(null),[f,g]=Yt.useState([]),[y,v]=Yt.useState(!1),[E,w]=Yt.useState(!1),[M,N]=Yt.useState(null),D=Yt.useMemo(()=>a.find(st=>st.id===c)||null,[a,c]),[B,tt]=Yt.useState(!1),[J,at]=Yt.useState({show:!1,title:"",msg:"",type:"info"}),[et,nt]=Yt.useState(null),[C,A]=Yt.useState(null);Yt.useEffect(()=>{const st=AM(Fo,Tt=>{t(Tt),i(!1)});return()=>st()},[]),Yt.useEffect(()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(At=>{console.log("SW registered: ",At)}).catch(At=>{console.log("SW registration failed: ",At)})});const st=At=>{At.preventDefault(),N(At),console.log("Install prompt captured")};window.addEventListener("beforeinstallprompt",st);const pt=`data:image/svg+xml,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90"></text></svg>')}`,yt=document.querySelector("link[rel*='icon']")||document.createElement("link");if(yt.type="image/svg+xml",yt.rel="icon",yt.href=pt,document.getElementsByTagName("head")[0].appendChild(yt),!document.querySelector("link[rel='manifest']")){const ee=JSON.stringify({name:"Fuel Mileage Tracker",short_name:"FuelTrack",start_url:"/",display:"standalone",background_color:"#F8FAFC",theme_color:"#4F46E5",icons:[{src:pt,sizes:"192x192",type:"image/svg+xml"},{src:pt,sizes:"512x512",type:"image/svg+xml"}]}),fe=new Blob([ee],{type:"application/json"}),Ae=document.createElement("link");Ae.rel="manifest",Ae.href=URL.createObjectURL(fe),document.getElementsByTagName("head")[0].appendChild(Ae)}return()=>window.removeEventListener("beforeinstallprompt",st)},[]);const I=async()=>{if(M){M.prompt();const{outcome:st}=await M.userChoice;st==="accepted"&&N(null)}else P("Install App",`To install:
 Mobile: Tap Share/Menu  "Add to Home Screen"
 Desktop: Click the install icon in the browser address bar`,"info")};Yt.useEffect(()=>{if(!n){o([]),h(null);return}const st=wc(ts,"artifacts",es,"users",n.uid,"vehicles"),Tt=SE(st,pt=>{w(!0);const yt=pt.docs.map(At=>({id:At.id,...At.data()}));if(yt.length===0)L();else if(o(yt),!c||!yt.find(At=>At.id===c)){const At=yt.find(ee=>ee.name==="Primary Vehicle")||yt[0];h(At.id)}},pt=>{console.error("Vehicles listener error",pt),w(!1)});return()=>Tt()},[n]),Yt.useEffect(()=>{if(!n||!c){g([]);return}v(!0);const st=wc(ts,"artifacts",es,"users",n.uid,"vehicles",c,"trips"),Tt=SE(st,pt=>{const yt=pt.docs.map(fe=>({id:fe.id,...fe.data()}));yt.sort((fe,Ae)=>Ae.odo-fe.odo);const At=[...yt].sort((fe,Ae)=>fe.odo-Ae.odo),ee=yt.map(fe=>{const Ae=At.findIndex(Ce=>Ce.id===fe.id),Pn=Ae>0?At[Ae-1]:null;let ms=0,be=0;return Pn&&(ms=fe.odo-Pn.odo,fe.liters>0&&(be=ms/fe.liters)),{...fe,distance:ms,mileage:be}});g(ee),v(!1)},pt=>{console.error("Trips listener error",pt),v(!1)});return()=>Tt()},[n,c]);const P=(st,Tt,pt="info")=>{at({show:!0,title:st,msg:Tt,type:pt})},k=()=>at({...J,show:!1}),L=async()=>{try{await ep(wc(ts,"artifacts",es,"users",n.uid,"vehicles"),{name:"Primary Vehicle",fuelPrice:0,sheetUrl:"",createdAt:new Date().toISOString()})}catch(st){console.error("Error creating default vehicle",st)}},O=async st=>{st.preventDefault();const Tt=st.target.email.value,pt=st.target.password.value,yt=st.target.name?st.target.name.value:null;try{if(B){if(!yt)throw new Error("Name is required");const At=await bM(Fo,Tt,pt);await SM(At.user,{displayName:yt})}else await TM(Fo,Tt,pt)}catch(At){P("Authentication Failed",At.message,"error")}},Vt=async()=>{const st=new Us;try{await KM(Fo,st)}catch(Tt){console.error("Google Login Error",Tt),Tt.code==="auth/unauthorized-domain"?P("Domain Not Authorized",`Add ${window.location.hostname} to Authorized Domains in Firebase Console > Authentication > Settings.`,"error"):P("Login Failed",Tt.message,"error")}},Dt=async()=>{try{await pM(Fo)}catch(st){P("Login Failed",st.message,"error")}},Y=async()=>{await CM(Fo)},ot=async st=>{st.preventDefault();const Tt=st.target.vehicleName.value;if(Tt)try{const pt=await ep(wc(ts,"artifacts",es,"users",n.uid,"vehicles"),{name:Tt,fuelPrice:0,sheetUrl:"",createdAt:new Date().toISOString()});h(pt.id),nt(null),P("Success",`Switched to "${Tt}"`,"success")}catch{P("Error","Could not create vehicle","error")}},dt=async(st,Tt)=>{if(!(!n||!c))try{const pt=Ko(ts,"artifacts",es,"users",n.uid,"vehicles",c),yt={};st!==void 0&&(yt.fuelPrice=parseFloat(st)),Tt!==void 0&&(yt.sheetUrl=Tt),await EE(pt,yt),Tt?P("Success","Google Sheets connection saved."):st&&P("Success","Fuel price updated.")}catch(pt){console.error(pt),P("Error","Failed to save settings.","error")}},kt=async(st,Tt,pt)=>{D?.sheetUrl;const yt=D.sheetUrl||qS;if(!yt.includes("script.google.com"))return;const At={...st,vehicle:D.name,distance:Tt,mileage:pt,price:D.fuelPrice,userEmail:n.email||"guest",Date:st.date,Odo:st.odo,Amount:st.amount,Liters:st.liters,Distance:Tt,Mileage:pt,Price:D.fuelPrice};try{await fetch(yt,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(At)})}catch(ee){console.warn("Sheet sync error",ee)}},Pt=async st=>{if(st.preventDefault(),!D||D.fuelPrice<=0)return P("Configuration Missing","Please set the Fuel Price first.","warning");const Tt=st.target,pt=Tt.date.value,yt=parseFloat(Tt.odo.value),At=parseFloat(Tt.amount.value);if(isNaN(yt)||isNaN(At)||!pt)return P("Input Error","Please fill all fields correctly.","error");if(f.length>0&&yt<=f[0].odo)return P("Logic Error",`New odometer (${yt}) must be greater than previous (${f[0].odo}).`,"error");const ee=At/D.fuelPrice;let fe=0,Ae=0;f.length>0&&(fe=yt-f[0].odo,Ae=fe/ee);try{const Pn={date:pt,odo:yt,amount:At,liters:ee,createdAt:new Date().toISOString()};await ep(wc(ts,"artifacts",es,"users",n.uid,"vehicles",c,"trips"),Pn),kt(Pn,fe,Ae),Tt.reset(),Tt.date.value=new Date().toISOString().slice(0,10)}catch(Pn){P("Save Failed",Pn.message,"error")}},z=async st=>{try{await tp(Ko(ts,"artifacts",es,"users",n.uid,"vehicles",c,"trips",st)),nt(null)}catch{P("Error","Failed to delete trip.","error")}},X=async st=>{st.preventDefault();const Tt=C.id,pt=parseFloat(st.target.edit_odo.value),yt=parseFloat(st.target.edit_amount.value),At=st.target.edit_date.value,ee=yt/D.fuelPrice;try{await EE(Ko(ts,"artifacts",es,"users",n.uid,"vehicles",c,"trips",Tt),{odo:pt,amount:yt,date:At,liters:ee}),nt(null),A(null)}catch{P("Error","Update failed.","error")}},lt=async()=>{try{const st=f.map(Tt=>tp(Ko(ts,"artifacts",es,"users",n.uid,"vehicles",c,"trips",Tt.id)));await Promise.all(st),nt(null),P("Success","All data cleared for this vehicle.","success")}catch{P("Error","Failed to clear data.","error")}},ut=async()=>{if(a.length<=1)return P("Error","Cannot delete the only vehicle.","error");try{await tp(Ko(ts,"artifacts",es,"users",n.uid,"vehicles",c)),nt(null),P("Deleted","Vehicle profile removed.","success")}catch{P("Error","Delete failed","error")}},vt=()=>{if(f.length===0)return P("No Data","Nothing to export.");let st=`Date,Odo,Distance,Amount,Liters,Mileage
`;f.forEach(yt=>{st+=`${yt.date},${yt.odo},${yt.distance},${yt.amount},${yt.liters},${yt.mileage}
`});const Tt=new Blob([st],{type:"text/csv;charset=utf-8;"}),pt=document.createElement("a");pt.href=URL.createObjectURL(Tt),pt.download=`fuel_log_${D?.name||"export"}_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(pt),pt.click(),document.body.removeChild(pt)},bt=Yt.useMemo(()=>{const st=f.reduce((At,ee)=>At+ee.amount,0),Tt=f.reduce((At,ee)=>At+(ee.distance||0),0),pt=f.reduce((At,ee)=>At+ee.liters,0),yt=pt>0?Tt/pt:0;return{totalCost:st,totalDist:Tt,avgMileage:yt}},[f]),Ut=Yt.useMemo(()=>{const Tt=[...f].sort((pt,yt)=>new Date(pt.date)-new Date(yt.date)).filter(pt=>pt.mileage>0&&pt.mileage<150);return{labels:Tt.map(pt=>{const yt=new Date(pt.date);return`${yt.getDate()}/${yt.getMonth()+1}`}),datasets:[{label:"Mileage (km/L)",data:Tt.map(pt=>pt.mileage),borderColor:"#6366F1",backgroundColor:pt=>{const At=pt.chart.ctx.createLinearGradient(0,0,0,200);return At.addColorStop(0,"rgba(99, 102, 241, 0.4)"),At.addColorStop(1,"rgba(99, 102, 241, 0)"),At},tension:.4,fill:!0,pointBackgroundColor:"#fff",pointBorderColor:"#6366F1",pointRadius:4}]}},[f]),Ee=()=>J.show?R.jsx("div",{className:"fixed bottom-5 right-5 z-[100] animate-in slide-in-from-bottom-5 fade-in duration-300",children:R.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-2xl border border-slate-100 flex items-start gap-3 max-w-xs",children:[J.type==="error"?R.jsx(IP,{className:"h-6 w-6 text-rose-500 shrink-0"}):R.jsx("div",{className:"h-6 w-6 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center shrink-0",children:""}),R.jsxs("div",{children:[R.jsx("h4",{className:`text-sm font-bold ${J.type==="error"?"text-rose-600":"text-slate-800"}`,children:J.title}),R.jsx("p",{className:"text-xs text-slate-500 mt-1",children:J.msg})]}),R.jsx("button",{onClick:k,className:"text-slate-300 hover:text-slate-500",children:R.jsx(ip,{className:"h-4 w-4"})})]})}):null;return e?R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:R.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-indigo-100 border-t-indigo-600"})}):n?R.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20 font-sans selection:bg-indigo-100",children:[R.jsxs("div",{className:"max-w-5xl mx-auto p-4 sm:p-6 md:p-8 space-y-8",children:[R.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-2xl shadow-sm border border-slate-100 gap-4",children:[R.jsxs("div",{className:"flex items-center space-x-3 w-full md:w-auto",children:[R.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-violet-500 flex items-center justify-center text-white shadow-md shadow-indigo-200 shrink-0",children:R.jsx(np,{className:"h-6 w-6"})}),R.jsx("div",{className:"relative group",children:R.jsx("button",{onClick:()=>nt("vehicle-menu"),className:"flex items-center space-x-2 px-4 py-2 bg-slate-50 hover:bg-slate-100 rounded-xl transition border border-slate-200",children:R.jsxs("div",{className:"flex flex-col items-start",children:[R.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Current Vehicle"}),R.jsxs("span",{className:"text-sm font-bold text-slate-800 flex items-center gap-1",children:[D?D.name:"Loading...",R.jsx(uP,{className:"h-3 w-3 text-slate-400"})]})]})})})]}),R.jsxs("div",{className:"flex items-center space-x-3 w-full md:w-auto justify-end",children:[R.jsx("button",{onClick:I,title:"Install App",className:"p-2 text-slate-400 hover:text-indigo-500 hover:bg-indigo-50 rounded-lg transition-colors",children:R.jsx(xE,{className:"h-6 w-6"})}),R.jsx("button",{onClick:()=>nt("guide"),title:"Setup Guide",className:"p-2 text-slate-400 hover:text-indigo-500 hover:bg-indigo-50 rounded-lg transition-colors",children:R.jsx(fP,{className:"h-6 w-6"})}),R.jsx("button",{onClick:()=>nt("sheets"),title:"Google Sheets",className:`p-2 rounded-lg transition-colors ${D?.sheetUrl?"text-emerald-500 hover:bg-emerald-50":"text-slate-400 hover:text-emerald-500 hover:bg-emerald-50"}`,children:R.jsx(yP,{className:"h-6 w-6"})}),R.jsxs("div",{className:"hidden sm:flex items-center space-x-2 bg-slate-50 px-3 py-1.5 rounded-lg border border-slate-100",children:[R.jsx("span",{className:`w-2 h-2 rounded-full ${E?"bg-emerald-500":"bg-yellow-500 animate-pulse"}`}),R.jsx("span",{className:"text-xs font-semibold text-slate-500 truncate max-w-[100px]",children:n.isAnonymous?"Guest":n.displayName||n.email})]}),R.jsx("button",{onClick:Y,title:"Logout",className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-colors",children:R.jsx(EP,{className:"h-5 w-5"})})]})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[R.jsx(mp,{Icon:MP,color:"emerald",title:"Total Spent",value:`${bt.totalCost.toFixed(0)}`}),R.jsx(mp,{Icon:mP,color:"indigo",title:"Avg Mileage",value:bt.avgMileage.toFixed(2),sub:"km/L"}),R.jsx(mp,{Icon:bP,color:"blue",title:"Total Distance",value:bt.totalDist.toFixed(0),sub:"km"})]}),R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[R.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[R.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100 relative overflow-hidden",children:[R.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-50 rounded-full blur-2xl -mr-16 -mt-16 opacity-50"}),R.jsxs("div",{className:"relative z-10",children:[R.jsxs("div",{className:"flex justify-between items-start mb-4",children:[R.jsx("h2",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider flex items-center",children:"Fuel Settings"}),R.jsx("span",{className:"px-2 py-0.5 rounded-md bg-slate-100 text-slate-500 text-[10px] font-bold uppercase",children:D?.name})]}),R.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:R.jsxs("div",{className:"w-full",children:[R.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5 ml-1",children:"Current Fuel Price"}),R.jsxs("div",{className:"relative",children:[R.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-semibold",children:""}),R.jsx("input",{type:"number",step:"0.01",value:D?.fuelPrice||"",onChange:st=>dt(st.target.value,void 0),className:"w-full pl-8 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 transition-all font-semibold text-slate-800",placeholder:"0.00"})]})]})})]})]}),R.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-lg shadow-indigo-100/50 border border-slate-100 relative",children:[R.jsx("div",{className:"flex justify-between items-center mb-6",children:R.jsxs("h2",{className:"text-xl font-extrabold text-slate-800 flex items-center gap-2",children:[R.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-50 text-indigo-600 flex items-center justify-center",children:R.jsx(AE,{className:"h-5 w-5"})}),"New Log Entry"]})}),R.jsxs("form",{onSubmit:Pt,className:"space-y-5",children:[R.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 ml-1",children:"Date"}),R.jsx("input",{name:"date",type:"date",defaultValue:new Date().toISOString().slice(0,10),className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 transition-all text-slate-800 font-medium"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 ml-1",children:"Odometer (km)"}),R.jsx("input",{name:"odo",type:"number",placeholder:"e.g. 12500",className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 transition-all text-slate-800 font-medium"}),R.jsx("p",{className:"mt-1.5 text-xs font-semibold text-indigo-500 text-right",children:f.length>0?`Last: ${f[0].odo} km`:"No history"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 ml-1",children:"Amount Paid"}),R.jsxs("div",{className:"relative",children:[R.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:""}),R.jsx("input",{name:"amount",type:"number",step:"0.01",placeholder:"0.00",className:"w-full pl-8 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 transition-all text-slate-800 font-medium"})]})]}),R.jsx("button",{type:"submit",disabled:y,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-violet-600 text-white font-bold text-lg rounded-xl shadow-lg shadow-indigo-500/30 hover:shadow-indigo-500/40 hover:-translate-y-0.5 transition-all active:scale-[0.98]",children:y?"Processing...":"Add Entry"})]})]})]}),R.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[R.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-700 text-white p-8 rounded-3xl shadow-xl shadow-indigo-500/20 border border-white/10 relative overflow-hidden",children:[R.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 transform translate-x-4 -translate-y-4",children:R.jsx(np,{className:"h-32 w-32"})}),R.jsx("h2",{className:"text-sm font-bold text-indigo-100 uppercase tracking-widest mb-6 border-b border-white/20 pb-4 relative z-10",children:"Last Trip Analysis"}),f.length>0&&f[0].distance>=0?R.jsxs("div",{className:"space-y-6 relative z-10",children:[R.jsxs("div",{children:[R.jsxs("div",{className:"flex items-baseline gap-2",children:[R.jsx("p",{className:"text-5xl font-black tracking-tight",children:f[0].distance.toFixed(0)}),R.jsx("span",{className:"text-lg font-medium text-indigo-200",children:"km"})]}),R.jsx("p",{className:"text-xs font-bold text-indigo-300 uppercase tracking-wider mt-1",children:"Distance Traveled"})]}),R.jsxs("div",{children:[R.jsxs("div",{className:"flex items-baseline gap-2",children:[R.jsx("p",{className:"text-5xl font-black tracking-tight text-emerald-300",children:f[0].mileage.toFixed(2)}),R.jsx("span",{className:"text-lg font-medium text-emerald-200/80",children:"km/L"})]}),R.jsx("p",{className:"text-xs font-bold text-indigo-300 uppercase tracking-wider mt-1",children:"Fuel Efficiency"})]})]}):R.jsx("div",{className:"text-indigo-200 text-sm font-medium relative z-10",children:"Add a second trip to calculate your efficiency stats!"})]}),R.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100 flex flex-col h-64",children:[R.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Efficiency Trend"}),R.jsx("div",{className:"flex-grow relative w-full h-full",children:R.jsx(s3,{data:Ut,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{display:!1},y:{border:{display:!1},grid:{borderDash:[4,4],drawBorder:!1}}}}})})]})]})]}),R.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden",children:[R.jsxs("div",{className:"p-6 border-b border-slate-50 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[R.jsx("h2",{className:"text-lg font-extrabold text-slate-800",children:"History Log"}),R.jsx("div",{className:"flex space-x-2",children:R.jsx("button",{onClick:vt,className:"px-4 py-2 bg-slate-50 text-slate-600 text-xs font-bold uppercase tracking-wider rounded-lg hover:bg-slate-100 transition border border-slate-200",children:"Export CSV"})})]}),R.jsx("div",{className:"overflow-x-auto max-h-[500px]",children:R.jsxs("table",{className:"min-w-full divide-y divide-slate-100",children:[R.jsx("thead",{className:"bg-slate-50/80 backdrop-blur sticky top-0 z-10",children:R.jsxs("tr",{className:"text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:[R.jsx("th",{className:"px-6 py-4",children:"Date"}),R.jsx("th",{className:"px-6 py-4",children:"Odo"}),R.jsx("th",{className:"px-6 py-4",children:"Dist"}),R.jsx("th",{className:"px-6 py-4",children:"Cost"}),R.jsx("th",{className:"px-6 py-4",children:"Vol"}),R.jsx("th",{className:"px-6 py-4",children:"Eff"}),R.jsx("th",{className:"px-6 py-4"})]})}),R.jsx("tbody",{className:"bg-white divide-y divide-slate-50 text-sm font-medium text-slate-600",children:f.length===0?R.jsx("tr",{children:R.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-slate-400",children:"No trips recorded yet."})}):f.map(st=>R.jsxs("tr",{className:"hover:bg-slate-50 transition group",children:[R.jsx("td",{className:"px-6 py-4 text-slate-700 font-semibold",children:new Date(st.date).toLocaleDateString()}),R.jsx("td",{className:"px-6 py-4",children:st.odo.toFixed(0)}),R.jsx("td",{className:"px-6 py-4",children:st.distance>0?st.distance.toFixed(0):"-"}),R.jsxs("td",{className:"px-6 py-4 text-slate-900",children:["",st.amount.toFixed(0)]}),R.jsx("td",{className:"px-6 py-4",children:st.liters.toFixed(1)}),R.jsx("td",{className:"px-6 py-4",children:st.mileage>0?R.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-emerald-100 text-emerald-800",children:st.mileage.toFixed(2)}):"-"}),R.jsx("td",{className:"px-6 py-4 text-right",children:R.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[R.jsx("button",{onClick:()=>{A(st),nt("edit")},className:"p-1 text-slate-400 hover:text-indigo-600",children:R.jsx(wP,{className:"h-4 w-4"})}),R.jsx("button",{onClick:()=>{A(st),nt("delete")},className:"p-1 text-slate-400 hover:text-rose-500",children:R.jsx(CP,{className:"h-4 w-4"})})]})})]},st.id))})]})}),R.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100 flex justify-end",children:R.jsx("button",{onClick:()=>nt("clear"),className:"text-xs font-bold text-rose-400 hover:text-rose-600 transition uppercase tracking-wide",children:"Clear Database"})})]})]}),et==="vehicle-menu"&&R.jsx("div",{className:"fixed inset-0 bg-slate-900/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:R.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl max-w-sm w-full space-y-4",children:[R.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 pb-3",children:[R.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Select Vehicle"}),R.jsx("button",{onClick:()=>nt(null),children:R.jsx(ip,{className:"h-5 w-5 text-slate-400"})})]}),R.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.map(st=>R.jsxs("button",{onClick:()=>{h(st.id),nt(null)},className:`w-full flex items-center justify-between p-3 rounded-xl transition ${st.id===c?"bg-indigo-50 text-indigo-700 border border-indigo-100":"hover:bg-slate-50 text-slate-600 border border-transparent"}`,children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:`p-2 rounded-lg ${st.id===c?"bg-white":"bg-slate-100"}`,children:R.jsx(aP,{className:"h-5 w-5"})}),R.jsx("span",{className:"font-bold",children:st.name})]}),st.id===c&&R.jsx(lP,{className:"h-4 w-4"})]},st.id))}),R.jsxs("button",{onClick:()=>nt("add-vehicle"),className:"w-full py-3 border border-dashed border-slate-300 rounded-xl text-slate-500 font-bold text-sm hover:bg-slate-50 hover:text-indigo-600 hover:border-indigo-300 transition flex items-center justify-center gap-2",children:[R.jsx(AE,{className:"h-4 w-4"})," Add Another Vehicle"]}),a.length>1&&R.jsx("button",{onClick:()=>nt("delete-vehicle"),className:"w-full text-xs text-rose-400 hover:text-rose-600 py-2",children:"Delete Current Profile"})]})}),et==="add-vehicle"&&R.jsx("div",{className:"fixed inset-0 bg-slate-900/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:R.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl max-w-sm w-full space-y-6",children:[R.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"New Database"}),R.jsxs("form",{onSubmit:ot,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Vehicle Name"}),R.jsx("input",{name:"vehicleName",type:"text",placeholder:"e.g. Work Truck",className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 text-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]}),R.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[R.jsx("button",{type:"button",onClick:()=>nt("vehicle-menu"),className:"px-5 py-2.5 bg-slate-100 text-slate-600 font-bold rounded-xl",children:"Back"}),R.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-indigo-600 text-white font-bold rounded-xl shadow-lg",children:"Create"})]})]})]})}),et==="edit"&&C&&R.jsx("div",{className:"fixed inset-0 bg-slate-900/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:R.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl max-w-md w-full space-y-6",children:[R.jsx("h3",{className:"text-xl font-bold text-slate-800 border-b border-slate-100 pb-4",children:"Edit Entry"}),R.jsxs("form",{onSubmit:X,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Date"}),R.jsx("input",{name:"edit_date",type:"date",defaultValue:C.date,className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 text-slate-800"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Odometer"}),R.jsx("input",{name:"edit_odo",type:"number",defaultValue:C.odo,className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 text-slate-800"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Amount"}),R.jsx("input",{name:"edit_amount",type:"number",step:"0.01",defaultValue:C.amount,className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 text-slate-800"})]}),R.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[R.jsx("button",{type:"button",onClick:()=>nt(null),className:"px-5 py-2.5 bg-slate-100 text-slate-600 font-bold rounded-xl",children:"Cancel"}),R.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-indigo-600 text-white font-bold rounded-xl shadow-lg",children:"Update"})]})]})]})}),et==="delete"&&C&&R.jsx("div",{className:"fixed inset-0 bg-slate-900/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:R.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl max-w-sm w-full space-y-4",children:[R.jsx("h3",{className:"text-lg font-bold text-rose-600",children:"Delete Trip?"}),R.jsx("p",{className:"text-slate-600 text-sm",children:"Are you sure you want to remove this entry?"}),R.jsxs("div",{className:"flex justify-end space-x-3",children:[R.jsx("button",{onClick:()=>nt(null),className:"px-4 py-2 bg-slate-100 rounded-lg text-slate-700 font-bold text-sm",children:"Cancel"}),R.jsx("button",{onClick:()=>z(C.id),className:"px-4 py-2 bg-rose-500 rounded-lg text-white font-bold text-sm shadow-lg shadow-rose-500/30",children:"Delete"})]})]})}),et==="delete-vehicle"&&R.jsx("div",{className:"fixed inset-0 bg-slate-900/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:R.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl max-w-sm w-full space-y-4",children:[R.jsx("h3",{className:"text-lg font-bold text-rose-600",children:"Delete Vehicle?"}),R.jsxs("p",{className:"text-slate-600 text-sm",children:['This will delete "',D?.name,'" and all its logs. ',R.jsx("b",{children:"This cannot be undone."})]}),R.jsxs("div",{className:"flex justify-end space-x-3",children:[R.jsx("button",{onClick:()=>nt(null),className:"px-4 py-2 bg-slate-100 rounded-lg text-slate-700 font-bold text-sm",children:"Cancel"}),R.jsx("button",{onClick:()=>ut(),className:"px-4 py-2 bg-rose-500 rounded-lg text-white font-bold text-sm shadow-lg shadow-rose-500/30",children:"Delete Profile"})]})]})}),et==="clear"&&R.jsx("div",{className:"fixed inset-0 bg-slate-900/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:R.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl max-w-sm w-full space-y-4",children:[R.jsx("h3",{className:"text-lg font-bold text-rose-600",children:"Clear All Data?"}),R.jsxs("p",{className:"text-slate-600 text-sm",children:["This will permanently delete all logs for ",R.jsx("b",{children:D?.name}),"."]}),R.jsxs("div",{className:"flex justify-end space-x-3",children:[R.jsx("button",{onClick:()=>nt(null),className:"px-4 py-2 bg-slate-100 rounded-lg text-slate-700 font-bold text-sm",children:"Cancel"}),R.jsx("button",{onClick:lt,className:"px-4 py-2 bg-rose-500 rounded-lg text-white font-bold text-sm shadow-lg shadow-rose-500/30",children:"Confirm"})]})]})}),et==="sheets"&&R.jsx("div",{className:"fixed inset-0 bg-slate-900/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:R.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl max-w-md w-full space-y-6 relative",children:[R.jsx("h3",{className:"text-xl font-bold text-slate-800 border-b border-slate-100 pb-4",children:"Google Sheets Sync"}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:"Apps Script Webhook URL"}),R.jsx("input",{type:"text",defaultValue:D?.sheetUrl||"",onChange:st=>dt(void 0,st.target.value),placeholder:"https://script.google.com/...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 text-slate-600 focus:bg-white focus:outline-none focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 text-xs"}),R.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:"Paste your Web App URL here."})]}),R.jsx("div",{className:"flex justify-end space-x-3 pt-2",children:R.jsx("button",{onClick:()=>nt(null),className:"py-2.5 px-5 bg-slate-100 text-slate-600 font-bold text-sm rounded-xl",children:"Close"})})]})]})}),et==="guide"&&R.jsx("div",{className:"fixed inset-0 bg-slate-900/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:R.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[80vh] flex flex-col relative overflow-hidden",children:[R.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[R.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Setup Guide"}),R.jsx("button",{onClick:()=>nt(null),className:"p-2 rounded-full hover:bg-slate-200",children:R.jsx(ip,{className:"h-5 w-5 text-slate-500"})})]}),R.jsxs("div",{className:"p-8 overflow-y-auto space-y-8 text-slate-600 text-sm",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsx("h4",{className:"font-bold text-indigo-600",children:"1. Google Sheet Setup"}),R.jsxs("p",{children:["Create a sheet with headers: ",R.jsx("code",{className:"bg-slate-100 px-2 py-1 rounded",children:"Date | Odo | Distance | Amount | Liters | Mileage"})]})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("h4",{className:"font-bold text-indigo-600",children:"2. Apps Script"}),R.jsx("p",{children:"Extensions > Apps Script. Paste the code below. Deploy as Web App (Execute as: Me, Access: Anyone)."}),R.jsxs("div",{className:"bg-slate-800 text-emerald-400 p-4 rounded-xl font-mono text-xs overflow-x-auto",children:["function doPost(e) { ",R.jsx("br",{}),"var sheet = SpreadsheetApp.getActiveSpreadsheet().getActiveSheet();",R.jsx("br",{}),"var d = JSON.parse(e.postData.contents);",R.jsx("br",{}),"sheet.appendRow([new Date(), d.date, d.odo, d.distance, d.amount, d.liters, d.mileage]);",R.jsx("br",{}),'return ContentService.createTextOutput("Success");',R.jsx("br",{}),"}"]})]})]})]})}),R.jsx(Ee,{})]}):R.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:R.jsxs("div",{className:"max-w-md w-full bg-white/90 backdrop-blur-xl p-8 rounded-[2rem] shadow-xl border border-white/50 relative overflow-hidden",children:[R.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-indigo-100 rounded-full blur-3xl opacity-60"}),R.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-violet-100 rounded-full blur-3xl opacity-60"}),R.jsxs("div",{className:"relative z-10 text-center space-y-6",children:[R.jsx("div",{className:"flex justify-center",children:R.jsx("div",{className:"p-4 bg-gradient-to-br from-indigo-50 to-white rounded-2xl shadow-sm border border-indigo-50",children:R.jsx(np,{className:"h-10 w-10 text-indigo-600"})})}),R.jsxs("div",{children:[R.jsx("h1",{className:"text-3xl font-extrabold text-slate-900",children:"Mileage Manager"}),R.jsx("p",{className:"mt-2 text-slate-500",children:"Track your fuel efficiency and costs."})]}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("button",{onClick:Vt,className:"w-full flex justify-center items-center py-3.5 px-4 border border-slate-200 text-sm font-semibold rounded-xl text-slate-700 bg-white hover:bg-slate-50 transition-all",children:[R.jsx("img",{className:"h-5 w-5 mr-3",src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google"}),"Continue with Google"]}),R.jsxs("div",{className:"relative py-2",children:[R.jsx("div",{className:"absolute inset-0 flex items-center",children:R.jsx("div",{className:"w-full border-t border-slate-100"})}),R.jsx("div",{className:"relative flex justify-center text-xs uppercase tracking-wider font-semibold",children:R.jsx("span",{className:"px-3 bg-white text-slate-400",children:"Or with Email"})})]}),R.jsxs("form",{onSubmit:O,className:"space-y-4 text-left",children:[B&&R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-semibold text-slate-500 ml-1 mb-1",children:"Full Name"}),R.jsx("input",{name:"name",type:"text",className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"John Doe",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-semibold text-slate-500 ml-1 mb-1",children:"Email"}),R.jsx("input",{name:"email",type:"email",className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"name@example.com",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-semibold text-slate-500 ml-1 mb-1",children:"Password"}),R.jsx("input",{name:"password",type:"password",className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"",required:!0})]}),R.jsx("button",{type:"submit",className:"w-full py-3.5 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition shadow-lg shadow-indigo-200",children:B?"Register":"Sign In"})]}),R.jsxs("div",{className:"text-sm text-slate-500 pt-2",children:[B?"Already have an account? ":"Don't have an account? ",R.jsx("button",{onClick:()=>tt(!B),className:"font-bold text-indigo-600 hover:underline",children:B?"Login":"Register"})]}),R.jsx("button",{onClick:Dt,className:"text-xs font-medium text-slate-400 hover:text-indigo-500 transition-colors",children:"Continue as Guest (Limited Access)"}),R.jsxs("button",{onClick:I,className:"flex items-center justify-center w-full mt-4 py-2 text-xs font-bold text-indigo-500 bg-indigo-50 hover:bg-indigo-100 rounded-lg transition-colors gap-2",children:[R.jsx(xE,{className:"h-4 w-4"}),"Install App"]})]})]}),R.jsx(Ee,{})]})})}const mp=({Icon:n,color:t,title:e,value:i,sub:a})=>{const o={emerald:{bg:"bg-emerald-50",text:"text-emerald-600"},indigo:{bg:"bg-indigo-50",text:"text-indigo-600"},blue:{bg:"bg-blue-50",text:"text-blue-600"}},c=o[t]||o.indigo;return R.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100 flex items-center space-x-4 hover:-translate-y-1 transition-transform duration-300",children:[R.jsx("div",{className:`p-3 rounded-2xl ${c.bg} ${c.text}`,children:R.jsx(n,{className:"h-6 w-6"})}),R.jsxs("div",{children:[R.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:e}),R.jsxs("p",{className:"text-2xl font-extrabold text-slate-800 mt-0.5",children:[i," ",R.jsx("span",{className:"text-sm font-semibold text-slate-400",children:a})]})]})]})};gC.createRoot(document.getElementById("root")).render(R.jsx(Yt.StrictMode,{children:R.jsx(a3,{})}));
